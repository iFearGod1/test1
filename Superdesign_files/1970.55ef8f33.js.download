/*! For license information please see 1970.55ef8f33.js.LICENSE.txt */
(self.webpackChunkdesign_platform_frontend=self.webpackChunkdesign_platform_frontend||[]).push([["1970"],{23125:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regionAPIs=void 0,t.regionAPIs=new Map([["us","https://api-iam.intercom.io"],["eu","https://api-iam.eu.intercom.io"],["ap","https://api-iam.au.intercom.io"]])},70592:function(e,t,i){"use strict";var r=this&&this.__rest||function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]]);return i};Object.defineProperty(t,"__esModule",{value:!0}),t.hideNotifications=t.onUserEmailSupplied=t.showConversation=t.showTicket=t.startChecklist=t.startSurvey=t.showNews=t.showArticle=t.startTour=t.whoami=t.getVisitorId=t.trackEvent=t.onUnreadCountChange=t.onShow=t.onHide=t.showNewMessage=t.showMessages=t.showSpace=t.show=t.hide=t.update=t.shutdown=t.boot=t.Intercom=void 0;let s=i(23125),n=i(90243),a=(e,...t)=>{if(window.Intercom)return window.Intercom(e,...t);console.warn("Please ensure Intercom is setup and running on client-side!")};t.Intercom=e=>{if("object"!=typeof e)return void console.warn("Intercom initialiser called with invalid parameters.");let{region:t="us",widgetUrl:i}=e,a=r(e,["region","widgetUrl"]);"undefined"==typeof window||n.ref||(window.intercomSettings=Object.assign(Object.assign({},a),{api_base:s.regionAPIs.get(t)}),(0,n.init)({widgetUrl:i}))},t.default=t.Intercom,t.boot=e=>a("boot",e),t.shutdown=()=>a("shutdown"),t.update=e=>a("update",e),t.hide=()=>a("hide"),t.show=()=>a("show"),t.showSpace=e=>a("showSpace",e),t.showMessages=()=>a("showMessages"),t.showNewMessage=e=>a("showNewMessage",e),t.onHide=e=>a("onHide",e),t.onShow=e=>a("onShow",e),t.onUnreadCountChange=e=>a("onUnreadCountChange",e),t.trackEvent=(...e)=>a("trackEvent",...e),t.getVisitorId=()=>a("getVisitorId"),t.whoami=()=>a("whoami"),t.startTour=e=>a("startTour",e),t.showArticle=e=>a("showArticle",e),t.showNews=e=>a("showNews",e),t.startSurvey=e=>a("startSurvey",e),t.startChecklist=e=>a("startChecklist",e),t.showTicket=e=>a("showTicket",e),t.showConversation=e=>a("showConversation",e),t.onUserEmailSupplied=e=>a("onUserEmailSupplied",e),t.hideNotifications=e=>a("hideNotifications",e)},90243:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ref=t.init=void 0;let r="_intercom_npm_loader",s=function(){s.loaderQueue(arguments)};s.q=[],s.loaderQueue=function(e){s.q.push(e)};let n=function(e){var t,i,s=document;if(!s.getElementById(r)){var n=s.createElement("script");n.type="text/javascript",n.async=!0,n.id=r,n.src=e||"https://widget.intercom.io/widget/"+(null==(t=window.intercomSettings)?void 0:t.app_id);var a=s.getElementsByTagName("script")[0];null==(i=a.parentNode)||i.insertBefore(n,a)}},a=()=>"complete"===document.readyState||"interactive"===document.readyState;t.init=(...e)=>i(void 0,[...e],void 0,function*(e={}){var t=window,i=t.Intercom;t.intercomSettings&&(t.intercomSettings.installation_type="npm-package"),"function"==typeof i?(i("reattach_activator"),i("update",t.intercomSettings)):(t.Intercom=s,a()?n(e.widgetUrl):(document.addEventListener("readystatechange",function(){a()&&n(e.widgetUrl)}),t.attachEvent?t.attachEvent("onload",()=>n(e.widgetUrl)):t.addEventListener("load",()=>n(e.widgetUrl),!1)))}),t.ref=void 0},77290:function(){},80624:function(){},86731:function(){},57856:function(){},39164:function(e,t,i){"use strict";i.r(t),i.d(t,{Headers:()=>a,Request:()=>o,Response:()=>l,default:()=>n,fetch:()=>s});var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw Error("unable to locate global object")}();let s=r.fetch,n=r.fetch.bind(r),a=r.Headers,o=r.Request,l=r.Response},24834:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(39164)),n=r(i(45999));t.default=class{constructor(e){var t,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!=(t=e.shouldThrowOnError)&&t,this.signal=e.signal,this.isMaybeSingle=null!=(i=e.isMaybeSingle)&&i,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let i=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,i,r,s;let a=null,o=null,l=null,u=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){let i=await e.text();""===i||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null==(t=this.headers.get("Accept"))?void 0:t.includes("application/vnd.pgrst.plan+text"))?i:JSON.parse(i))}let s=null==(i=this.headers.get("Prefer"))?void 0:i.match(/count=(exact|planned|estimated)/),n=null==(r=e.headers.get("content-range"))?void 0:r.split("/");s&&n&&n.length>1&&(l=parseInt(n[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,u=200,c="OK")}catch(i){404===e.status&&""===t?(u=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null==(s=null==a?void 0:a.details)?void 0:s.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&this.shouldThrowOnError)throw new n.default(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(e=>{var t,i,r;return{error:{message:`${null!=(t=null==e?void 0:e.name)?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!=(i=null==e?void 0:e.stack)?i:""}`,hint:"",code:`${null!=(r=null==e?void 0:e.code)?r:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}}},95710:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(38542)),n=r(i(26900));class a{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=r}from(e){let t=new URL(`${this.url}/${e}`);return new s.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:r=!1,count:s}={}){var a;let o,l,u=new URL(`${this.url}/rpc/${e}`);i||r?(o=i?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{u.searchParams.append(e,t)})):(o="POST",l=t);let c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new n.default({method:o,url:u,headers:c,schema:this.schemaName,body:l,fetch:null!=(a=this.fetch)?a:fetch})}}t.default=a},45999:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}},26900:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(96890));class n extends s.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let i=Array.from(new Set(t)).map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");let n=void 0===i?"":`(${i})`;return this.url.searchParams.append(e,`${s}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){let r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}}t.default=n},38542:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(26900));t.default=class{constructor(e,{headers:t={},schema:i,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=i,this.fetch=r}select(e,t){let{head:i=!1,count:r}=null!=t?t:{},n=!1,a=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new s.default({method:i?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:i=!0}={}){var r;if(t&&this.headers.append("Prefer",`count=${t}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(r=this.fetch)?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:r,defaultToNull:n=!0}={}){var a;if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(a=this.fetch)?a:fetch})}update(e,{count:t}={}){var i;return t&&this.headers.append("Prefer",`count=${t}`),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(i=this.fetch)?i:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!=(t=this.fetch)?t:fetch})}}},96890:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(24834));class n extends s.default{select(e){let t=!1,i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:r,referencedTable:s=r}={}){let n=s?`${s}.order`:"order",a=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===i?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){let r=void 0===i?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:r=i}={}){let s=void 0===r?"offset":`${r}.offset`,n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(n,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:s=!1,format:n="text"}={}){var a;let o=[e?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!=(a=this.headers.get("Accept"))?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}t.default=n},97472:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;let s=r(i(95710));t.PostgrestClient=s.default;let n=r(i(38542));t.PostgrestQueryBuilder=n.default;let a=r(i(26900));t.PostgrestFilterBuilder=a.default;let o=r(i(96890));t.PostgrestTransformBuilder=o.default;let l=r(i(24834));t.PostgrestBuilder=l.default;let u=r(i(45999));t.PostgrestError=u.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default}},4377:function(e,t,i){"use strict";i.d(t,{U:()=>tJ});class r extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class s extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class n extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(N=q||(q={})).Any="any",N.ApNortheast1="ap-northeast-1",N.ApNortheast2="ap-northeast-2",N.ApSouth1="ap-south-1",N.ApSoutheast1="ap-southeast-1",N.ApSoutheast2="ap-southeast-2",N.CaCentral1="ca-central-1",N.EuCentral1="eu-central-1",N.EuWest1="eu-west-1",N.EuWest2="eu-west-2",N.EuWest3="eu-west-3",N.SaEast1="sa-east-1",N.UsEast1="us-east-1",N.UsWest1="us-west-1",N.UsWest2="us-west-2";class o{constructor(e,{headers:t={},customFetch:r,region:s=q.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(i.bind(i,39164)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){var t,i,r,o;return t=this,i=arguments,r=void 0,o=function*(e,t={}){var i;try{let r,{headers:o,method:l,body:u,signal:c}=t,h={},{region:d}=t;d||(d=this.region);let p=new URL(`${this.url}/${e}`);d&&"any"!==d&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d)),u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&("undefined"!=typeof Blob&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",r=u):"string"==typeof u?(h["Content-Type"]="text/plain",r=u):"undefined"!=typeof FormData&&u instanceof FormData?r=u:(h["Content-Type"]="application/json",r=JSON.stringify(u)));let f=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:r,signal:c}).catch(e=>{if("AbortError"===e.name)throw e;throw new s(e)}),g=f.headers.get("x-relay-error");if(g&&"true"===g)throw new n(f);if(!f.ok)throw new a(f);let m=(null!=(i=f.headers.get("Content-Type"))?i:"text/plain").split(";")[0].trim();return{data:"application/json"===m?yield f.json():"application/octet-stream"===m?yield f.blob():"text/event-stream"===m?f:"multipart/form-data"===m?yield f.formData():yield f.text(),error:null,response:f}}catch(e){if(e instanceof Error&&"AbortError"===e.name)return{data:null,error:new s(e)};return{data:null,error:e,response:e instanceof a||e instanceof n?e.context:void 0}}},new(r||(r=Promise))(function(e,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof r?i:new r(function(e){e(i)})).then(n,a)}l((o=o.apply(t,i||[])).next())})}}let{PostgrestClient:l,PostgrestQueryBuilder:u,PostgrestFilterBuilder:c,PostgrestTransformBuilder:h,PostgrestBuilder:d,PostgrestError:p}=i(97472),f=class{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==i.g&&void 0!==i.g.WebSocket)return{type:"native",constructor:i.g.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null==(e=navigator.userAgent)?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){let e=process.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}};(X=V||(V={}))[X.connecting=0]="connecting",X[X.open=1]="open",X[X.closing=2]="closing",X[X.closed=3]="closed",(Z=B||(B={})).closed="closed",Z.errored="errored",Z.joined="joined",Z.joining="joining",Z.leaving="leaving",(ee=W||(W={})).close="phx_close",ee.error="phx_error",ee.join="phx_join",ee.reply="phx_reply",ee.leave="phx_leave",ee.access_token="access_token",(H||(H={})).websocket="websocket",(et=G||(G={})).Connecting="connecting",et.Open="open",et.Closing="closing",et.Closed="closed";class g{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){let r=t.getUint8(1),s=t.getUint8(2),n=this.HEADER_LENGTH+2,a=i.decode(e.slice(n,n+r));n+=r;let o=i.decode(e.slice(n,n+s));return n+=s,{ref:null,topic:a,event:o,payload:JSON.parse(i.decode(e.slice(n,e.byteLength)))}}}class m{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(ei=z||(z={})).abstime="abstime",ei.bool="bool",ei.date="date",ei.daterange="daterange",ei.float4="float4",ei.float8="float8",ei.int2="int2",ei.int4="int4",ei.int4range="int4range",ei.int8="int8",ei.int8range="int8range",ei.json="json",ei.jsonb="jsonb",ei.money="money",ei.numeric="numeric",ei.oid="oid",ei.reltime="reltime",ei.text="text",ei.time="time",ei.timestamp="timestamp",ei.timestamptz="timestamptz",ei.timetz="timetz",ei.tsrange="tsrange",ei.tstzrange="tstzrange";let v=(e,t,i={})=>{var r;let s=null!=(r=i.skipTypes)?r:[];return t?Object.keys(t).reduce((i,r)=>(i[r]=y(r,e,t,s),i),{}):{}},y=(e,t,i,r)=>{let s=t.find(t=>t.name===e),n=null==s?void 0:s.type,a=i[e];return n&&!r.includes(n)?_(n,a):b(a)},_=(e,t)=>{if("_"===e.charAt(0))return x(t,e.slice(1,e.length));switch(e){case z.bool:return w(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return S(t);case z.json:case z.jsonb:return E(t);case z.timestamp:return k(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:default:return b(t)}},b=e=>e,w=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},S=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},E=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},x=(e,t)=>{if("string"!=typeof e)return e;let i=e.length-1,r=e[i];if("{"===e[0]&&"}"===r){let r,s=e.slice(1,i);try{r=JSON.parse("["+s+"]")}catch(e){r=s?s.split(","):[]}return r.map(e=>_(t,e))}return e},k=e=>"string"==typeof e?e.replace(" ","T"):e,T=e=>{let t=e;return(t=(t=t.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")+"/api/broadcast"};class P{constructor(e,t,i={},r=1e4){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t(null==(i=this.receivedResp)?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(er=K||(K={})).SYNC="sync",er.JOIN="join",er.LEAVE="leave";class O{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},e=>{let{onJoin:t,onLeave:i,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=O.syncState(this.state,e,t,i),this.pendingDiffs.forEach(e=>{this.state=O.syncDiff(this.state,e,t,i)}),this.pendingDiffs=[],r()}),this.channel._on(i.diff,{},e=>{let{onJoin:t,onLeave:i,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=O.syncDiff(this.state,e,t,i),r())}),this.onJoin((e,t,i)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:i})}),this.onLeave((e,t,i)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){let s=this.cloneDeep(e),n=this.transformState(t),a={},o={};return this.map(s,(e,t)=>{n[e]||(o[e]=t)}),this.map(n,(e,t)=>{let i=s[e];if(i){let r=t.map(e=>e.presence_ref),s=i.map(e=>e.presence_ref),n=t.filter(e=>0>s.indexOf(e.presence_ref)),l=i.filter(e=>0>r.indexOf(e.presence_ref));n.length>0&&(a[e]=n),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(s,{joins:a,leaves:o},i,r)}static syncDiff(e,t,i,r){let{joins:s,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;let n=null!=(s=e[t])?s:[];if(e[t]=this.cloneDeep(r),n.length>0){let i=e[t].map(e=>e.presence_ref),r=n.filter(e=>0>i.indexOf(e.presence_ref));e[t].unshift(...r)}i(t,n,r)}),this.map(n,(t,i)=>{let s=e[t];if(!s)return;let n=i.map(e=>e.presence_ref);s=s.filter(e=>0>n.indexOf(e.presence_ref)),e[t]=s,r(t,s,i),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,i)=>{let r=e[i];return"metas"in r?t[i]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(es=Q||(Q={})).ALL="*",es.INSERT="INSERT",es.UPDATE="UPDATE",es.DELETE="DELETE",(en=J||(J={})).BROADCAST="broadcast",en.PRESENCE="presence",en.POSTGRES_CHANGES="postgres_changes",en.SYSTEM="system",(ea=Y||(Y={})).SUBSCRIBED="SUBSCRIBED",ea.TIMED_OUT="TIMED_OUT",ea.CLOSED="CLOSED",ea.CHANNEL_ERROR="CHANNEL_ERROR";class A{constructor(e,t={config:{}},i){var r,s;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=B.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new P(this,W.join,this.params,this.timeout),this.rejoinTimer=new m(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=B.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=B.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this._on(W.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new O(this),this.broadcastEndpointURL=T(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(s=null==(r=this.params.config)?void 0:r.broadcast)?void 0:s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==B.closed){let{config:{broadcast:n,presence:a,private:o}}=this.params,l=null!=(r=null==(i=this.bindings.postgres_changes)?void 0:i.map(e=>e.filter))?r:[],u=!!this.bindings[J.PRESENCE]&&this.bindings[J.PRESENCE].length>0||(null==(s=this.params.config.presence)?void 0:s.enabled)===!0,c={},h={broadcast:n,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(Y.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Y.CLOSED)),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var i;if(this.socket.setAuth(),void 0===t){null==e||e(Y.SUBSCRIBED);return}{let r=this.bindings.postgres_changes,s=null!=(i=null==r?void 0:r.length)?i:0,n=[];for(let i=0;i<s;i++){let s=r[i],{filter:{event:a,schema:o,table:l,filter:u}}=s,c=t&&t[i];if(c&&c.event===a&&c.schema===o&&c.table===l&&c.filter===u)n.push(Object.assign(Object.assign({},s),{id:c.id}));else{this.unsubscribe(),this.state=B.errored,null==e||e(Y.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=n,e&&e(Y.SUBSCRIBED);return}}).receive("error",t=>{this.state=B.errored,null==e||e(Y.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Y.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===B.joined&&e===J.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(i=>{var r,s,n;let a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null==(n=null==(s=null==(r=this.params)?void 0:r.config)?void 0:s.broadcast)?void 0:n.ack)||i("ok"),a.receive("ok",()=>i("ok")),a.receive("error",()=>i("error")),a.receive("timeout",()=>i("timed out"))});{let{event:s,payload:n}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:n,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!=(i=t.timeout)?i:this.timeout);return await (null==(r=e.body)?void 0:r.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=B.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(W.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{(i=new P(this,W.leave,{},e)).receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{null==i||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=B.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){let r=new AbortController,s=setTimeout(()=>r.abort(),i),n=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),n}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new P(this,e,t,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,s;let n=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:u}=W;if(i&&[a,o,l,u].indexOf(n)>=0&&i!==this._joinRef())return;let c=this._onMessage(n,t,i);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null==(r=this.bindings.postgres_changes)||r.filter(e=>{var t,i,r;return(null==(t=e.filter)?void 0:t.event)==="*"||(null==(r=null==(i=e.filter)?void 0:i.event)?void 0:r.toLocaleLowerCase())===n}).map(e=>e.callback(c,i)):null==(s=this.bindings[n])||s.filter(e=>{var i,r,s,a,o,l;if(!["broadcast","presence","postgres_changes"].includes(n))return e.type.toLocaleLowerCase()===n;if("id"in e){let n=e.id,a=null==(i=e.filter)?void 0:i.event;return n&&(null==(r=t.ids)?void 0:r.includes(n))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null==(s=t.data)?void 0:s.type.toLocaleLowerCase()))}{let i=null==(o=null==(a=null==e?void 0:e.filter)?void 0:a.event)?void 0:o.toLocaleLowerCase();return"*"===i||i===(null==(l=null==t?void 0:t.event)?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof c&&"ids"in c){let e=c.data,{schema:t,table:i,commit_timestamp:r,type:s,errors:n}=e;c=Object.assign(Object.assign({},{schema:t,table:i,commit_timestamp:r,eventType:s,new:{},old:{},errors:n}),this._getPayloadRecords(e))}e.callback(c,i)})}_isClosed(){return this.state===B.closed}_isJoined(){return this.state===B.joined}_isJoining(){return this.state===B.joining}_isLeaving(){return this.state===B.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){let r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){let i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(e=>{var r;return!((null==(r=e.type)?void 0:r.toLocaleLowerCase())===i&&A.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(W.close,{},e)}_onError(e){this._on(W.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=B.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=v(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=v(e.columns,e.old_record)),t}}let C=()=>{},R=[1e3,2e3,5e3,1e4],I=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=C,this.ref=0,this.reconnectTimer=null,this.logger=C,this.conn=null,this.sendBuffer=[],this.serializer=new g,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(i.bind(i,39164)).then(({default:t})=>t(...e)).catch(e=>{throw Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null==(r=null==t?void 0:t.params)?void 0:r.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${H.websocket}`,this.httpEndpoint=T(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case V.connecting:return G.Connecting;case V.open:return G.Open;case V.closing:return G.Closing;default:return G.Closed}}isConnected(){return this.connectionState()===G.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let i=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===i);if(r)return r;{let i=new A(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){let{topic:t,event:i,payload:r,ref:s}=e,n=()=>{this.encode(e,e=>{var t;null==(t=this.conn)||t.send(e)})};this.log("push",`${t} ${i} (${s})`,r),this.isConnected()?n():this.sendBuffer.push(n)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null==(e=this.conn)||e.close(1e3,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null==(e=this.reconnectTimer)||e.scheduleTimeout()},100);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(e){this.log("error","error in heartbeat callback",e)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:t,event:i,payload:r,ref:s}=e,n=s?`(${s})`:"",a=r.status||"";this.log("receive",`${a} ${t} ${i} ${n}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(i,r,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null==(t=this.reconnectTimer)||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(t=this.reconnectTimer)||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(W.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([I],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t,version:"realtime-js/2.75.0"}),e.joinedOnce&&e._isJoined()&&e._push(W.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new m(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},10)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,r,s,n,a,o,l,u;if(this.transport=null!=(t=null==e?void 0:e.transport)?t:null,this.timeout=null!=(i=null==e?void 0:e.timeout)?i:1e4,this.heartbeatIntervalMs=null!=(r=null==e?void 0:e.heartbeatIntervalMs)?r:25e3,this.worker=null!=(s=null==e?void 0:e.worker)&&s,this.accessToken=null!=(n=null==e?void 0:e.accessToken)?n:null,this.heartbeatCallback=null!=(a=null==e?void 0:e.heartbeatCallback)?a:C,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(o=null==e?void 0:e.reconnectAfterMs)?o:e=>R[e-1]||1e4,this.encode=null!=(l=null==e?void 0:e.encode)?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!=(u=null==e?void 0:e.decode)?u:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class $ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function M(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class D extends ${constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class F extends ${constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}let L=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(i.bind(i,39164)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},U=e=>{if(Array.isArray(e))return e.map(e=>U(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,i])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=U(i)}),t};var N,q,V,B,W,H,G,z,K,Q,J,Y,X,Z,ee,et,ei,er,es,en,ea,eo=function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};let el=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function eu(e,t,r,s,n,a){return eo(this,void 0,void 0,function*(){return new Promise((o,l)=>{let u;e(r,(u={method:t,headers:(null==s?void 0:s.headers)||{}},"GET"===t||!a?u:((e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(a)?(u.headers=Object.assign({"Content-Type":"application/json"},null==s?void 0:s.headers),u.body=JSON.stringify(a)):u.body=a,(null==s?void 0:s.duplex)&&(u.duplex=s.duplex),Object.assign(Object.assign({},u),n)))).then(e=>{if(!e.ok)throw e;return(null==s?void 0:s.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>eo(void 0,void 0,void 0,function*(){var t,r,n,a;let o=yield(t=void 0,r=void 0,n=void 0,a=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(i.bind(i,39164))).Response:Response},new(n||(n=Promise))(function(e,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof n?i:new n(function(e){e(i)})).then(s,o)}l((a=a.apply(t,r||[])).next())}));e instanceof o&&!(null==s?void 0:s.noResolveJson)?e.json().then(t=>{let i=e.status||500,r=(null==t?void 0:t.statusCode)||i+"";l(new D(el(t),i,r))}).catch(e=>{l(new F(el(e),e))}):l(new F(el(e),e))}))})})}function ec(e,t,i,r){return eo(this,void 0,void 0,function*(){return eu(e,"GET",t,i,r)})}function eh(e,t,i,r,s){return eo(this,void 0,void 0,function*(){return eu(e,"POST",t,r,s,i)})}function ed(e,t,i,r,s){return eo(this,void 0,void 0,function*(){return eu(e,"PUT",t,r,s,i)})}function ep(e,t,i,r,s){return eo(this,void 0,void 0,function*(){return eu(e,"DELETE",t,r,s,i)})}class ef{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){var e,t,i,r;return e=this,t=void 0,i=void 0,r=function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}},new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}}class eg{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new ef(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){var e,t,i,r;return e=this,t=void 0,i=void 0,r=function*(){try{let e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}},new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}}var em=function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};let ev={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ey={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e_{constructor(e,t={},i,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=L(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,r){return em(this,void 0,void 0,function*(){try{let s,n=Object.assign(Object.assign({},ey),r),a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)}),o=n.metadata;"undefined"!=typeof Blob&&i instanceof Blob?((s=new FormData).append("cacheControl",n.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",i)):"undefined"!=typeof FormData&&i instanceof FormData?((s=i).append("cacheControl",n.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=i,a["cache-control"]=`max-age=${n.cacheControl}`,a["content-type"]=n.contentType,o&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null==r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield("PUT"==e?ed:eh)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},(null==n?void 0:n.duplex)?{duplex:n.duplex}:{}));return{data:{path:l,id:c.Id,fullPath:c.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}upload(e,t,i){return em(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,r){return em(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),n=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${n}`);a.searchParams.set("token",t);try{let e,t=Object.assign({upsert:ey.upsert},r),n=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&i instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",i)):"undefined"!=typeof FormData&&i instanceof FormData?(e=i).append("cacheControl",t.cacheControl):(e=i,n["cache-control"]=`max-age=${t.cacheControl}`,n["content-type"]=t.contentType);let o=yield ed(this.fetch,a.toString(),e,{headers:n});return{data:{path:s,fullPath:o.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return em(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");let s=yield eh(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),n=new URL(this.url+s.url),a=n.searchParams.get("token");if(!a)throw new $("No token returned by API");return{data:{signedUrl:n.toString(),path:e,token:a},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}update(e,t,i){return em(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return em(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==i?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}copy(e,t,i){return em(this,void 0,void 0,function*(){try{return{data:{path:(yield eh(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==i?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,i){return em(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield eh(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==i?void 0:i.transform)?{transform:i.transform}:{}),{headers:this.headers}),n=(null==i?void 0:i.download)?`&download=${!0===i.download?"":i.download}`:"";return{data:s={signedUrl:encodeURI(`${this.url}${s.signedURL}${n}`)},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,i){return em(this,void 0,void 0,function*(){try{let r=yield eh(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==i?void 0:i.download)?`&download=${!0===i.download?"":i.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}download(e,t){let i=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"",n=this._getFinalPath(e);return new eg(()=>ec(this.fetch,`${this.url}/${i}/${n}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return em(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let e=yield ec(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:U(e),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}exists(e){return em(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield function(e,t,i,r){return eo(this,void 0,void 0,function*(){return eu(e,"HEAD",t,Object.assign(Object.assign({},i),{noResolveJson:!0}),void 0)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e)&&e instanceof F){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,t){let i=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);let n=void 0!==(null==t?void 0:t.transform),a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&r.push(a);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${n?"render/image":"object"}/public/${i}${o}`)}}}remove(e){return em(this,void 0,void 0,function*(){try{return{data:yield ep(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}list(e,t,i){return em(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},ev),t),{prefix:e||""});return{data:yield eh(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}listV2(e,t){return em(this,void 0,void 0,function*(){try{let i=Object.assign({},e);return{data:yield eh(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let eb={"X-Client-Info":"storage-js/2.75.0"};var ew=function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};class eS{constructor(e,t={},i,r){this.shouldThrowOnError=!1;const s=new URL(e);(null==r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eb),t),this.fetch=L(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ew(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}getBucket(e){return ew(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}createBucket(e){return ew(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield eh(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return ew(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}emptyBucket(e){return ew(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}deleteBucket(e){return ew(this,void 0,void 0,function*(){try{return{data:yield ep(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(M(e))return{data:null,error:e};throw e}})}}class eE extends eS{constructor(e,t={},i,r){super(e,t,i,r)}from(e){return new e_(this.url,this.headers,e,this.fetch)}}let ex="";ex="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let ek={headers:{"X-Client-Info":`supabase-js-${ex}/2.75.0`}},eT={schema:"public"},eP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eO={};var eA=i(39164);let eC="X-Supabase-Api-Version",eR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ej extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function e$(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class eM extends ej{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}class eD extends ej{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class eF extends ej{constructor(e,t,i,r){super(e,i,r),this.name=t,this.status=i}}class eL extends eF{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class eU extends eF{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eN extends eF{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class eq extends eF{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eV extends eF{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eB extends eF{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function eW(e){return e$(e)&&"AuthRetryableFetchError"===e.name}class eH extends eF{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class eG extends eF{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let ez="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eK=" 	\n\r=".split(""),eQ=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<eK.length;t+=1)e[eK[t].charCodeAt(0)]=-2;for(let t=0;t<ez.length;t+=1)e[ez[t].charCodeAt(0)]=t;return e})();function eJ(e,t,i){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)i(ez[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)i(ez[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function eY(e,t,i){let r=eQ[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===r)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function eX(e){let t=[],i=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},n=e=>{!function(e,t,i){if(0===t.utf8seq){if(e<=127)return i(e);for(let i=1;i<6;i+=1)if((e>>7-i&1)==0){t.utf8seq=i;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&i(t.codepoint)}}(e,r,i)};for(let t=0;t<e.length;t+=1)eY(e.charCodeAt(t),s,n);return t.join("")}function eZ(e){let t=[],i={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)eY(e.charCodeAt(t),i,r);return new Uint8Array(t)}function e0(e){let t=[],i={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>eJ(e,i,r)),eJ(null,i,r),t.join("")}let e1=()=>"undefined"!=typeof window&&"undefined"!=typeof document,e2={tested:!1,writable:!1},e3=()=>{if(!e1())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(e2.tested)return e2.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),e2.tested=!0,e2.writable=!0}catch(e){e2.tested=!0,e2.writable=!1}return e2.writable},e5=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(i.bind(i,39164)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},e6=async(e,t,i)=>{await e.setItem(t,JSON.stringify(i))},e4=async(e,t)=>{let i=await e.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch(e){return i}},e8=async(e,t)=>{await e.removeItem(t)};class e9{constructor(){this.promise=new e9.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function e7(e){let t=e.split(".");if(3!==t.length)throw new eG("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!eI.test(t[e]))throw new eG("JWT not in base64url format");return{header:JSON.parse(eX(t[0])),payload:JSON.parse(eX(t[1])),signature:eZ(t[2]),raw:{header:t[0],payload:t[1]}}}async function te(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tt(e){return("0"+e.toString(16)).substr(-2)}async function ti(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function tr(e){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e):btoa(await ti(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ts(e,t,i=!1){let r=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,i="";for(let r=0;r<56;r++)i+=e.charAt(Math.floor(Math.random()*t));return i}return crypto.getRandomValues(e),Array.from(e,tt).join("")}(),s=r;i&&(s+="/PASSWORD_RECOVERY"),await e6(e,`${t}-code-verifier`,s);let n=await tr(r),a=r===n?"plain":"s256";return[n,a]}e9.promiseConstructor=Promise;let tn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,ta=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function to(e){if(!ta.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tl(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tu(e){return JSON.parse(JSON.stringify(e))}var tc=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]]);return i};let th=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),td=[502,503,504];async function tp(e){var t;let i,r;if(!("object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json))throw new eB(th(e),0);if(td.includes(e.status))throw new eB(th(e),e.status);try{i=await e.json()}catch(e){throw new eD(th(e),e)}let s=function(e){let t=e.headers.get(eC);if(!t||!t.match(tn))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(s&&s.getTime()>=eR["2024-01-01"].timestamp&&"object"==typeof i&&i&&"string"==typeof i.code?r=i.code:"object"==typeof i&&i&&"string"==typeof i.error_code&&(r=i.error_code),r){if("weak_password"===r)throw new eH(th(i),e.status,(null==(t=i.weak_password)?void 0:t.reasons)||[]);else if("session_not_found"===r)throw new eL}else if("object"==typeof i&&i&&"object"==typeof i.weak_password&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new eH(th(i),e.status,i.weak_password.reasons);throw new eM(th(i),e.status||500,r)}async function tf(e,t,i,r){var s;let n=Object.assign({},null==r?void 0:r.headers);n[eC]||(n[eC]=eR["2024-01-01"].name),(null==r?void 0:r.jwt)&&(n.Authorization=`Bearer ${r.jwt}`);let a=null!=(s=null==r?void 0:r.query)?s:{};(null==r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await tg(e,t,i+o,{headers:n,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tg(e,t,i,r,s,n){let a,o,l=(o={method:t,headers:(null==r?void 0:r.headers)||{}},"GET"===t?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==r?void 0:r.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),s)));try{a=await e(i,Object.assign({},l))}catch(e){throw console.error(e),new eB(th(e),0)}if(a.ok||await tp(a),null==r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(e){await tp(e)}}function tm(e){var t,i,r;let s=null;(r=e).access_token&&r.refresh_token&&r.expires_in&&(s=Object.assign({},e),e.expires_at||(s.expires_at=(i=e.expires_in,Math.round(Date.now()/1e3)+i)));return{data:{session:s,user:null!=(t=e.user)?t:e},error:null}}function tv(e){let t=tm(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ty(e){var t;return{data:{user:null!=(t=e.user)?t:e},error:null}}function t_(e){return{data:e,error:null}}function tb(e){let{action_link:t,email_otp:i,hashed_token:r,redirect_to:s,verification_type:n}=e;return{data:{properties:{action_link:t,email_otp:i,hashed_token:r,redirect_to:s,verification_type:n},user:Object.assign({},tc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function tw(e){return e}let tS=["global","local","others"];var tE=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]]);return i};class tx{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=e5(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=tS["0"]){if(0>tS.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${tS.join(", ")}`);try{return await tf(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(e$(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await tf(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ty})}catch(e){if(e$(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,i=tE(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=null==i?void 0:i.newEmail,delete r.newEmail),await tf(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:tb,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(e$(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await tf(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ty})}catch(e){if(e$(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,i,r,s,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},u=await tf(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(i=null==(t=null==e?void 0:e.page)?void 0:t.toString())?i:"",per_page:null!=(s=null==(r=null==e?void 0:e.perPage)?void 0:r.toString())?s:""},xform:tw});if(u.error)throw u.error;let c=await u.json(),h=null!=(n=u.headers.get("x-total-count"))?n:0,d=null!=(o=null==(a=u.headers.get("link"))?void 0:a.split(","))?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),i=JSON.parse(e.split(";")[1].split("=")[1]);l[`${i}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(e$(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){to(e);try{return await tf(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ty})}catch(e){if(e$(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){to(e);try{return await tf(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ty})}catch(e){if(e$(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){to(e);try{return await tf(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ty})}catch(e){if(e$(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){to(e.userId);try{let{data:t,error:i}=await tf(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:i}}catch(e){if(e$(e))return{data:null,error:e};throw e}}async _deleteFactor(e){to(e.userId),to(e.id);try{return{data:await tf(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(e$(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,i,r,s,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},u=await tf(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(i=null==(t=null==e?void 0:e.page)?void 0:t.toString())?i:"",per_page:null!=(s=null==(r=null==e?void 0:e.perPage)?void 0:r.toString())?s:""},xform:tw});if(u.error)throw u.error;let c=await u.json(),h=null!=(n=u.headers.get("x-total-count"))?n:0,d=null!=(o=null==(a=u.headers.get("link"))?void 0:a.split(","))?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),i=JSON.parse(e.split(";")[1].split("=")[1]);l[`${i}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(e$(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await tf(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(e$(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await tf(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(e$(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await tf(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(e$(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await tf(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(e$(e))return{data:null,error:e};throw e}}}function tk(e={}){return{getItem:t=>e[t]||null,setItem:(t,i)=>{e[t]=i},removeItem:t=>{delete e[t]}}}let tT={debug:!!(globalThis&&e3()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class tP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tO extends tP{}async function tA(e,t,i){tT.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),tT.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(r){tT.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await i()}finally{tT.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}if(0===t)throw tT.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tT.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}))}function tC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class tR extends Error{constructor({message:e,code:t,cause:i,name:r}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=null!=(s=null!=r?r:i instanceof Error?i.name:void 0)?s:"Unknown Error",this.code=t}}class tI extends tR{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}var tj=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]]);return i};let t$=new class{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function tM(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function tD(){var e,t;return!!(e1()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(e=null==navigator?void 0:navigator.credentials)?void 0:e.create)&&"function"==typeof(null==(t=null==navigator?void 0:navigator.credentials)?void 0:t.get))}async function tF(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new tI("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new tI("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var i,r,s;let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new tR({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null==(i=n.authenticatorSelection)?void 0:i.requireResidentKey)===!0)return new tR({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});else if("conditional"===t.mediation&&(null==(r=n.authenticatorSelection)?void 0:r.userVerification)==="required")return new tR({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});else if((null==(s=n.authenticatorSelection)?void 0:s.userVerification)==="required")return new tR({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new tR({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new tR({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new tR(0===n.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!tM(t))return new tR({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rp.id!==t)return new tR({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new tR({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new tR({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new tR({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function tL(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new tI("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new tI("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new tR({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new tR({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!tM(t))return new tR({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(i.rpId!==t)return new tR({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new tR({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new tR({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let tU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tN={userVerification:"preferred",hints:["security-key"]};function tq(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),i=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(let s of e)if(s)for(let e in s){let n=s[e];if(void 0!==n)if(Array.isArray(n))r[e]=n;else if(i(n))r[e]=n;else if(t(n)){let i=r[e];t(i)?r[e]=tq(i,n):r[e]=tq(n)}else r[e]=n}return r}class tV{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:r},s){try{var n,a,o,l;let{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:c};let h=null!=r?r:t$.createNewAbortSignal();if("create"===u.webauthn.type){let{user:e}=u.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${i}`),e.displayName||(e.displayName=e.name)}switch(u.webauthn.type){case"create":{let t=(n=u.webauthn.credential_options.publicKey,a=null==s?void 0:s.create,tq(tU,n,a||{})),{data:i,error:r}=await tF({publicKey:t,signal:h});if(i)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:i}},error:null};return{data:null,error:r}}case"request":{let t=(o=u.webauthn.credential_options.publicKey,l=null==s?void 0:s.request,tq(tN,o,l||{})),{data:i,error:r}=await tL(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:t,signal:h}));if(i)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:i}},error:null};return{data:null,error:r}}}}catch(e){if(e$(e))return{data:null,error:e};return{data:null,error:new eD("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:i="undefined"!=typeof window?[window.location.origin]:void 0,signal:r}},s){if(!t)return{data:null,error:new ej("rpId is required for WebAuthn authentication")};try{if(!tD())return{data:null,error:new eD("Browser does not support WebAuthn",null)};let{data:n,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:r},{request:s});if(!n)return{data:null,error:a};let{webauthn:o}=n;return this._verify({factorId:e,challengeId:n.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:i,credential_response:o.credential_response}})}catch(e){if(e$(e))return{data:null,error:e};return{data:null,error:new eD("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:i="undefined"!=typeof window?[window.location.origin]:void 0,signal:r},s){if(!t)return{data:null,error:new ej("rpId is required for WebAuthn registration")};try{if(!tD())return{data:null,error:new eD("Browser does not support WebAuthn",null)};let{data:n,error:a}=await this._enroll({friendlyName:e});if(!n)return await this.client.mfa.listFactors().then(t=>{var i;return null==(i=t.data)?void 0:i.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:a};let{data:o,error:l}=await this._challenge({factorId:n.id,friendlyName:n.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:r},{create:s});if(!o)return{data:null,error:l};return this._verify({factorId:n.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:i,type:o.webauthn.type,credential_response:o.webauthn.credential_response}})}catch(e){if(e$(e))return{data:null,error:e};return{data:null,error:new eD("Unexpected error in register",e)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}let tB={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.75.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tW(e,t,i){return await i()}let tH={};class tG{get jwks(){var e,t;return null!=(t=null==(e=tH[this.storageKey])?void 0:e.jwks)?t:{keys:[]}}set jwks(e){tH[this.storageKey]=Object.assign(Object.assign({},tH[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!=(t=null==(e=tH[this.storageKey])?void 0:e.cachedAt)?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){tH[this.storageKey]=Object.assign(Object.assign({},tH[this.storageKey]),{cachedAt:e})}constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tG.nextInstanceID,tG.nextInstanceID+=1,this.instanceID>0&&e1()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},tB),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new tx({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=e5(r.fetch),this.lock=r.lock||tW,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:e1()&&(null==(t=null==globalThis?void 0:globalThis.navigator)?void 0:t.locks)?this.lock=tA:this.lock=tW,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tV(this)},this.persistSession?(r.storage?this.storage=r.storage:e3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tk(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=tk(this.memoryStorage)),e1()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null==(i=this.broadcastChannel)||i.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.75.0) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t=function(e){let t={},i=new URL(e);if(i.hash&&"#"===i.hash[0])try{new URLSearchParams(i.hash.substring(1)).forEach((e,i)=>{t[i]=e})}catch(e){}return i.searchParams.forEach((e,i)=>{t[i]=e}),t}(window.location.href),i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),e1()&&this.detectSessionInUrl&&"none"!==i){let{data:r,error:s}=await this._getSessionFromURL(t,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),e$(s)&&"AuthImplicitGrantRedirectError"===s.name){let t=null==(e=s.details)?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}let{session:n,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",n,"redirect type",a),await this._saveSession(n),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(e$(e))return{error:e};return{error:new eD("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,r;try{let{data:s,error:n}=await tf(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(i=null==(t=null==e?void 0:e.options)?void 0:t.data)?i:{},gotrue_meta_security:{captcha_token:null==(r=null==e?void 0:e.options)?void 0:r.captchaToken}},xform:tm});if(n||!s)return{data:{user:null,session:null},error:n};let a=s.session,o=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:o,session:a},error:null}}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,i,r;try{let s;if("email"in e){let{email:i,password:r,options:n}=e,a=null,o=null;"pkce"===this.flowType&&([a,o]=await ts(this.storage,this.storageKey)),s=await tf(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:i,password:r,data:null!=(t=null==n?void 0:n.data)?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:o},xform:tm})}else if("phone"in e){let{phone:t,password:n,options:a}=e;s=await tf(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!=(i=null==a?void 0:a.data)?i:{},channel:null!=(r=null==a?void 0:a.channel)?r:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:tm})}else throw new eN("You must provide either an email or phone number and a password");let{data:n,error:a}=s;if(a||!n)return{data:{user:null,session:null},error:a};let o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:i,password:r,options:s}=e;t=await tf(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tv})}else if("phone"in e){let{phone:i,password:r,options:s}=e;t=await tf(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tv})}else throw new eN("You must provide either an email or phone number and a password");let{data:i,error:r}=t;if(r)return{data:{user:null,session:null},error:r};if(!i||!i.session||!i.user)return{data:{user:null,session:null},error:new eU};return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r}}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null==(t=e.options)?void 0:t.redirectTo,scopes:null==(i=e.options)?void 0:i.scopes,queryParams:null==(r=e.options)?void 0:r.queryParams,skipBrowserRedirect:null==(s=e.options)?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,r,s,n,a,o,l,u,c,h,d;let p,f;if("message"in e)p=e.message,f=e.signature;else{let c,{chain:h,wallet:g,statement:m,options:v}=e;if(e1())if("object"==typeof g)c=g;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)c=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof g||!(null==v?void 0:v.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=g}let y=new URL(null!=(t=null==v?void 0:v.url)?t:window.location.href),_=await c.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||0===_.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let b=tC(_[0]),w=null==(i=null==v?void 0:v.signInWithEthereum)?void 0:i.chainId;w||(w=parseInt(await c.request({method:"eth_chainId"}),16)),p=function(e){var t;let{chainId:i,domain:r,expirationTime:s,issuedAt:n=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:h,version:d}=e;if(!Number.isInteger(i))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null==(t=e.statement)?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let p=tC(e.address),f=c?`${c}://${r}`:r,g=e.statement?`${e.statement}
`:"",m=`${f} wants you to sign in with your Ethereum account:
${p}

${g}`,v=`URI: ${h}
Version: ${d}
Chain ID: ${i}${a?`
Nonce: ${a}`:""}
Issued At: ${n.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let e="\nResources:";for(let t of u){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}v+=e}return`${m}
${v}`}({domain:y.host,address:b,statement:m,uri:y.href,version:"1",chainId:w,nonce:null==(r=null==v?void 0:v.signInWithEthereum)?void 0:r.nonce,issuedAt:null!=(n=null==(s=null==v?void 0:v.signInWithEthereum)?void 0:s.issuedAt)?n:new Date,expirationTime:null==(a=null==v?void 0:v.signInWithEthereum)?void 0:a.expirationTime,notBefore:null==(o=null==v?void 0:v.signInWithEthereum)?void 0:o.notBefore,requestId:null==(l=null==v?void 0:v.signInWithEthereum)?void 0:l.requestId,resources:null==(u=null==v?void 0:v.signInWithEthereum)?void 0:u.resources}),f=await c.request({method:"personal_sign",params:[(d=p,"0x"+Array.from(new TextEncoder().encode(d),e=>e.toString(16).padStart(2,"0")).join("")),b]})}try{let{data:t,error:i}=await tf(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:f},(null==(c=e.options)?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null==(h=e.options)?void 0:h.captchaToken}}:null),xform:tm});if(i)throw i;if(!t||!t.session||!t.user)return{data:{user:null,session:null},error:new eU};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:i}}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSolana(e){var t,i,r,s,n,a,o,l,u,c,h,d;let p,f;if("message"in e)p=e.message,f=e.signature;else{let h,{chain:d,wallet:g,statement:m,options:v}=e;if(e1())if("object"==typeof g)h=g;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))h=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof g||!(null==v?void 0:v.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=g}let y=new URL(null!=(t=null==v?void 0:v.url)?t:window.location.href);if("signIn"in h&&h.signIn){let e,t=await h.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==v?void 0:v.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)p="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),f=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in h)||"function"!=typeof h.signMessage||!("publicKey"in h)||"object"!=typeof h||!h.publicKey||!("toBase58"in h.publicKey)||"function"!=typeof h.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${y.host} wants you to sign in with your Solana account:`,h.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!=(r=null==(i=null==v?void 0:v.signInWithSolana)?void 0:i.issuedAt)?r:new Date().toISOString()}`,...(null==(s=null==v?void 0:v.signInWithSolana)?void 0:s.notBefore)?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...(null==(n=null==v?void 0:v.signInWithSolana)?void 0:n.expirationTime)?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...(null==(a=null==v?void 0:v.signInWithSolana)?void 0:a.chainId)?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...(null==(o=null==v?void 0:v.signInWithSolana)?void 0:o.nonce)?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...(null==(l=null==v?void 0:v.signInWithSolana)?void 0:l.requestId)?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...(null==(c=null==(u=null==v?void 0:v.signInWithSolana)?void 0:u.resources)?void 0:c.length)?["Resources",...v.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await h.signMessage(new TextEncoder().encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{let{data:t,error:i}=await tf(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:e0(f)},(null==(h=e.options)?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null==(d=e.options)?void 0:d.captchaToken}}:null),xform:tm});if(i)throw i;if(!t||!t.session||!t.user)return{data:{user:null,session:null},error:new eU};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:i}}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async _exchangeCodeForSession(e){let t=await e4(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(null!=t?t:"").split("/");try{let{data:t,error:s}=await tf(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:tm});if(await e8(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!t||!t.session||!t.user)return{data:{user:null,session:null,redirectType:null},error:new eU};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:s}}catch(e){if(e$(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{let{options:t,provider:i,token:r,access_token:s,nonce:n}=e,{data:a,error:o}=await tf(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:tm});if(o)return{data:{user:null,session:null},error:o};if(!a||!a.session||!a.user)return{data:{user:null,session:null},error:new eU};return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:o}}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,i,r,s,n;try{if("email"in e){let{email:r,options:s}=e,n=null,a=null;"pkce"===this.flowType&&([n,a]=await ts(this.storage,this.storageKey));let{error:o}=await tf(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!=(t=null==s?void 0:s.data)?t:{},create_user:null==(i=null==s?void 0:s.shouldCreateUser)||i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:n,code_challenge_method:a},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){let{phone:t,options:i}=e,{data:a,error:o}=await tf(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!=(r=null==i?void 0:i.data)?r:{},create_user:null==(s=null==i?void 0:i.shouldCreateUser)||s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},channel:null!=(n=null==i?void 0:i.channel)?n:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new eN("You must provide either an email or phone number.")}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,i;try{let r,s;"options"in e&&(r=null==(t=e.options)?void 0:t.redirectTo,s=null==(i=e.options)?void 0:i.captchaToken);let{data:n,error:a}=await tf(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:tm});if(a)throw a;if(!n)throw Error("An error occurred on token verification.");let o=n.session,l=n.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,i,r;try{let s=null,n=null;return"pkce"===this.flowType&&([s,n]=await ts(this.storage,this.storageKey)),await tf(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!=(i=null==(t=e.options)?void 0:t.redirectTo)?i:void 0}),(null==(r=null==e?void 0:e.options)?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:n}),headers:this.headers,xform:t_})}catch(e){if(e$(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new eL;let{error:r}=await tf(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:i,type:r,options:s}=e,{error:n}=await tf(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){let{phone:i,type:r,options:s}=e,{data:n,error:a}=await tf(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:a}}throw new eN("You must provide either an email or phone number and a type")}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch(e){}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await e4(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let i=!!e.expires_at&&1e3*e.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let t=await e4(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=tl()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,i,r)=>(t||"user"!==i||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,i,r))})}return{data:{session:e},error:null}}let{data:r,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return{data:{session:null},error:s};return{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await tf(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ty});return await this._useSession(async e=>{var t,i,r;let{data:s,error:n}=e;if(n)throw n;return(null==(t=s.session)?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await tf(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(r=null==(i=s.session)?void 0:i.access_token)?r:void 0,xform:ty}):{data:{user:null},error:new eL}})}catch(e){if(e$(e))return e$(e)&&"AuthSessionMissingError"===e.name&&(await this._removeSession(),await e8(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{let{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new eL;let n=r.session,a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await ts(this.storage,this.storageKey));let{data:l,error:u}=await tf(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:n.access_token,xform:ty});if(u)throw u;return n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}})}catch(e){if(e$(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new eL;let t=Date.now()/1e3,i=t,r=!0,s=null,{payload:n}=e7(e.access_token);if(n.exp&&(r=(i=n.exp)<=t),r){let{data:t,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{user:null,session:null},error:i};if(!t)return{data:{user:null,session:null},error:null};s=t}else{let{data:r,error:n}=await this._getUser(e.access_token);if(n)throw n;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(e$(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){let{data:r,error:s}=t;if(s)throw s;e=null!=(i=r.session)?i:void 0}if(!(null==e?void 0:e.refresh_token))throw new eL;let{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,t){try{if(!e1())throw new eq("No browser detected.");if(e.error||e.error_description||e.error_code)throw new eq(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new eV("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new eq("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new eV("No code detected.");let{data:t,error:i}=await this._exchangeCodeForSession(e.code);if(i)throw i;let r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:n,expires_in:a,expires_at:o,token_type:l}=e;if(!s||!a||!n||!l)throw new eq("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(a),h=u+c;o&&(h=parseInt(o));let d=h-u;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);let p=h-c;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);let{data:f,error:g}=await this._getUser(s);if(g)throw g;let m={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:c,expires_at:h,refresh_token:n,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(e){if(e$(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await e4(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;let{data:r,error:s}=t;if(s)return{error:s};let n=null==(i=r.session)?void 0:i.access_token;if(n){let{error:t}=await this.admin.signOut(n,e);if(t&&!(e$(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await e8(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,r;try{let{data:{session:r},error:s}=t;if(s)throw s;await (null==(i=this.stateChangeEmitters.get(e))?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(t){await (null==(r=this.stateChangeEmitters.get(e))?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let i=null,r=null;"pkce"===this.flowType&&([i,r]=await ts(this.storage,this.storageKey,!0));try{return await tf(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(e$(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:null!=(e=t.user.identities)?e:[]},error:null}}catch(e){if(e$(e))return{data:null,error:e};throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:i,error:r}=await this._useSession(async t=>{var i,r,s,n,a;let{data:o,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null==(i=e.options)?void 0:i.redirectTo,scopes:null==(r=e.options)?void 0:r.scopes,queryParams:null==(s=e.options)?void 0:s.queryParams,skipBrowserRedirect:!0});return await tf(this.fetch,"GET",u,{headers:this.headers,jwt:null!=(a=null==(n=o.session)?void 0:n.access_token)?a:void 0})});if(r)throw r;return!e1()||(null==(t=e.options)?void 0:t.skipBrowserRedirect)||window.location.assign(null==i?void 0:i.url),{data:{provider:e.provider,url:null==i?void 0:i.url},error:null}}catch(t){if(e$(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{let{error:r,data:{session:s}}=t;if(r)throw r;let{options:n,provider:a,token:o,access_token:l,nonce:u}=e,{data:c,error:h}=await tf(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(i=null==s?void 0:s.access_token)?i:void 0,body:{provider:a,id_token:o,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:tm});if(h)return{data:{user:null,session:null},error:h};if(!c||!c.session||!c.user)return{data:{user:null,session:null},error:new eU};return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("USER_UPDATED",c.session)),{data:c,error:h}}catch(e){if(e$(e))return{data:{user:null,session:null},error:e};throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,r;let{data:s,error:n}=t;if(n)throw n;return await tf(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!=(r=null==(i=s.session)?void 0:i.access_token)?r:void 0})})}catch(e){if(e$(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var i,r;let s=Date.now();return await (i=async i=>(i>0&&await te(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await tf(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tm})),r=(e,t)=>{let i=200*Math.pow(2,e);return t&&eW(t)&&Date.now()+i-s<3e4},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{let t=await i(s);if(!r(s,null,t))return void e(t)}catch(e){if(!r(s,e))return void t(e)}})()}))}catch(e){if(this._debug(t,"error",e),e$(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),e1()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let r=await e4(this.storage,this.storageKey);if(r&&this.userStorage){let t=await e4(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:r.user},await e6(this.userStorage,this.storageKey+"-user",t)),r.user=null!=(e=null==t?void 0:t.user)?e:tl()}else if(r&&!r.user&&!r.user){let e=await e4(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(r.user=e.user,await e8(this.storage,this.storageKey+"-user"),await e6(this.storage,this.storageKey,r)):r.user=tl()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),null!==r&&await this._removeSession();return}let s=(null!=(t=r.expires_at)?t:1/0)*1e3-Date.now()<9e4;if(this._debug(i,`session has${s?"":" not"} expired with margin of 90000s`),s){if(this.autoRefreshToken&&r.refresh_token){let{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),eW(e)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(r.user&&!0===r.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(r.access_token);!t&&(null==e?void 0:e.user)?(r.user=e.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(i,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){this._debug(i,"error",e),console.error(e);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new eL;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new e9;let{data:t,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!t.session)throw new eL;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,"error",e),e$(e)){let i={data:null,error:e};return eW(e)||await this._removeSession(),null==(t=this.refreshingDeferred)||t.resolve(i),i}throw null==(i=this.refreshingDeferred)||i.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,i=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],s=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let t=Object.assign({},e),i=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!i&&t.user&&await e6(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let r=tu(e);await e6(this.storage,this.storageKey,r)}else{let e=tu(t);await e6(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await e8(this.storage,this.storageKey),await e8(this.storage,this.storageKey+"-code-verifier"),await e8(this.storage,this.storageKey+"-user"),this.userStorage&&await e8(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&e1()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let r=Math.floor((1e3*i.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(i.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!e1()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"!==document.visibilityState?this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"):await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){let r=[`provider=${encodeURIComponent(t)}`];if((null==i?void 0:i.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),(null==i?void 0:i.scopes)&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===this.flowType){let[e,t]=await ts(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(i.toString())}if(null==i?void 0:i.queryParams){let e=new URLSearchParams(i.queryParams);r.push(e.toString())}return(null==i?void 0:i.skipBrowserRedirect)&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;let{data:r,error:s}=t;return s?{data:null,error:s}:await tf(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null==(i=null==r?void 0:r.session)?void 0:i.access_token})})}catch(e){if(e$(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var i,r;let{data:s,error:n}=t;if(n)return{data:null,error:n};let a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await tf(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null==(i=null==s?void 0:s.session)?void 0:i.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&"totp"===o.type&&(null==(r=null==o?void 0:o.totp)?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(e){if(e$(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i,r,s;let{data:n,error:a}=t;if(a)return{data:null,error:a};let o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(r=e.webauthn.credential_response,"toJSON"in r&&"function"==typeof r.toJSON?r.toJSON():{id:r.id,rawId:r.id,response:{attestationObject:e0(new Uint8Array(r.response.attestationObject)),clientDataJSON:e0(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:null!=(s=r.authenticatorAttachment)?s:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let i=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:e0(new Uint8Array(r.authenticatorData)),clientDataJSON:e0(new Uint8Array(r.clientDataJSON)),signature:e0(new Uint8Array(r.signature)),userHandle:r.userHandle?e0(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:null!=(t=e.authenticatorAttachment)?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await tf(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:null==(i=null==n?void 0:n.session)?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(e){if(e$(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;let{data:r,error:s}=t;if(s)return{data:null,error:s};let n=await tf(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null==(i=null==r?void 0:r.session)?void 0:i.access_token});if(n.error)return n;let{data:a}=n;if("webauthn"!==a.type)return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:i,excludeCredentials:r}=e,s=tj(e,["challenge","user","excludeCredentials"]),n=eZ(t).buffer,a=Object.assign(Object.assign({},i),{id:eZ(i.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:n,user:a});if(r&&r.length>0){o.excludeCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:eZ(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:i}=e,r=tj(e,["challenge","allowCredentials"]),s=eZ(t).buffer,n=Object.assign(Object.assign({},r),{challenge:s});if(i&&i.length>0){n.allowCredentials=Array(i.length);for(let e=0;e<i.length;e++){let t=i[e];n.allowCredentials[e]=Object.assign(Object.assign({},t),{id:eZ(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return n}(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(e$(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};let r={all:[],phone:[],totp:[],webauthn:[]};for(let i of null!=(e=null==t?void 0:t.factors)?e:[])r.all.push(i),"verified"===i.status&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;let{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:n}=e7(r.access_token),a=null;n.aal&&(a=n.aal);let o=a;return(null!=(i=null==(t=r.user.factors)?void 0:t.filter(e=>"verified"===e.status))?i:[]).length>0&&(o="aal2"),{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:n.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(t=>t.kid===e);if(i)return i;let r=Date.now();if((i=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>r)return i;let{data:s,error:n}=await tf(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;return s.keys&&0!==s.keys.length&&(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(t=>t.kid===e))?i:null}async getClaims(e,t={}){try{var i;let r,s=e;if(!s){let{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};s=e.session.access_token}let{header:n,payload:a,signature:o,raw:{header:l,payload:u}}=e7(s);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(a.exp);let c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!c){let{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:a,header:n,signature:o},error:null}}let h=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(n.alg),d=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,o,(i=`${l}.${u}`,r=[],!function(e,t){for(let i=0;i<e.length;i+=1){let r=e.charCodeAt(i);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535;r=(e.charCodeAt(i+1)-56320&65535|t)+65536,i+=1}!function(e,t){if(e<=127)return t(e);if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(r,t)}}(i,e=>r.push(e)),new Uint8Array(r))))throw new eG("Invalid JWT signature");return{data:{claims:a,header:n,signature:o},error:null}}catch(e){if(e$(e))return{data:null,error:e};throw e}}}tG.nextInstanceID=0;let tz=tG;class tK extends tz{constructor(e){super(e)}}class tQ{constructor(e,t,i){var r,s,n;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,u=function(e,t){var i,r;let{db:s,auth:n,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:h}=t,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),n),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},null!=(i=null==h?void 0:h.headers)?i:{}),null!=(r=null==o?void 0:o.headers)?r:{})}),accessToken:()=>{var e,t,i,r;return e=this,t=void 0,r=function*(){return""},new(i=void 0,i=Promise)(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=i?i:{},{db:eT,realtime:eO,auth:Object.assign(Object.assign({},eP),{storageKey:o}),global:ek});this.storageKey=null!=(r=u.auth.storageKey)?r:"",this.headers=null!=(s=u.global.headers)?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(n=u.auth)?n:{},this.headers,u.global.fetch),this.fetch=((e,t,i)=>{let r,s=(r=i||("undefined"==typeof fetch?eA.default:fetch),(...e)=>r(...e)),n="undefined"==typeof Headers?eA.Headers:Headers;return(i,r)=>{var a,o,l,u;return a=void 0,o=void 0,l=void 0,u=function*(){var a;let o=null!=(a=yield t())?a:e,l=new n(null==r?void 0:r.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(i,Object.assign(Object.assign({},r),{headers:l}))},new(l||(l=Promise))(function(e,t){function i(e){try{s(u.next(e))}catch(e){t(e)}}function r(e){try{s(u.throw(e))}catch(e){t(e)}}function s(t){var s;t.done?e(t.value):((s=t.value)instanceof l?s:new l(function(e){e(s)})).then(i,r)}s((u=u.apply(a,o||[])).next())})}})(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new l(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new eE(this.storageUrl.href,this.headers,this.fetch,null==i?void 0:i.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new o(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,i,r;return e=this,t=void 0,i=void 0,r=function*(){var e,t;if(this.accessToken)return yield this.accessToken();let{data:i}=yield this.auth.getSession();return null!=(t=null==(e=i.session)?void 0:e.access_token)?t:this.supabaseKey},new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,userStorage:s,storageKey:n,flowType:a,lock:o,debug:l},u,c){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tK({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,userStorage:s,flowType:a,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new j(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,i){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}let tJ=(e,t,i)=>new tQ(e,t,i);(function(){if("undefined"!=typeof window||"undefined"==typeof process)return!1;let e=process.version;if(null==e)return!1;let t=e.match(/^v(\d+)\./);return!!t&&18>=parseInt(t[1],10)})()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`)},92018:function(e){"use strict";e.exports=function(e,t,i,r,s,n,a,o){if(!e){var l;if(void 0===t)l=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,r,s,n,a,o],c=0;(l=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},18567:function(e,t,i){"use strict";i.d(t,{A:()=>o});var r=i(39430);let s=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:u,...c},h)=>(0,r.createElement)("svg",{ref:h,...n,width:t,height:t,stroke:e,strokeWidth:a?24*Number(i)/Number(t):i,className:s("lucide",o),...c},[...u.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),o=(e,t)=>{let i=(0,r.forwardRef)(({className:i,...n},o)=>(0,r.createElement)(a,{ref:o,iconNode:t,className:s(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...n}));return i.displayName=`${e}`,i}},29100:function(e,t,i){"use strict";i.d(t,{A:()=>r});let r=(0,i(18567).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},50950:function(e,t,i){"use strict";i.d(t,{A:()=>r});let r=(0,i(18567).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},31810:function(e,t,i){"use strict";i.d(t,{A:()=>r});let r=(0,i(18567).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},68769:function(e,t,i){"use strict";i.d(t,{A:()=>r});let r=(0,i(18567).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},57588:function(e,t,i){"use strict";i.d(t,{A:()=>r});let r=(0,i(18567).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},53080:function(e,t,i){"use strict";i.d(t,{Ay:()=>nb});var r="undefined"!=typeof window?window:void 0,s="undefined"!=typeof globalThis?globalThis:r,n=Array.prototype,a=n.forEach,o=n.indexOf,l=null==s?void 0:s.navigator,u=null==s?void 0:s.document,c=null==s?void 0:s.location,h=null==s?void 0:s.fetch,d=null!=s&&s.XMLHttpRequest&&"withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:void 0,p=null==s?void 0:s.AbortController,f=null==l?void 0:l.userAgent,g=null!=r?r:{},m={DEBUG:!1,LIB_VERSION:"1.277.0"};function v(e,t,i,r,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void i(e)}o.done?t(l):Promise.resolve(l).then(r,s)}function y(e){return function(){var t=this,i=arguments;return new Promise(function(r,s){var n=e.apply(t,i);function a(e){v(n,r,s,a,o,"next",e)}function o(e){v(n,r,s,a,o,"throw",e)}a(void 0)})}}function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)({}).hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(null,arguments)}function b(e,t){if(null==e)return{};var i={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;i[r]=e[r]}return i}var w=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function S(e,t){return -1!==e.indexOf(t)}var E=function(e){return e.trim()},x=function(e){return e.replace(/^\$/,"")},k=Array.isArray,T=Object.prototype,P=T.hasOwnProperty,O=T.toString,A=k||function(e){return"[object Array]"===O.call(e)},C=e=>"function"==typeof e,R=e=>e===Object(e)&&!A(e),I=e=>{if(R(e)){for(var t in e)if(P.call(e,t))return!1;return!0}return!1},j=e=>void 0===e,$=e=>"[object String]"==O.call(e),M=e=>$(e)&&0===e.trim().length,D=e=>null===e,F=e=>j(e)||D(e),L=e=>"[object Number]"==O.call(e),U=e=>"[object Boolean]"===O.call(e),N=e=>S(w,e);function q(e){return null===e||"object"!=typeof e}function V(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function B(e){return!j(Event)&&function(e,t){try{return e instanceof t}catch(e){return!1}}(e,Event)}var W=[!0,"true",1,"1","yes"],H=[!1,"false",0,"0","no"];function G(e,t,i,r,s){return t>i&&(r.warn("min cannot be greater than max."),t=i),L(e)?e>i?(r.warn(" cannot be  greater than max: "+i+". Using max value instead."),i):e<t?(r.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(r.warn(" must be a number. using max or fallback. max: "+i+", fallback: "+s),G(s||i,t,i,r))}class z{constructor(e){this.t=e,this.i={},this.o=()=>{Object.keys(this.i).forEach(e=>{var t=this.h(e)+this.m;t>=this.S?delete this.i[e]:this.$(e,t)})},this.h=e=>this.i[String(e)],this.$=(e,t)=>{this.i[String(e)]=t},this.consumeRateLimit=e=>{var t,i,r=null!=(t=this.h(e))?t:this.S;if(0===(r=Math.max(r-1,0)))return!0;this.$(e,r);var s=0===r;return s&&(null==(i=this.k)||i.call(this,e)),s},this.k=this.t.k,this.S=G(this.t.bucketSize,0,100,this.t.P),this.m=G(this.t.refillRate,0,this.S,this.t.P),this.T=G(this.t.refillInterval,0,864e5,this.t.P),this.I=setInterval(()=>{this.o()},this.T)}stop(){this.I&&(clearInterval(this.I),this.I=void 0)}}var K,Q,J,Y=e=>e instanceof Error;function X(e,t,i,r){var s={platform:"web:javascript",filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return j(i)||(s.lineno=i),j(r)||(s.colno=r),s}var Z=(e,t)=>{var i=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return i||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",i?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},ee=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,et=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ei=/\((\S*)(?::(\d+))(?::(\d+))\)/,er=e=>{var t=ee.exec(e);if(t){var[,i,r,s]=t;return X(i,"?",+r,+s)}var n=et.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){var a=ei.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}var[o,l]=Z(n[1]||"?",n[2]);return X(l,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},es=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,en=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ea=e=>{var t=es.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var i=en.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}var r=t[3],s=t[1]||"?";return[s,r]=Z(s,r),X(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},eo=/\(error: (.*)\)/;class el{constructor(e,t,i){void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===i&&(i=[]),this.coercers=e,this.modifiers=i,this.stackParser=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e,i){void 0===i&&(i=0);for(var r=[],s=e.split("\n"),n=i;n<s.length;n++){var a=s[n];if(!(a.length>1024)){var o=eo.test(a)?a.replace(eo,"$1"):a;if(!o.match(/\S*Error: /)){for(var l of t){var u=l(o);if(u){r.push(u);break}}if(r.length>=50)break}}}if(!r.length)return[];var c=Array.from(r);return c.reverse(),c.slice(0,50).map(e=>_({},e,{filename:e.filename||(c[c.length-1]||{}).filename,function:e.function||"?"}))}}(...t)}buildFromUnknown(e,t){void 0===t&&(t={});var i=t&&t.mechanism||{handled:!0,type:"generic"},r=this.buildCoercingContext(i,t,0).apply(e),s=this.buildParsingContext(),n=this.parseStacktrace(r,s);return{$exception_list:this.convertToExceptionList(n,i),$exception_level:"error"}}modifyFrames(e){var t=this;return y(function*(){for(var i of e)i.stacktrace&&i.stacktrace.frames&&A(i.stacktrace.frames)&&(i.stacktrace.frames=yield t.applyModifiers(i.stacktrace.frames));return e})()}coerceFallback(e){var t;return{type:"Error",value:"Unknown error",stack:null==(t=e.syntheticException)?void 0:t.stack,synthetic:!0}}parseStacktrace(e,t){var i,r;return null!=e.cause&&(i=this.parseStacktrace(e.cause,t)),""!=e.stack&&null!=e.stack&&(r=this.applyChunkIds(this.stackParser(e.stack,+!!e.synthetic),t.chunkIdMap)),_({},e,{cause:i,stack:r})}applyChunkIds(e,t){return e.map(e=>(e.filename&&t&&(e.chunk_id=t[e.filename]),e))}applyCoercers(e,t){for(var i of this.coercers)if(i.match(e))return i.coerce(e,t);return this.coerceFallback(t)}applyModifiers(e){var t=this;return y(function*(){var i=e;for(var r of t.modifiers)i=yield r(i);return i})()}convertToExceptionList(e,t){var i,r,s,n={type:e.type,value:e.value,mechanism:{type:null!=(i=t.type)?i:"generic",handled:null==(r=t.handled)||r,synthetic:null!=(s=e.synthetic)&&s}};e.stack&&(n.stacktrace={type:"raw",frames:e.stack});var a=[n];return null!=e.cause&&a.push(...this.convertToExceptionList(e.cause,_({},t,{handled:!0}))),a}buildParsingContext(){return{chunkIdMap:function(e){var t=globalThis._posthogChunkIds;if(t){var i=Object.keys(t);return J&&i.length===Q||(Q=i.length,J=i.reduce((i,r)=>{K||(K={});var s=K[r];if(s)i[s[0]]=s[1];else for(var n=e(r),a=n.length-1;a>=0;a--){var o=n[a],l=null==o?void 0:o.filename,u=t[r];if(l&&u){i[l]=u,K[r]=[l,u];break}}return i},{})),J}}(this.stackParser)}}buildCoercingContext(e,t,i){void 0===i&&(i=0);var r=(i,r)=>{if(r<=4){var s=this.buildCoercingContext(e,t,r);return this.applyCoercers(i,s)}};return _({},t,{syntheticException:0==i?t.syntheticException:void 0,mechanism:e,apply:e=>r(e,i),next:e=>r(e,i+1)})}}class eu{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,t){var i=$(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:i?e.stack:void 0,cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var t=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?t+": "+e.message:t}isDOMException(e){return V(e,"DOMException")}isDOMError(e){return V(e,"DOMError")}}class ec{match(e){return e instanceof Error}coerce(e,t){return{type:this.getType(e),value:this.getMessage(e,t),stack:this.getStack(e),cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,t){var i=e.message;return i.error&&"string"==typeof i.error.message?String(i.error.message):String(i)}getStack(e){return e.stacktrace||e.stack||void 0}}class eh{constructor(){}match(e){return V(e,"ErrorEvent")&&null!=e.error}coerce(e,t){var i;return t.apply(e.error)||{type:"ErrorEvent",value:e.message,stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}}var ed=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class ep{match(e){return"string"==typeof e}coerce(e,t){var i,[r,s]=this.getInfos(e);return{type:null!=r?r:"Error",value:null!=s?s:e,stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}getInfos(e){var t="Error",i=e,r=e.match(ed);return r&&(t=r[1],i=r[2]),[t,i]}}var ef=["fatal","error","warning","log","info","debug"];function eg(e,t){void 0===t&&(t=40);var i=Object.keys(e);if(i.sort(),!i.length)return"[object has no keys]";for(var r=i.length;r>0;r--){var s=i.slice(0,r).join(", ");if(!(s.length>t))return r===i.length||s.length<=t?s:s.slice(0,t)+"..."}return""}class em{match(e){return"object"==typeof e&&null!==e}coerce(e,t){var i,r=this.getErrorPropertyFromObject(e);return r?t.apply(r):{type:this.getType(e),value:this.getValue(e),stack:null==(i=t.syntheticException)?void 0:i.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return B(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&"string"==typeof e.name){var t="'"+e.name+"' captured as exception";return"message"in e&&"string"==typeof e.message&&(t+=" with message: '"+e.message+"'"),t}if("message"in e&&"string"==typeof e.message)return e.message;var i=this.getObjectClassName(e);return(i&&"Object"!==i?"'"+i+"'":"Object")+" captured as exception with keys: "+eg(e)}isSeverityLevel(e){return $(e)&&!M(e)&&ef.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=e[t];if(Y(i))return i}}getObjectClassName(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){return}}}class ev{match(e){return B(e)}coerce(e,t){var i,r=e.constructor.name;return{type:r,value:r+" captured as exception with keys: "+eg(e),stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}}class ey{match(e){return q(e)}coerce(e,t){var i;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}}class e_{match(e){return V(e,"PromiseRejectionEvent")}coerce(e,t){var i,r=this.getUnhandledRejectionReason(e);return q(r)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(r),stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}:t.apply(r)}getUnhandledRejectionReason(e){if(q(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}}var eb=e=>{var t={R:function(t){if(r&&(m.DEBUG||g.POSTHOG_DEBUG)&&!j(r.console)&&r.console){for(var i=("__rrweb_original__"in r.console[t])?r.console[t].__rrweb_original__:r.console[t],s=arguments.length,n=Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];i(e,...n)}},info:function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];t.R("log",...i)},warn:function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];t.R("warn",...i)},error:function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];t.R("error",...i)},critical:function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];console.error(e,...i)},uninitializedWarning:e=>{t.error("You must initialize PostHog before calling "+e)},createLogger:t=>eb(e+" "+t)};return t},ew=eb("[PostHog.js]"),eS=ew.createLogger,eE=eS("[ExternalScriptsLoader]"),ex=(e,t,i)=>{if(e.config.disable_external_dependency_loading)return eE.warn(t+" was requested but loading of external scripts is disabled."),i("Loading of external scripts is disabled");var r=null==u?void 0:u.querySelectorAll("script");if(r){for(var s,n=0;n<r.length;n++)if(s=function(){if(r[n].src===t){var e=r[n];return e.__posthog_loading_callback_fired?{v:i()}:(e.addEventListener("load",t=>{e.__posthog_loading_callback_fired=!0,i(void 0,t)}),e.onerror=e=>i(e),{v:void 0})}}())return s.v}var a=()=>{if(!u)return i("document not found");var r=u.createElement("script");if(r.type="text/javascript",r.crossOrigin="anonymous",r.src=t,r.onload=e=>{r.__posthog_loading_callback_fired=!0,i(void 0,e)},r.onerror=e=>i(e),e.config.prepare_external_dependency_script&&(r=e.config.prepare_external_dependency_script(r)),!r)return i("prepare_external_dependency_script returned null");var s,n=u.querySelectorAll("body > script");n.length>0?null==(s=n[0].parentNode)||s.insertBefore(r,n[0]):u.body.appendChild(r)};null!=u&&u.body?a():null==u||u.addEventListener("DOMContentLoaded",a)};g.__PosthogExtensions__=g.__PosthogExtensions__||{},g.__PosthogExtensions__.loadExternalDependency=(e,t,i)=>{var r="/static/"+t+".js?v="+e.version;"remote-config"===t&&(r="/array/"+e.config.token+"/config.js"),"toolbar"===t&&(r=r+"&t="+3e5*Math.floor(Date.now()/3e5));var s=e.requestRouter.endpointFor("assets",r);ex(e,s,i)},g.__PosthogExtensions__.loadSiteApp=(e,t,i)=>{var r=e.requestRouter.endpointFor("api",t);ex(e,r,i)};var ek={};function eT(e,t,i){if(A(e)){if(a&&e.forEach===a)e.forEach(t,i);else if("length"in e&&e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(r in e&&t.call(i,e[r],r)===ek)return}}}function eP(e,t,i){if(!F(e)){if(A(e))return eT(e,t,i);if(e instanceof FormData){for(var r of e.entries())if(t.call(i,r[1],r[0])===ek)return}else for(var s in e)if(P.call(e,s)&&t.call(i,e[s],s)===ek)return}}var eO=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return eT(i,function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])}),e},eA=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return eT(i,function(t){eT(t,function(t){e.push(t)})}),e};function eC(e){for(var t=Object.keys(e),i=t.length,r=Array(i);i--;)r[i]=[t[i],e[t[i]]];return r}var eR=function(e){try{return e()}catch(e){return}},eI=function(e){return function(){try{for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.apply(this,i)}catch(e){ew.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ew.critical(e)}}},ej=function(e){var t={};return eP(e,function(e,i){($(e)&&e.length>0||L(e))&&(t[i]=e)}),t},e$=["herokuapp.com","vercel.app","netlify.app"];function eM(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}function eD(e,t,i,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==e||e.addEventListener(t,i,{capture:s,passive:n})}var eF="$people_distinct_id",eL="__alias",eU="__timers",eN="$autocapture_disabled_server_side",eq="$heatmaps_enabled_server_side",eV="$exception_capture_enabled_server_side",eB="$error_tracking_suppression_rules",eW="$error_tracking_capture_extension_exceptions",eH="$web_vitals_enabled_server_side",eG="$dead_clicks_enabled_server_side",ez="$web_vitals_allowed_metrics",eK="$session_recording_remote_config",eQ="$sesid",eJ="$session_is_sampled",eY="$enabled_feature_flags",eX="$early_access_features",eZ="$feature_flag_details",e0="$stored_person_properties",e1="$stored_group_properties",e2="$surveys",e3="$surveys_activated",e5="$flag_call_reported",e6="$user_state",e4="$client_session_props",e8="$capture_rate_limit",e9="$initial_campaign_params",e7="$initial_referrer_info",te="$initial_person_info",tt="$epp",ti="__POSTHOG_TOOLBAR__",tr="$posthog_cookieless",ts=[eF,eL,"__cmpns",eU,"$session_recording_enabled_server_side",eq,eQ,eY,eB,e6,eX,eZ,e1,e0,e2,e5,e4,e8,e9,e7,tt,te];function tn(e){return e instanceof Element&&(e.id===ti||!(null==e.closest||!e.closest(".toolbar-global-fade-container")))}function ta(e){return!!e&&1===e.nodeType}function to(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function tl(e){return!!e&&3===e.nodeType}function tu(e){return!!e&&11===e.nodeType}function tc(e){return e?E(e).split(/\s+/):[]}function th(e){var t=null==r?void 0:r.location.href;return!!(t&&e&&e.some(e=>t.match(e)))}function td(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return tc(t)}function tp(e){return F(e)?null:E(e).split(/(\s+)/).filter(e=>tC(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function tf(e){var t="";return tS(e)&&!tE(e)&&e.childNodes&&e.childNodes.length&&eP(e.childNodes,function(e){var i;tl(e)&&e.textContent&&(t+=null!=(i=tp(e.textContent))?i:"")}),E(t)}function tg(e){var t;return j(e.target)?e.srcElement||null:null!=(t=e.target)&&t.shadowRoot?e.composedPath()[0]||null:e.target||null}var tm=["a","button","form","input","select","textarea","label"];function tv(e,t){if(j(t))return!0;var i,r=function(e){if(t.some(t=>e.matches(t)))return{v:!0}};for(var s of e)if(i=r(s))return i.v;return!1}function ty(e){var t=e.parentNode;return!(!t||!ta(t))&&t}var t_=[".ph-no-rageclick",".ph-no-capture"],tb=e=>!e||to(e,"html")||!ta(e),tw=(e,t)=>{if(!r||tb(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var i=!1,s=[e],n=e;n.parentNode&&!to(n,"body");)if(tu(n.parentNode))s.push(n.parentNode.host),n=n.parentNode.host;else{var a=ty(n);if(!a)break;if(t||tm.indexOf(a.tagName.toLowerCase())>-1)i=!0;else{var o=r.getComputedStyle(a);o&&"pointer"===o.getPropertyValue("cursor")&&(i=!0)}s.push(a),n=a}return{parentIsUsefulElement:i,targetElementList:s}};function tS(e){for(var t=e;t.parentNode&&!to(t,"body");t=t.parentNode){var i=td(t);if(S(i,"ph-sensitive")||S(i,"ph-no-capture"))return!1}if(S(td(e),"ph-include"))return!0;var r=e.type||"";if($(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var s=e.name||e.id||"";return!($(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function tE(e){return!!(to(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||to(e,"select")||to(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var tx="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",tk=RegExp("^(?:"+tx+")$"),tT=new RegExp(tx),tP="\\d{3}-?\\d{2}-?\\d{4}",tO=RegExp("^("+tP+")$"),tA=RegExp("("+tP+")");function tC(e,t){return void 0===t&&(t=!0),!(F(e)||$(e)&&(e=E(e),(t?tk:tT).test((e||"").replace(/[- ]/g,""))||(t?tO:tA).test(e)))&&!0}function tR(e){var t=tf(e);return tC(t=(t+" "+function e(t){var i="";return t&&t.childNodes&&t.childNodes.length&&eP(t.childNodes,function(t){var r;if(t&&"span"===(null==(r=t.tagName)?void 0:r.toLowerCase()))try{var s=tf(t);i=(i+" "+s).trim(),t.childNodes&&t.childNodes.length&&(i=(i+" "+e(t)).trim())}catch(e){ew.error("[AutoCapture]",e)}}),i}(e)).trim())?t:""}function tI(e){return e.replace(/"|\\"/g,'\\"')}class tj{constructor(){this.clicks=[]}isRageClick(e,t,i){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&i-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}var t$="$copy_autocapture",tM=((tz={}).GZipJS="gzip-js",tz.Base64="base64",tz),tD=e=>{var t=null==u?void 0:u.createElement("a");return j(t)?null:(t.href=e,t)},tF=function(e,t){void 0===t&&(t="&");var i,r,s=[];return eP(e,function(e,t){j(e)||j(t)||"undefined"===t||(i=encodeURIComponent(e instanceof File?e.name:e.toString()),r=encodeURIComponent(t),s[s.length]=r+"="+i)}),s.join(t)},tL=function(e,t){for(var i,r=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<r.length;s++){var n=r[s].split("=");if(n[0]===t){i=n;break}}if(!A(i)||i.length<2)return"";var a=i[1];try{a=decodeURIComponent(a)}catch(e){ew.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},tU=function(e,t,i){if(!e||!t||!t.length)return e;for(var r=e.split("#"),s=r[0]||"",n=r[1],a=s.split("?"),o=a[1],l=a[0],u=(o||"").split("&"),c=[],h=0;h<u.length;h++){var d=u[h].split("=");A(d)&&(t.includes(d[0])?c.push(d[0]+"="+i):c.push(u[h]))}var p=l;return null!=o&&(p+="?"+c.join("&")),null!=n&&(p+="#"+n),p},tN=function(e,t){var i=e.match(RegExp(t+"=([^&]*)"));return i?i[1]:null},tq=eS("[AutoCapture]");function tV(e,t){return t.length>e?t.slice(0,e)+"...":t}class tB{constructor(e){this.C=!1,this.O=null,this.rageclicks=new tj,this.F=!1,this.instance=e,this.M=null}get A(){var e,t,i=R(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null==(e=i.url_allowlist)?void 0:e.map(e=>new RegExp(e)),i.url_ignorelist=null==(t=i.url_ignorelist)?void 0:t.map(e=>new RegExp(e)),i}j(){if(this.isBrowserSupported()){if(r&&u){var e=e=>{e=e||(null==r?void 0:r.event);try{this.D(e)}catch(e){tq.error("Failed to capture event",e)}};if(eD(u,"submit",e,{capture:!0}),eD(u,"change",e,{capture:!0}),eD(u,"click",e,{capture:!0}),this.A.capture_copied_text){var t=e=>{e=e||(null==r?void 0:r.event),this.D(e,t$)};eD(u,"copy",t,{capture:!0}),eD(u,"cut",t,{capture:!0})}}}else tq.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.j(),this.C=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.F=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[eN]:!!e.autocapture_opt_out}),this.O=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.M=e}getElementSelectors(e){var t,i=[];return null==(t=this.M)||t.forEach(t=>{var r=null==u?void 0:u.querySelectorAll(t);null==r||r.forEach(r=>{e===r&&i.push(t)})}),i}get isEnabled(){var e,t,i=null==(e=this.instance.persistence)?void 0:e.props[eN];if(D(this.O)&&!U(i)&&!this.instance.L())return!1;var r=null!=(t=this.O)?t:!!i;return!!this.instance.config.autocapture&&!r}D(e,t){if(void 0===t&&(t="$autocapture"),this.isEnabled){var i,s=tg(e);tl(s)&&(s=s.parentNode||null),"$autocapture"===t&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!=(i=this.rageclicks)&&i.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&function(e,t){if(!r||tb(e)||!1===(i=U(t)?!!t&&t_:null!=(s=null==t?void 0:t.css_selector_ignorelist)?s:t_))return!1;var i,s,{targetElementList:n}=tw(e,!1);return!tv(n,i)}(s,this.instance.config.rageclick)&&this.D(e,"$rageclick");var n=t===t$;if(s&&function(e,t,i,s,n){if(void 0===i&&(i=void 0),!r||tb(e)||null!=(a=i)&&a.url_allowlist&&!th(i.url_allowlist)||null!=(o=i)&&o.url_ignorelist&&th(i.url_ignorelist))return!1;if(null!=(l=i)&&l.dom_event_allowlist){var a,o,l,u,c=i.dom_event_allowlist;if(c&&!c.some(e=>t.type===e))return!1}var{parentIsUsefulElement:h,targetElementList:d}=tw(e,s);if(!function(e,t){var i=null==t?void 0:t.element_allowlist;if(j(i))return!0;var r,s=function(e){if(i.some(t=>e.tagName.toLowerCase()===t))return{v:!0}};for(var n of e)if(r=s(n))return r.v;return!1}(d,i)||!tv(d,null==(u=i)?void 0:u.css_selector_allowlist))return!1;var p=r.getComputedStyle(e);if(p&&"pointer"===p.getPropertyValue("cursor")&&"click"===t.type)return!0;var f=e.tagName.toLowerCase();switch(f){case"html":return!1;case"form":return(n||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(n||["change","click"]).indexOf(t.type)>=0;default:return h?(n||["click"]).indexOf(t.type)>=0:(n||["click"]).indexOf(t.type)>=0&&(tm.indexOf(f)>-1||"true"===e.getAttribute("contenteditable"))}}(s,e,this.A,n,n?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:o}=function(e,t){for(var i,s,{e:n,maskAllElementAttributes:a,maskAllText:o,elementAttributeIgnoreList:l,elementsChainAsString:u}=t,c=[e],h=e;h.parentNode&&!to(h,"body");)tu(h.parentNode)?(c.push(h.parentNode.host),h=h.parentNode.host):(c.push(h.parentNode),h=h.parentNode);var d,p=[],f={},g=!1,m=!1;if(eP(c,e=>{var t=tS(e);"a"===e.tagName.toLowerCase()&&(g=e.getAttribute("href"),g=t&&g&&tC(g)&&g),S(td(e),"ph-no-capture")&&(m=!0),p.push(function(e,t,i,r){var s=e.tagName.toLowerCase(),n={tag_name:s};tm.indexOf(s)>-1&&!i&&("a"===s.toLowerCase()||"button"===s.toLowerCase()?n.$el_text=tV(1024,tR(e)):n.$el_text=tV(1024,tf(e)));var a=td(e);a.length>0&&(n.classes=a.filter(function(e){return""!==e})),eP(e.attributes,function(i){var s;if((!tE(e)||-1!==["name","id","class","aria-label"].indexOf(i.name))&&(null==r||!r.includes(i.name))&&!t&&tC(i.value)&&(!$(s=i.name)||"_ngcontent"!==s.substring(0,10)&&"_nghost"!==s.substring(0,7))){var a=i.value;"class"===i.name&&(a=tc(a).join(" ")),n["attr__"+i.name]=tV(1024,a)}});for(var o=1,l=1,u=e;u=function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!ta(t));return t}(u);)o++,u.tagName===e.tagName&&l++;return n.nth_child=o,n.nth_of_type=l,n}(e,a,o,l)),eO(f,function(e){if(!tS(e))return{};var t={};return eP(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var i=e.name.replace("data-ph-capture-attribute-",""),r=e.value;i&&r&&tC(r)&&(t[i]=r)}}),t}(e))}),m)return{props:{},explicitNoCapture:m};if(o||("a"===e.tagName.toLowerCase()||"button"===e.tagName.toLowerCase()?p[0].$el_text=tR(e):p[0].$el_text=tf(e)),g){p[0].attr__href=g;var v,y,b=null==(v=tD(g))?void 0:v.host,w=null==r||null==(y=r.location)?void 0:y.host;b&&w&&b!==w&&(d=g)}return{props:eO({$event_type:n.type,$ce_version:1},u?{}:{$elements:p},{$elements_chain:p.map(e=>{var t,i,r,s={text:null==(i=e.$el_text)?void 0:i.slice(0,400),tag_name:e.tag_name,href:null==(r=e.attr__href)?void 0:r.slice(0,2048),attr_class:(t=e.attr__class)?A(t)?t:tc(t):void 0,attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return eC(e).filter(e=>{var[t]=e;return 0===t.indexOf("attr__")}).forEach(e=>{var[t,i]=e;return s.attributes[t]=i}),s}).map(e=>{var t,i,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class)for(var s of(e.attr_class.sort(),e.attr_class))r+="."+s.replace(/"/g,"");var n=_({},e.text?{text:e.text}:{},{"nth-child":null!=(t=e.nth_child)?t:0,"nth-of-type":null!=(i=e.nth_of_type)?i:0},e.href?{href:e.href}:{},e.attr_id?{attr_id:e.attr_id}:{},e.attributes),a={};return eC(n).sort((e,t)=>{var[i]=e,[r]=t;return i.localeCompare(r)}).forEach(e=>{var[t,i]=e;return a[tI(t.toString())]=tI(i.toString())}),r+=":",r+=eC(a).map(e=>{var[t,i]=e;return t+'="'+i+'"'}).join("")}).join(";")},null!=(i=p[0])&&i.$el_text?{$el_text:null==(s=p[0])?void 0:s.$el_text}:{},d&&"click"===n.type?{$external_click_url:d}:{},f)}}(s,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.F});if(o)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(a.$element_selectors=l),t===t$){var u,c=tp(null==r||null==(u=r.getSelection())?void 0:u.toString()),h=e.type||"clipboard";if(!c)return!1;a.$selected_content=c,a.$copy_type=h}return this.instance.capture(t,a),!0}}}isBrowserSupported(){return C(null==u?void 0:u.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return L(e)&&isFinite(e)&&Math.floor(e)===e});var tW="0123456789abcdef";class tH{constructor(e){if(this.bytes=e,16!==e.length)throw TypeError("not 128-bit length")}static fromFieldsV7(e,t,i,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(r)||e<0||t<0||i<0||r<0||e>0xffffffffffff||t>4095||i>0x3fffffff||r>0xffffffff)throw RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=e/0x10000000000,s[1]=e/0x100000000,s[2]=e/0x1000000,s[3]=e/65536,s[4]=e/256,s[5]=e,s[6]=112|t>>>8,s[7]=t,s[8]=128|i>>>24,s[9]=i>>>16,s[10]=i>>>8,s[11]=i,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new tH(s)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+tW.charAt(this.bytes[t]>>>4)+tW.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e}clone(){return new tH(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}class tG{constructor(){this.N=0,this.U=0,this.H=new tJ}generate(){var e=this.generateOrAbort();if(j(e)){this.N=0;var t=this.generateOrAbort();if(j(t))throw Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.N)this.N=e,this.B();else{if(!(e+1e4>this.N))return;this.U++,this.U>0x3ffffffffff&&(this.N++,this.B())}return tH.fromFieldsV7(this.N,Math.trunc(this.U/0x40000000),0x3fffffff&this.U,this.H.nextUint32())}B(){this.U=1024*this.H.nextUint32()+(1023&this.H.nextUint32())}}var tz,tK,tQ=e=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};r&&!j(r.crypto)&&crypto.getRandomValues&&(tQ=e=>crypto.getRandomValues(e));class tJ{constructor(){this.q=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.q.length&&(tQ(this.q),this.W=0),this.q[this.W++]}}var tY=()=>tX().toString(),tX=()=>(tK||(tK=new tG)).generate(),tZ="",t0=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,t1={G:()=>!!u,V:function(e){ew.error("cookieStore error: "+e)},J:function(e){if(u){try{for(var t=e+"=",i=u.cookie.split(";").filter(e=>e.length),r=0;r<i.length;r++){for(var s=i[r];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return decodeURIComponent(s.substring(t.length,s.length))}}catch(e){}return null}},K:function(e){var t;try{t=JSON.parse(t1.J(e))||{}}catch(e){}return t},Y:function(e,t,i,r,s){if(u)try{var n="",a="",o=function(e,t){if(t){var i=function(e,t){if(void 0===t&&(t=u),tZ)return tZ;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var i=e.split("."),r=Math.min(i.length,8),s="dmn_chk_"+tY();!tZ&&r--;){var n=i.slice(r).join("."),a=s+"=1;domain=."+n+";path=/";t.cookie=a+";max-age=3",t.cookie.includes(s)&&(t.cookie=a+";max-age=0",tZ=n)}return tZ}(e);if(!i){var r,s=(r=e.match(t0))?r[0]:"";s!==i&&ew.info("Warning: cookie subdomain discovery mismatch",s,i),i=s}return i?"; domain=."+i:""}return""}(u.location.hostname,r);if(i){var l=new Date;l.setTime(l.getTime()+24*i*36e5),n="; expires="+l.toUTCString()}s&&(a="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+n+"; SameSite=Lax; path=/"+o+a;return c.length>3686.4&&ew.warn("cookieStore warning: large cookie, len="+c.length),u.cookie=c,c}catch(e){return}},X:function(e,t){if(null!=u&&u.cookie)try{t1.Y(e,"",-1,t)}catch(e){return}}},t2=null,t3={G:function(){if(!D(t2))return t2;var e=!0;if(j(r))e=!1;else try{var t="__mplssupport__";t3.Y(t,"xyz"),'"xyz"'!==t3.J(t)&&(e=!1),t3.X(t)}catch(t){e=!1}return e||ew.error("localStorage unsupported; falling back to cookie store"),t2=e,e},V:function(e){ew.error("localStorage error: "+e)},J:function(e){try{return null==r?void 0:r.localStorage.getItem(e)}catch(e){t3.V(e)}return null},K:function(e){try{return JSON.parse(t3.J(e))||{}}catch(e){}return null},Y:function(e,t){try{null==r||r.localStorage.setItem(e,JSON.stringify(t))}catch(e){t3.V(e)}},X:function(e){try{null==r||r.localStorage.removeItem(e)}catch(e){t3.V(e)}}},t5=["distinct_id",eQ,eJ,tt,te],t6=_({},t3,{K:function(e){try{var t={};try{t=t1.K(e)||{}}catch(e){}var i=eO(t,JSON.parse(t3.J(e)||"{}"));return t3.Y(e,i),i}catch(e){}return null},Y:function(e,t,i,r,s,n){try{t3.Y(e,t,void 0,void 0,n);var a={};t5.forEach(e=>{t[e]&&(a[e]=t[e])}),Object.keys(a).length&&t1.Y(e,a,i,r,s,n)}catch(e){t3.V(e)}},X:function(e,t){try{null==r||r.localStorage.removeItem(e),t1.X(e,t)}catch(e){t3.V(e)}}}),t4={},t8={G:function(){return!0},V:function(e){ew.error("memoryStorage error: "+e)},J:function(e){return t4[e]||null},K:function(e){return t4[e]||null},Y:function(e,t){t4[e]=t},X:function(e){delete t4[e]}},t9=null,t7={G:function(){if(!D(t9))return t9;if(t9=!0,j(r))t9=!1;else try{var e="__support__";t7.Y(e,"xyz"),'"xyz"'!==t7.J(e)&&(t9=!1),t7.X(e)}catch(e){t9=!1}return t9},V:function(e){ew.error("sessionStorage error: ",e)},J:function(e){try{return null==r?void 0:r.sessionStorage.getItem(e)}catch(e){t7.V(e)}return null},K:function(e){try{return JSON.parse(t7.J(e))||null}catch(e){}return null},Y:function(e,t){try{null==r||r.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){t7.V(e)}},X:function(e){try{null==r||r.sessionStorage.removeItem(e)}catch(e){t7.V(e)}}},ie=((na={})[na.PENDING=-1]="PENDING",na[na.DENIED=0]="DENIED",na[na.GRANTED=1]="GRANTED",na);class it{constructor(e){this._instance=e}get A(){return this._instance.config}get consent(){return this.Z()?ie.DENIED:this.tt}isOptedOut(){return"always"===this.A.cookieless_mode||this.consent===ie.DENIED||this.consent===ie.PENDING&&(this.A.opt_out_capturing_by_default||"on_reject"===this.A.cookieless_mode)}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===ie.DENIED}optInOut(e){this.it.Y(this.et,+!!e,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:e,opt_out_capturing_cookie_prefix:t,consent_persistence_name:i}=this._instance.config;return i||(t?t+e:"__ph_opt_in_out_"+e)}get tt(){var e=this.it.J(this.et);return S(W,e)?ie.GRANTED:S(H,e)?ie.DENIED:ie.PENDING}get it(){if(!this.rt){var e=this.A.opt_out_capturing_persistence_type;this.rt="localStorage"===e?t3:t1;var t="localStorage"===e?t1:t3;t.J(this.et)&&(this.rt.J(this.et)||this.optInOut(S(W,t.J(this.et))),t.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!eM([null==l?void 0:l.doNotTrack,null==l?void 0:l.msDoNotTrack,g.doNotTrack],e=>S(W,e))}}var ii=eS("[Dead Clicks]"),ir=()=>!0,is=e=>{var t,i=!(null==(t=e.instance.persistence)||!t.get_property(eG)),r=e.instance.config.capture_dead_clicks;return U(r)?r:i};class ia{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(e,t,i){this.instance=e,this.isEnabled=t,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[eG]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt(()=>{this.ot()})}nt(e){var t,i;null!=(t=g.__PosthogExtensions__)&&t.initDeadClicksAutocapture&&e(),null==(i=g.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this.instance,"dead-clicks-autocapture",t=>{t?ii.error("failed to load script",t):e()})}ot(){var e;if(u){if(!this.st&&null!=(e=g.__PosthogExtensions__)&&e.initDeadClicksAutocapture){var t=R(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.st=g.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.st.start(u),ii.info("starting...")}}else ii.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,ii.info("stopping..."))}}var io=eS("[ExceptionAutocapture]");class il{constructor(e){var t,i,s;this.lt=()=>{var e;if(r&&this.isEnabled&&null!=(e=g.__PosthogExtensions__)&&e.errorWrappingFunctions){var t=g.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,i=g.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=g.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=t(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=i(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=s(this.captureException.bind(this)))}catch(e){io.error("failed to start",e),this.vt()}}},this._instance=e,this.ct=!(null==(t=this._instance.persistence)||!t.props[eV]),this.A=this.ft(),this.gt=new z({refillRate:null!=(i=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)?i:1,bucketSize:null!=(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)?s:10,refillInterval:1e4,P:io}),this.startIfEnabled()}ft(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return R(e)?t=_({},t,e):(j(e)?this.ct:e)&&(t=_({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(io.info("enabled"),this.nt(this.lt))}nt(e){var t,i;null!=(t=g.__PosthogExtensions__)&&t.errorWrappingFunctions&&e(),null==(i=g.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,"exception-autocapture",t=>{if(t)return io.error("failed to load script",t);e()})}vt(){var e,t,i;null==(e=this.ut)||e.call(this),this.ut=void 0,null==(t=this.ht)||t.call(this),this.ht=void 0,null==(i=this.dt)||i.call(this),this.dt=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.ct=!!t,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[eV]:this.ct}),this.startIfEnabled()}captureException(e){var t,i,r=null!=(t=null==e||null==(i=e.$exception_list)||null==(i=i[0])?void 0:i.type)?t:"Exception";this.gt.consumeRateLimit(r)?io.info("Skipping exception capture because of client rate limiting.",{exception:r}):this._instance.exceptions.sendExceptionEvent(e)}}function iu(e,t,i){try{if(!(t in e))return()=>{};var r=e[t],s=i(r);return C(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=s,()=>{e[t]=r}}catch(e){return()=>{}}}class ic{constructor(e){var t;this._instance=e,this._t=(null==r||null==(t=r.location)?void 0:t.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(ew.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,ew.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(r&&r.history){var i=this;null!=(e=r.history.pushState)&&e.__posthog_wrapped__||iu(r.history,"pushState",e=>function(t,r,s){e.call(this,t,r,s),i.bt("pushState")}),null!=(t=r.history.replaceState)&&t.__posthog_wrapped__||iu(r.history,"replaceState",e=>function(t,r,s){e.call(this,t,r,s),i.bt("replaceState")}),this.wt()}}bt(e){try{var t,i=null==r||null==(t=r.location)?void 0:t.pathname;if(!i)return;i!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this._t=i}catch(t){ew.error("Error capturing "+e+" pageview",t)}}wt(){if(!this.yt){var e=()=>{this.bt("popstate")};eD(r,"popstate",e),this.yt=()=>{r&&r.removeEventListener("popstate",e)}}}}var ih=eS("[SegmentIntegration]"),id="posthog-js";function ip(e,t){var{organization:i,projectId:r,prefix:s,severityAllowList:n=["error"],sendExceptionsToPostHog:a=!0}=void 0===t?{}:t;return t=>{if(!("*"===n||n.includes(t.level))||!e.__loaded)return t;t.tags||(t.tags={});var o,l,u,c,h,d=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());t.tags["PostHog Person URL"]=d,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var p=(null==(o=t.exception)?void 0:o.values)||[],f=p.map(e=>_({},e,{stacktrace:e.stacktrace?_({},e.stacktrace,{type:"raw",frames:(e.stacktrace.frames||[]).map(e=>_({},e,{platform:"web:javascript"}))}):void 0})),g={$exception_message:(null==(l=p[0])?void 0:l.value)||t.message,$exception_type:null==(u=p[0])?void 0:u.type,$exception_level:t.level,$exception_list:f,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null==(c=p[0])?void 0:c.value)||t.message,$sentry_exception_type:null==(h=p[0])?void 0:h.type,$sentry_tags:t.tags};return i&&r&&(g.$sentry_url=(s||"https://sentry.io/organizations/")+i+"/issues/?project="+r+"&query="+t.event_id),a&&e.exceptions.sendExceptionEvent(g),t}}class ig{constructor(e,t,i,r,s,n){this.name=id,this.setupOnce=function(a){a(ip(e,{organization:t,projectId:i,prefix:r,severityAllowList:s,sendExceptionsToPostHog:null==n||n}))}}}var im=null!=r&&r.location?tN(r.location.hash,"__posthog")||tN(location.hash,"state"):null,iv="_postHogToolbarParams",iy=eS("[Toolbar]"),i_=((no=i_||{})[no.UNINITIALIZED=0]="UNINITIALIZED",no[no.LOADING=1]="LOADING",no[no.LOADED=2]="LOADED",no);class ib{constructor(e){this.instance=e}xt(e){g.ph_toolbar_state=e}St(){var e;return null!=(e=g.ph_toolbar_state)?e:i_.UNINITIALIZED}maybeLoadToolbar(e,t,i){if(void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===i&&(i=void 0),!r||!u)return!1;e=null!=e?e:r.location,i=null!=i?i:r.history;try{if(!t){try{r.localStorage.setItem("test","test"),r.localStorage.removeItem("test")}catch(e){return!1}t=null==r?void 0:r.localStorage}var s,n=im||tN(e.hash,"__posthog")||tN(e.hash,"state"),a=n?eR(()=>JSON.parse(atob(decodeURIComponent(n))))||eR(()=>JSON.parse(decodeURIComponent(n))):null;return a&&"ph_authorize"===a.action?((s=a).source="url",s&&Object.keys(s).length>0&&(a.desiredHash?e.hash=a.desiredHash:i?i.replaceState(i.state,"",e.pathname+e.search):e.hash="")):((s=JSON.parse(t.getItem(iv)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(e){return!1}}Et(e){var t=g.ph_load_toolbar||g.ph_load_editor;!F(t)&&C(t)?t(e,this.instance):iy.warn("No toolbar load function found")}loadToolbar(e){var t,i=!(null==u||!u.getElementById(ti));if(!r||i)return!1;var s="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,n=_({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},s?{instrument:!1}:{});return(r.localStorage.setItem(iv,JSON.stringify(_({},n,{source:void 0}))),this.St()===i_.LOADED)?this.Et(n):this.St()===i_.UNINITIALIZED&&(this.xt(i_.LOADING),null==(t=g.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this.instance,"toolbar",e=>{e?(iy.error("[Toolbar] Failed to load",e),this.xt(i_.UNINITIALIZED)):(this.xt(i_.LOADED),this.Et(n))}),eD(r,"turbolinks:load",()=>{this.xt(i_.UNINITIALIZED),this.loadToolbar(n)})),!0}$t(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,i){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===i&&(i=void 0),this.maybeLoadToolbar(e,t,i)}}var iw=eS("[TracingHeaders]");class iS{constructor(e){this.kt=void 0,this.Pt=void 0,this.lt=()=>{var e,t;j(this.kt)&&(null==(e=g.__PosthogExtensions__)||null==(e=e.tracingHeadersPatchFns)||e._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),j(this.Pt)&&(null==(t=g.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}nt(e){var t,i;null!=(t=g.__PosthogExtensions__)&&t.tracingHeadersPatchFns&&e(),null==(i=g.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,"tracing-headers",t=>{if(t)return iw.error("failed to load script",t);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.nt(this.lt):(null==(e=this.kt)||e.call(this),null==(t=this.Pt)||t.call(this),this.kt=void 0,this.Pt=void 0)}}var iE="Mobile",ix="Android",ik="Tablet",iT=ix+" "+ik,iP="iPad",iO="Apple",iA=iO+" Watch",iC="Safari",iR="BlackBerry",iI="Samsung",ij=iI+"Browser",i$=iI+" Internet",iM="Chrome",iD=iM+" OS",iF=iM+" iOS",iL="Internet Explorer",iU=iL+" "+iE,iN="Opera",iq=iN+" Mini",iV="Edge",iB="Microsoft "+iV,iW="Firefox",iH=iW+" iOS",iG="Nintendo",iz="PlayStation",iK="Xbox",iQ=ix+" "+iE,iJ=iE+" "+iC,iY="Windows",iX=iY+" Phone",iZ="Nokia",i0="Ouya",i1="Generic",i2=i1+" "+iE.toLowerCase(),i3=i1+" "+ik.toLowerCase(),i5="Konqueror",i6="(\\d+(\\.\\d+)?)",i4=RegExp("Version/"+i6),i8=RegExp(iK,"i"),i9=RegExp(iz+" \\w+","i"),i7=RegExp(iG+" \\w+","i"),re=RegExp(iR+"|PlayBook|BB10","i"),rt={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},ri=function(e,t){var i;return t=t||"",S(e," OPR/")&&S(e,"Mini")?iq:S(e," OPR/")?iN:re.test(e)?iR:S(e,"IE"+iE)||S(e,"WPDesktop")?iU:S(e,ij)?i$:S(e,iV)||S(e,"Edg/")?iB:S(e,"FBIOS")?"Facebook "+iE:S(e,"UCWEB")||S(e,"UCBrowser")?"UC Browser":S(e,"CriOS")?iF:S(e,"CrMo")||S(e,iM)?iM:S(e,ix)&&S(e,iC)?iQ:S(e,"FxiOS")?iH:S(e.toLowerCase(),i5.toLowerCase())?i5:(i=t)&&S(i,iO)||S(e,iC)&&!S(e,iM)&&!S(e,ix)?S(e,iE)?iJ:iC:S(e,iW)?iW:S(e,"MSIE")||S(e,"Trident/")?iL:S(e,"Gecko")?iW:""},rr={[iU]:[RegExp("rv:"+i6)],[iB]:[RegExp(iV+"?\\/"+i6)],[iM]:[RegExp("("+iM+"|CrMo)\\/"+i6)],[iF]:[RegExp("CriOS\\/"+i6)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+i6)],[iC]:[i4],[iJ]:[i4],[iN]:[RegExp("(Opera|OPR)\\/"+i6)],[iW]:[RegExp(iW+"\\/"+i6)],[iH]:[RegExp("FxiOS\\/"+i6)],[i5]:[RegExp("Konqueror[:/]?"+i6,"i")],[iR]:[RegExp(iR+" "+i6),i4],[iQ]:[RegExp("android\\s"+i6,"i")],[i$]:[RegExp(ij+"\\/"+i6)],[iL]:[RegExp("(rv:|MSIE )"+i6)],Mozilla:[RegExp("rv:"+i6)]},rs=function(e,t){var i=rr[ri(e,t)];if(j(i))return null;for(var r=0;r<i.length;r++){var s=i[r],n=e.match(s);if(n)return parseFloat(n[n.length-2])}return null},rn=[[RegExp(iK+"; "+iK+" (.*?)[);]","i"),e=>[iK,e&&e[1]||""]],[RegExp(iG,"i"),[iG,""]],[RegExp(iz,"i"),[iz,""]],[re,[iR,""]],[RegExp(iY,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[iX,""];if(new RegExp(iE).test(t)&&!/IEMobile\b/.test(t))return[iY+" "+iE,""];var i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){var r=rt[i[1]]||"";return/arm/i.test(t)&&(r="RT"),[iY,r]}return[iY,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>e&&e[3]?["iOS",[e[3],e[4],e[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=j(e[2])?e[3]:e[2]),["watchOS",t]}],[RegExp("("+ix+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ix+")","i"),e=>e&&e[2]?[ix,[e[2],e[3],e[4]||"0"].join(".")]:[ix,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var i=[e[1],e[2],e[3]||"0"];t[1]=i.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[iD,""]],[/Linux|debian/i,["Linux",""]]],ra=function(e){return i7.test(e)?iG:i9.test(e)?iz:i8.test(e)?iK:RegExp(i0,"i").test(e)?i0:RegExp("("+iX+"|WPDesktop)","i").test(e)?iX:/iPad/.test(e)?iP:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?iA:re.test(e)?iR:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":RegExp(iZ,"i").test(e)?iZ:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(iE).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?ix:iT:ix:RegExp("(pda|"+iE+")","i").test(e)?i2:RegExp(ik,"i").test(e)&&!RegExp(ik+" pc","i").test(e)?i3:""},ro="https?://(.*)",rl=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],ru=eA(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],rl),rc="<masked>",rh=["li_fat_id"];function rd(e,t,i){if(!u)return{};var r,s=t?eA([],rl,i||[]):[],n=rp(tU(u.URL,s,rc),e);return eO((r={},eP(rh,function(e){var t=t1.J(e);r[e]=t||null}),r),n)}function rp(e,t){var i=ru.concat(t||[]),r={};return eP(i,function(t){var i=tL(e,t);r[t]=i||null}),r}function rf(e){var t=e?0===e.search(ro+"google.([^/?]*)")?"google":0===e.search(ro+"bing.com")?"bing":0===e.search(ro+"yahoo.com")?"yahoo":0===e.search(ro+"duckduckgo.com")?"duckduckgo":null:null,i={};if(!D(t)){i.$search_engine=t;var r=u?tL(u.referrer,"yahoo"!=t?"q":"p"):"";r.length&&(i.ph_keyword=r)}return i}function rg(){return navigator.language||navigator.userLanguage}function rm(){return(null==u?void 0:u.referrer)||"$direct"}function rv(e,t){var i=e?eA([],rl,t||[]):[],r=null==c?void 0:c.href.substring(0,1e3);return{r:rm().substring(0,1e3),u:r?tU(r,i,rc):void 0}}function ry(e){var t,{r:i,u:r}=e,s={$referrer:i,$referring_domain:null==i?void 0:"$direct"==i?"$direct":null==(t=tD(i))?void 0:t.host};if(r){s.$current_url=r;var n=tD(r);s.$host=null==n?void 0:n.host,s.$pathname=null==n?void 0:n.pathname,eO(s,rp(r))}return i&&eO(s,rf(i)),s}function r_(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}var rb=eS("[Web Vitals]");class rw{constructor(e){var t;this.Tt=!1,this.C=!1,this.q={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.It=()=>{clearTimeout(this.Rt),0!==this.q.metrics.length&&(this._instance.capture("$web_vitals",this.q.metrics.reduce((e,t)=>_({},e,{["$web_vitals_"+t.name+"_event"]:_({},t),["$web_vitals_"+t.name+"_value"]:t.value}),{})),this.q={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Ct=e=>{var t,i=null==(t=this._instance.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0);if(j(i))rb.error("Could not read session ID. Dropping metrics!");else{this.q=this.q||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.Ot();j(r)||(F(null==e?void 0:e.name)||F(null==e?void 0:e.value)?rb.error("Invalid metric received",e):this.Ft&&e.value>=this.Ft?rb.error("Ignoring metric with value >= "+this.Ft,e):(this.q.url!==r&&(this.It(),this.Rt=setTimeout(this.It,this.flushToCaptureTimeoutMs)),j(this.q.url)&&(this.q.url=r),this.q.firstMetricTimestamp=j(this.q.firstMetricTimestamp)?Date.now():this.q.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.q.metrics.push(_({},e,{$current_url:r,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.q.metrics.length===this.allowedMetrics.length&&this.It()))}},this.lt=()=>{var e,t,i,r,s=g.__PosthogExtensions__;j(s)||j(s.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:i,onINP:r}=s.postHogWebVitalsCallbacks),e&&t&&i&&r?(this.allowedMetrics.indexOf("LCP")>-1&&e(this.Ct.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&t(this.Ct.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&i(this.Ct.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&r(this.Ct.bind(this)),this.C=!0):rb.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Tt=!(null==(t=this._instance.persistence)||!t.props[eH]),this.startIfEnabled()}get allowedMetrics(){var e,t,i=R(this._instance.config.capture_performance)?null==(e=this._instance.config.capture_performance)?void 0:e.web_vitals_allowed_metrics:void 0;return j(i)?(null==(t=this._instance.persistence)?void 0:t.props[ez])||["CLS","FCP","INP","LCP"]:i}get flushToCaptureTimeoutMs(){return(R(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ft(){var e=R(this._instance.config.capture_performance)&&L(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<e&&e<=6e4?9e5:e}get isEnabled(){var e=null==c?void 0:c.protocol;if("http:"!==e&&"https:"!==e)return rb.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=R(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:U(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return U(t)?t:this.Tt}startIfEnabled(){this.isEnabled&&!this.C&&(rb.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(e){var t=R(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=R(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[eH]:t}),this._instance.persistence.register({[ez]:i})),this.Tt=t,this.startIfEnabled()}nt(e){var t,i;null!=(t=g.__PosthogExtensions__)&&t.postHogWebVitalsCallbacks&&e(),null==(i=g.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,"web-vitals",t=>{t?rb.error("failed to load script",t):e()})}Ot(){var e=r?r.location.href:void 0;if(e){var t=this._instance.config.mask_personal_data_properties,i=this._instance.config.custom_personal_data_properties;return tU(e,t?eA([],rl,i||[]):[],rc)}rb.error("Could not determine current URL")}}var rS=eS("[Heatmaps]");function rE(e){return R(e)&&"clientX"in e&&"clientY"in e&&L(e.clientX)&&L(e.clientY)}class rx{constructor(e){var t;this.rageclicks=new tj,this.Tt=!1,this.C=!1,this.Mt=null,this.instance=e,this.Tt=!(null==(t=this.instance.persistence)||!t.props[eq])}get flushIntervalMilliseconds(){var e=5e3;return R(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return j(this.instance.config.capture_heatmaps)?j(this.instance.config.enable_heatmaps)?this.Tt:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.C||(rS.info("starting..."),this.At(),this.Mt=setInterval(this.jt.bind(this),this.flushIntervalMilliseconds));else{var e,t;clearInterval(null!=(e=this.Mt)?e:void 0),null==(t=this.Dt)||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[eq]:t}),this.Tt=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.q;return this.q=void 0,e}Lt(e){this.Nt(e.originalEvent,"deadclick")}At(){r&&u&&(eD(r,"beforeunload",this.jt.bind(this)),eD(u,"click",e=>this.Nt(e||(null==r?void 0:r.event)),{capture:!0}),eD(u,"mousemove",e=>this.Ut(e||(null==r?void 0:r.event)),{capture:!0}),this.Dt=new ia(this.instance,ir,this.Lt.bind(this)),this.Dt.startIfEnabled(),this.C=!0)}zt(e,t){var i=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),a=function(e,t,i){for(var s=e;s&&ta(s)&&!to(s,"body")&&s!==i;){if(S(t,null==r?void 0:r.getComputedStyle(s).position))return!0;s=ty(s)}return!1}(tg(e),["fixed","sticky"],n);return{x:e.clientX+(a?0:s),y:e.clientY+(a?0:i),target_fixed:a,type:t}}Nt(e,t){var i;if(void 0===t&&(t="click"),!tn(e.target)&&rE(e)){var r=this.zt(e,t);null!=(i=this.rageclicks)&&i.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.Ht(_({},r,{type:"rageclick"})),this.Ht(r)}}Ut(e){!tn(e.target)&&rE(e)&&(clearTimeout(this.Bt),this.Bt=setTimeout(()=>{this.Ht(this.zt(e,"mousemove"))},500))}Ht(e){if(r){var t=r.location.href,i=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,n=tU(t,i?eA([],rl,s||[]):[],rc);this.q=this.q||{},this.q[n]||(this.q[n]=[]),this.q[n].push(e)}}jt(){this.q&&!I(this.q)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class rk{constructor(e){this._instance=e}doPageView(e,t){var i,s=this.qt(e,t);return this.Wt={pathname:null!=(i=null==r?void 0:r.location.pathname)?i:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),s}doPageLeave(e){var t;return this.qt(e,null==(t=this.Wt)?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null==(e=this.Wt)?void 0:e.pageViewId}}qt(e,t){var i=this.Wt;if(!i)return{$pageview_id:t};var r={$pageview_id:t,$prev_pageview_id:i.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:a,maxScrollY:o,maxContentHeight:l,lastContentY:u,maxContentY:c}=s;if(!(j(n)||j(a)||j(o)||j(l)||j(u)||j(c))){n=Math.ceil(n),a=Math.ceil(a),o=Math.ceil(o),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var h=n<=1?1:G(a/n,0,1,ew),d=n<=1?1:G(o/n,0,1,ew),p=l<=1?1:G(u/l,0,1,ew),f=l<=1?1:G(c/l,0,1,ew);r=eO(r,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:o,$prev_pageview_max_scroll_percentage:d,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:p,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:f})}}return i.pathname&&(r.$prev_pageview_pathname=i.pathname),i.timestamp&&(r.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),r}}var rT=Uint8Array,rP=Uint16Array,rO=Uint32Array,rA=new rT([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rC=new rT([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rR=new rT([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rI=function(e,t){for(var i=new rP(31),r=0;r<31;++r)i[r]=t+=1<<e[r-1];var s=new rO(i[30]);for(r=1;r<30;++r)for(var n=i[r];n<i[r+1];++n)s[n]=n-i[r]<<5|r;return[i,s]},rj=rI(rA,2),r$=rj[0],rM=rj[1];r$[28]=258,rM[258]=28;for(var rD=rI(rC,0)[1],rF=new rP(32768),rL=0;rL<32768;++rL){var rU=(43690&rL)>>>1|(21845&rL)<<1;rU=(61680&(rU=(52428&rU)>>>2|(13107&rU)<<2))>>>4|(3855&rU)<<4,rF[rL]=((65280&rU)>>>8|(255&rU)<<8)>>>1}var rN=function(e,t,i){for(var r=e.length,s=0,n=new rP(t);s<r;++s)++n[e[s]-1];var a,o=new rP(t);for(s=0;s<t;++s)o[s]=o[s-1]+n[s-1]<<1;if(i){a=new rP(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var u=s<<4|e[s],c=t-e[s],h=o[e[s]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)a[rF[h]>>>l]=u}else for(a=new rP(r),s=0;s<r;++s)a[s]=rF[o[e[s]-1]++]>>>15-e[s];return a},rq=new rT(288);for(rL=0;rL<144;++rL)rq[rL]=8;for(rL=144;rL<256;++rL)rq[rL]=9;for(rL=256;rL<280;++rL)rq[rL]=7;for(rL=280;rL<288;++rL)rq[rL]=8;var rV=new rT(32);for(rL=0;rL<32;++rL)rV[rL]=5;var rB=rN(rq,9,0),rW=rN(rV,5,0),rH=function(e){return(e/8|0)+(7&e&&1)},rG=function(e,t,i){(null==i||i>e.length)&&(i=e.length);var r=new(e instanceof rP?rP:e instanceof rO?rO:rT)(i-t);return r.set(e.subarray(t,i)),r},rz=function(e,t,i){i<<=7&t;var r=t/8|0;e[r]|=i,e[r+1]|=i>>>8},rK=function(e,t,i){i<<=7&t;var r=t/8|0;e[r]|=i,e[r+1]|=i>>>8,e[r+2]|=i>>>16},rQ=function(e,t){for(var i=[],r=0;r<e.length;++r)e[r]&&i.push({s:r,f:e[r]});var s=i.length,n=i.slice();if(!s)return[new rT(0),0];if(1==s){var a=new rT(i[0].s+1);return a[i[0].s]=1,[a,1]}i.sort(function(e,t){return e.f-t.f}),i.push({s:-1,f:25001});var o=i[0],l=i[1],u=0,c=1,h=2;for(i[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=s-1;)o=i[i[u].f<i[h].f?u++:h++],l=i[u!=c&&i[u].f<i[h].f?u++:h++],i[c++]={s:-1,f:o.f+l.f,l:o,r:l};var d=n[0].s;for(r=1;r<s;++r)n[r].s>d&&(d=n[r].s);var p=new rP(d+1),f=rJ(i[c-1],p,0);if(f>t){r=0;var g=0,m=f-t,v=1<<m;for(n.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<s;++r){var y=n[r].s;if(!(p[y]>t))break;g+=v-(1<<f-p[y]),p[y]=t}for(g>>>=m;g>0;){var _=n[r].s;p[_]<t?g-=1<<t-p[_]++-1:++r}for(;r>=0&&g;--r){var b=n[r].s;p[b]==t&&(--p[b],++g)}f=t}return[new rT(p),f]},rJ=function(e,t,i){return -1==e.s?Math.max(rJ(e.l,t,i+1),rJ(e.r,t,i+1)):t[e.s]=i},rY=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new rP(++t),r=0,s=e[0],n=1,a=function(e){i[r++]=e},o=1;o<=t;++o)if(e[o]==s&&o!=t)++n;else{if(!s&&n>2){for(;n>138;n-=138)a(32754);n>2&&(a(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(a(s),--n;n>6;n-=6)a(8304);n>2&&(a(n-3<<5|8208),n=0)}for(;n--;)a(s);n=1,s=e[o]}return[i.subarray(0,r),t]},rX=function(e,t){for(var i=0,r=0;r<t.length;++r)i+=e[r]*t[r];return i},rZ=function(e,t,i){var r=i.length,s=rH(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var n=0;n<r;++n)e[s+n+4]=i[n];return 8*(s+4+r)},r0=function(e,t,i,r,s,n,a,o,l,u,c){rz(t,c++,i),++s[256];for(var h=rQ(s,15),d=h[0],p=h[1],f=rQ(n,15),g=f[0],m=f[1],v=rY(d),y=v[0],_=v[1],b=rY(g),w=b[0],S=b[1],E=new rP(19),x=0;x<y.length;++x)E[31&y[x]]++;for(x=0;x<w.length;++x)E[31&w[x]]++;for(var k=rQ(E,7),T=k[0],P=k[1],O=19;O>4&&!T[rR[O-1]];--O);var A,C,R,I,j=u+5<<3,$=rX(s,rq)+rX(n,rV)+a,M=rX(s,d)+rX(n,g)+a+14+3*O+rX(E,T)+(2*E[16]+3*E[17]+7*E[18]);if(j<=$&&j<=M)return rZ(t,c,e.subarray(l,l+u));if(rz(t,c,1+(M<$)),c+=2,M<$){A=rN(d,p,0),C=d,R=rN(g,m,0),I=g;var D=rN(T,P,0);for(rz(t,c,_-257),rz(t,c+5,S-1),rz(t,c+10,O-4),c+=14,x=0;x<O;++x)rz(t,c+3*x,T[rR[x]]);c+=3*O;for(var F=[y,w],L=0;L<2;++L){var U=F[L];for(x=0;x<U.length;++x){var N=31&U[x];rz(t,c,D[N]),c+=T[N],N>15&&(rz(t,c,U[x]>>>5&127),c+=U[x]>>>12)}}}else A=rB,C=rq,R=rW,I=rV;for(x=0;x<o;++x)if(r[x]>255){rK(t,c,A[(N=r[x]>>>18&31)+257]),c+=C[N+257],N>7&&(rz(t,c,r[x]>>>23&31),c+=rA[N]);var q=31&r[x];rK(t,c,R[q]),c+=I[q],q>3&&(rK(t,c,r[x]>>>5&8191),c+=rC[q])}else rK(t,c,A[r[x]]),c+=C[r[x]];return rK(t,c,A[256]),c+C[256]},r1=new rO([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),r2=function(){for(var e=new rO(256),t=0;t<256;++t){for(var i=t,r=9;--r;)i=(1&i&&0xedb88320)^i>>>1;e[t]=i}return e}(),r3=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},r5=function(e){var t,i,r,s,n="";for(t=i=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,s=0;s<r;s++){var a=e.charCodeAt(s),o=null;a<128?i++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),D(o)||(i>t&&(n+=e.substring(t,i)),n+=o,t=i=s+1)}return i>t&&(n+=e.substring(t,e.length)),n},r6=!!d||!!h,r4="text/plain",r8=(e,t)=>{var[i,r]=e.split("?"),s=_({},t);null==r||r.split("&").forEach(e=>{var[t]=e.split("=");delete s[t]});var n=tF(s);return i+"?"+(n=n?(r?r+"&":"")+n:r)},r9=(e,t)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,t),r7=e=>{var{data:t,compression:i}=e;if(t){if(i===tM.GZipJS){var r,s,n,a,o,l,u,c,h=new Blob([(r=function(e,t){var i=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new rT(e.length+(e.length>>>1)),s=0,n=function(e){r[s++]=e},a=0;a<i;++a){if(s+5>r.length){var o=new rT(s+8+(i-a<<1));o.set(r),r=o}var l=e.charCodeAt(a);l<128?n(l):(l<2048?n(192|l>>>6):(l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++a))>>>18),n(128|l>>>12&63)):n(224|l>>>12),n(128|l>>>6&63)),n(128|63&l))}return rG(r,0,s)}(r9(t)),s={mtime:0},n=0xffffffff,a={p:function(e){for(var t=n,i=0;i<e.length;++i)t=r2[255&t^e[i]]^t>>>8;n=t},d:function(){return 0xffffffff^n}},o=r.length,a.p(r),c=(l=10+(s.filename&&s.filename.length+1||0),u=function(e,t,i,r,s,n){var a=e.length,o=new rT(r+a+5*(1+Math.floor(a/7e3))+8),l=o.subarray(r,o.length-8),u=0;if(!t||a<8)for(var c=0;c<=a;c+=65535){var h=c+65535;h<a?u=rZ(l,u,e.subarray(c,h)):(l[c]=n,u=rZ(l,u,e.subarray(c,a)))}else{for(var d=r1[t-1],p=d>>>13,f=8191&d,g=(1<<i)-1,m=new rP(32768),v=new rP(g+1),y=Math.ceil(i/3),_=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<_)&g},w=new rO(25e3),S=new rP(288),E=new rP(32),x=0,k=0,T=(c=0,0),P=0,O=0;c<a;++c){var A=b(c),C=32767&c,R=v[A];if(m[C]=R,v[A]=C,P<=c){var I=a-c;if((x>7e3||T>24576)&&I>423){u=r0(e,l,0,w,S,E,k,T,O,c-O,u),T=x=k=0,O=c;for(var j=0;j<286;++j)S[j]=0;for(j=0;j<30;++j)E[j]=0}var $=2,M=0,D=f,F=C-R&32767;if(I>2&&A==b(c-F))for(var L=Math.min(p,I)-1,U=Math.min(32767,c),N=Math.min(258,I);F<=U&&--D&&C!=R;){if(e[c+$]==e[c+$-F]){for(var q=0;q<N&&e[c+q]==e[c+q-F];++q);if(q>$){if($=q,M=F,q>L)break;var V=Math.min(F,q-2),B=0;for(j=0;j<V;++j){var W=c-F+j+32768&32767,H=W-m[W]+32768&32767;H>B&&(B=H,R=W)}}}F+=(C=R)-(R=m[C])+32768&32767}if(M){w[T++]=0x10000000|rM[$]<<18|rD[M];var G=31&rM[$],z=31&rD[M];k+=rA[G]+rC[z],++S[257+G],++E[z],P=c+$,++x}else w[T++]=e[c],++S[e[c]]}}u=r0(e,l,n,w,S,E,k,T,O,c-O,u)}return rG(o,0,r+rH(u)+8)}(r,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+s.mem,l,8,!0)).length,function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:2*(9==t.level),e[9]=3,0!=t.mtime&&r3(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var r=0;r<=i.length;++r)e[r+10]=i.charCodeAt(r)}}(u,s),r3(u,c-8,a.d()),r3(u,c-4,o),u)],{type:r4});return{contentType:r4,body:h,estimatedSize:h.size}}if(i===tM.Base64){let e;var d="data="+encodeURIComponent("string"==typeof(e=function(e){var t,i,r,s,n,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,l=0,u="",c=[];if(!e)return e;e=r5(e);do t=(n=e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<8|e.charCodeAt(o++))>>18&63,i=n>>12&63,r=n>>6&63,s=63&n,c[l++]=a.charAt(t)+a.charAt(i)+a.charAt(r)+a.charAt(s);while(o<e.length);switch(u=c.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}(r9(t)))?e:r9(e));return{contentType:"application/x-www-form-urlencoded",body:d,estimatedSize:new Blob([d]).size}}var p=r9(t);return{contentType:"application/json",body:p,estimatedSize:new Blob([p]).size}}},se=[];h&&se.push({transport:"fetch",method:e=>{var t,i,{contentType:r,body:s,estimatedSize:n}=null!=(t=r7(e))?t:{},a=new Headers;eP(e.headers,function(e,t){a.append(t,e)}),r&&a.append("Content-Type",r);var o=e.url,l=null;if(p){var u=new p;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}h(o,_({method:(null==e?void 0:e.method)||"GET",headers:a,keepalive:"POST"===e.method&&52428.8>(n||0),body:s,signal:null==(i=l)?void 0:i.signal},e.fetchOptions)).then(t=>t.text().then(i=>{var r={statusCode:t.status,text:i};if(200===t.status)try{r.json=JSON.parse(i)}catch(e){ew.error(e)}null==e.callback||e.callback(r)})).catch(t=>{ew.error(t),null==e.callback||e.callback({statusCode:0,text:t})}).finally(()=>l?clearTimeout(l.timeout):null)}}),d&&se.push({transport:"XHR",method:e=>{var t,i=new d;i.open(e.method||"GET",e.url,!0);var{contentType:r,body:s}=null!=(t=r7(e))?t:{};eP(e.headers,function(e,t){i.setRequestHeader(t,e)}),r&&i.setRequestHeader("Content-Type",r),e.timeout&&(i.timeout=e.timeout),e.disableXHRCredentials||(i.withCredentials=!0),i.onreadystatechange=()=>{if(4===i.readyState){var t={statusCode:i.status,text:i.responseText};if(200===i.status)try{t.json=JSON.parse(i.responseText)}catch(e){}null==e.callback||e.callback(t)}},i.send(s)}}),null!=l&&l.sendBeacon&&se.push({transport:"sendBeacon",method:e=>{var t=r8(e.url,{beacon:"1"});try{var i,{contentType:r,body:s}=null!=(i=r7(e))?i:{},n="string"==typeof s?new Blob([s],{type:r}):s;l.sendBeacon(t,n)}catch(e){}}});var st=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}};function si(e,t,i){return r9({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:i})}var sr={exact:(e,t)=>t.some(t=>e.some(e=>t===e)),is_not:(e,t)=>t.every(t=>e.every(e=>t!==e)),regex:(e,t)=>t.some(t=>e.some(e=>st(t,e))),not_regex:(e,t)=>t.every(t=>e.every(e=>!st(t,e))),icontains:(e,t)=>t.map(ss).some(t=>e.map(ss).some(e=>t.includes(e))),not_icontains:(e,t)=>t.map(ss).every(t=>e.map(ss).every(e=>!t.includes(e)))},ss=e=>e.toLowerCase(),sn=eS("[Error tracking]");class sa{constructor(e){var t,i;this.Gt=[],this.Vt=new el([new eu,new e_,new eh,new ec,new ev,new em,new ep,new ey],[er,ea]),this._instance=e,this.Gt=null!=(t=null==(i=this._instance.persistence)?void 0:i.get_property(eB))?t:[]}onRemoteConfig(e){var t,i,r,s=null!=(t=null==(i=e.errorTracking)?void 0:i.suppressionRules)?t:[],n=null==(r=e.errorTracking)?void 0:r.captureExtensionExceptions;this.Gt=s,this._instance.persistence&&this._instance.persistence.register({[eB]:this.Gt,[eW]:n})}get Jt(){var e,t=!!this._instance.get_property(eW),i=this._instance.config.error_tracking.captureExtensionExceptions;return null!=(e=null!=i?i:t)&&e}buildProperties(e,t){return this.Vt.buildFromUnknown(e,{syntheticException:null==t?void 0:t.syntheticException,mechanism:{handled:null==t?void 0:t.handled}})}sendExceptionEvent(e){if(this.Kt(e))sn.info("Skipping exception capture because a suppression rule matched");else{if(this.Jt||!this.Yt(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});sn.info("Skipping exception capture because it was thrown by an extension")}}Kt(e){var t=e.$exception_list;if(!t||!A(t)||0===t.length)return!1;var i=t.reduce((e,t)=>{var{type:i,value:r}=t;return $(i)&&i.length>0&&e.$exception_types.push(i),$(r)&&r.length>0&&e.$exception_values.push(r),e},{$exception_types:[],$exception_values:[]});return this.Gt.some(e=>{var t=e.values.map(e=>{var t,r=sr[e.operator],s=A(e.value)?e.value:[e.value],n=null!=(t=i[e.key])?t:[];return s.length>0&&r(s,n)});return"OR"===e.type?t.some(Boolean):t.every(Boolean)})}Yt(e){var t=e.$exception_list;return!(!t||!A(t))&&t.flatMap(e=>{var t,i;return null!=(t=null==(i=e.stacktrace)?void 0:i.frames)?t:[]}).some(e=>e.filename&&e.filename.startsWith("chrome-extension://"))}}var so=eS("[FeatureFlags]"),sl="$active_feature_flags",su="$override_feature_flags",sc="$feature_flag_payloads",sh="$override_feature_flag_payloads",sd="$feature_flag_request_id",sp=e=>{var t={};for(var[i,r]of eC(e||{}))r&&(t[i]=r);return t},sf=((nl={}).FeatureFlags="feature_flags",nl.Recordings="recordings",nl);class sg{constructor(e){this.Xt=!1,this.Qt=!1,this.Zt=!1,this.ti=!1,this.ii=!1,this.ei=!1,this.ri=!1,this._instance=e,this.featureFlagEventHandlers=[]}si(){var e=this._instance.config.evaluation_environments;return null!=e&&e.length?e.filter(e=>{var t=e&&"string"==typeof e&&e.trim().length>0;return t||so.error("Invalid evaluation environment found:",e,"Expected non-empty string"),t}):[]}ni(){return this.si().length>0}flags(){if(this._instance.config.__preview_remote_config)this.ei=!0;else{var e=!this.oi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.ai({disableFlags:e})}}get hasLoadedFlags(){return this.Qt}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(eZ),t=this._instance.get_property(su),i=this._instance.get_property(sh);if(!i&&!t)return e||{};var r=eO({},e||{});for(var s of[...new Set([...Object.keys(i||{}),...Object.keys(t||{})])]){var n,a,o=r[s],l=null==t?void 0:t[s],u=j(l)?null!=(n=null==o?void 0:o.enabled)&&n:!!l,c=j(l)?o.variant:"string"==typeof l?l:void 0,h=null==i?void 0:i[s],d=_({},o,{enabled:u,variant:u?null!=c?c:null==o?void 0:o.variant:void 0});u!==(null==o?void 0:o.enabled)&&(d.original_enabled=null==o?void 0:o.enabled),c!==(null==o?void 0:o.variant)&&(d.original_variant=null==o?void 0:o.variant),h&&(d.metadata=_({},null==o?void 0:o.metadata,{payload:h,original_payload:null==o||null==(a=o.metadata)?void 0:a.payload})),r[s]=d}return this.Xt||(so.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:i,finalDetails:r}),this.Xt=!0),r}getFlagVariants(){var e=this._instance.get_property(eY),t=this._instance.get_property(su);if(!t)return e||{};for(var i=eO({},e),r=Object.keys(t),s=0;s<r.length;s++)i[r[s]]=t[r[s]];return this.Xt||(so.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this.Xt=!0),i}getFlagPayloads(){var e=this._instance.get_property(sc),t=this._instance.get_property(sh);if(!t)return e||{};for(var i=eO({},e||{}),r=Object.keys(t),s=0;s<r.length;s++)i[r[s]]=t[r[s]];return this.Xt||(so.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:i}),this.Xt=!0),i}reloadFeatureFlags(){this.ti||this._instance.config.advanced_disable_feature_flags||this.oi||(this.oi=setTimeout(()=>{this.ai()},5))}li(){clearTimeout(this.oi),this.oi=void 0}ensureFlagsLoaded(){this.Qt||this.Zt||this.oi||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.ti=e}ai(e){var t;if(this.li(),!this._instance.L())if(this.Zt)this.ii=!0;else{var i={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:_({},(null==(t=this._instance.persistence)?void 0:t.get_initial_props())||{},this._instance.get_property(e0)||{}),group_properties:this._instance.get_property(e1)};(null!=e&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(i.disable_flags=!0),this.ni()&&(i.evaluation_environments=this.si());var r=this._instance.config.__preview_remote_config,s=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",n=this._instance.requestRouter.endpointFor("api",(r?"/flags/?v=2":"/flags/?v=2&config=true")+s);r&&(i.timezone=r_()),this.Zt=!0,this._instance.ui({method:"POST",url:n,data:i,compression:this._instance.config.disable_compression?void 0:tM.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,r,s,n=!0;200===e.statusCode&&(this.ii||(this.$anon_distinct_id=void 0),n=!1),this.Zt=!1,this.ei||(this.ei=!0,this._instance.hi(null!=(s=e.json)?s:{})),(!i.disable_flags||this.ii)&&((this.ri=!n,e.json&&null!=(r=e.json.quotaLimited)&&r.includes(sf.FeatureFlags))?so.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(i.disable_flags||this.receivedFeatureFlags(null!=(t=e.json)?t:{},n),this.ii&&(this.ii=!1,this.ai())))}})}}getFeatureFlag(e,t){if(void 0===t&&(t={}),this.Qt||this.getFlags()&&this.getFlags().length>0){var i=this.getFlagVariants()[e],r=""+i,s=this._instance.get_property(sd)||void 0,n=this._instance.get_property(e5)||{};if((t.send_event||!("send_event"in t))&&(!(e in n)||!n[e].includes(r))){A(n[e])?n[e].push(r):n[e]=[r],null==(l=this._instance.persistence)||l.register({[e5]:n});var a=this.getFeatureFlagDetails(e),o={$feature_flag:e,$feature_flag_response:i,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:(null==(u=this._instance.config.bootstrap)||null==(u=u.featureFlags)?void 0:u[e])||null,$feature_flag_bootstrapped_payload:(null==(c=this._instance.config.bootstrap)||null==(c=c.featureFlagPayloads)?void 0:c[e])||null,$used_bootstrap_value:!this.ri};j(null==a||null==(h=a.metadata)?void 0:h.version)||(o.$feature_flag_version=a.metadata.version);var l,u,c,h,d,p,f,g,m,v,y=null!=(d=null==a||null==(p=a.reason)?void 0:p.description)?d:null==a||null==(f=a.reason)?void 0:f.code;y&&(o.$feature_flag_reason=y),null!=a&&null!=(g=a.metadata)&&g.id&&(o.$feature_flag_id=a.metadata.id),j(null==a?void 0:a.original_variant)&&j(null==a?void 0:a.original_enabled)||(o.$feature_flag_original_response=j(a.original_variant)?a.original_enabled:a.original_variant),null!=a&&null!=(m=a.metadata)&&m.original_payload&&(o.$feature_flag_original_payload=null==a||null==(v=a.metadata)?void 0:v.original_payload),this._instance.capture("$feature_flag_called",o)}return i}so.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var i=this._instance.config.token,r={distinct_id:this._instance.get_distinct_id(),token:i};this.ni()&&(r.evaluation_environments=this.si()),this._instance.ui({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:r,compression:this._instance.config.disable_compression?void 0:tM.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:i=>{var r,s=null==(r=i.json)?void 0:r.featureFlagPayloads;t((null==s?void 0:s[e])||void 0)}})}isFeatureEnabled(e,t){if(void 0===t&&(t={}),this.Qt||this.getFlags()&&this.getFlags().length>0){var i=this.getFeatureFlag(e,t);return j(i)?void 0:!!i}so.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this.Qt=!0;var i=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();!function(e,t,i,r,s){void 0===i&&(i={}),void 0===r&&(r={}),void 0===s&&(s={});var n,a=((n=e.flags)?(e.featureFlags=Object.fromEntries(Object.keys(n).map(e=>{var t;return[e,null!=(t=n[e].variant)?t:n[e].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(n).filter(e=>n[e].enabled).filter(e=>{var t;return null==(t=n[e].metadata)?void 0:t.payload}).map(e=>{var t;return[e,null==(t=n[e].metadata)?void 0:t.payload]}))):so.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e),o=a.flags,l=a.featureFlags,u=a.featureFlagPayloads;if(l){var c=e.requestId;if(A(l)){so.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var h={};if(l)for(var d=0;d<l.length;d++)h[l[d]]=!0;t&&t.register({[sl]:l,[eY]:h})}else{var p=l,f=u,g=o;e.errorsWhileComputingFlags&&(p=_({},i,p),f=_({},r,f),g=_({},s,g)),t&&t.register(_({[sl]:Object.keys(sp(p)),[eY]:p||{},[sc]:f||{},[eZ]:g||{}},c?{[sd]:c}:{}))}}}(e,this._instance.persistence,i,r,s),this.di(t)}}override(e,t){void 0===t&&(t=!1),so.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return so.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===e)return this._instance.persistence.unregister(su),this._instance.persistence.unregister(sh),void this.di();if(e&&"object"==typeof e&&("flags"in e||"payloads"in e)){var t;if(this.Xt=!!(null!=(t=e.suppressWarning)&&t),"flags"in e){if(!1===e.flags)this._instance.persistence.unregister(su);else if(e.flags)if(A(e.flags)){for(var i={},r=0;r<e.flags.length;r++)i[e.flags[r]]=!0;this._instance.persistence.register({[su]:i})}else this._instance.persistence.register({[su]:e.flags})}return"payloads"in e&&(!1===e.payloads?this._instance.persistence.unregister(sh):e.payloads&&this._instance.persistence.register({[sh]:e.payloads})),void this.di()}this.di()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.Qt){var{flags:t,flagVariants:i}=this.vi();e(t,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t,i){var r,s=(this._instance.get_property(eX)||[]).find(t=>t.flagKey===e),n={["$feature_enrollment/"+e]:t},a={$feature_flag:e,$feature_enrollment:t,$set:n};s&&(a.$early_access_feature_name=s.name),i&&(a.$feature_enrollment_stage=i),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(n,!1);var o=_({},this.getFlagVariants(),{[e]:t});null==(r=this._instance.persistence)||r.register({[sl]:Object.keys(sp(o)),[eY]:o}),this.di()}getEarlyAccessFeatures(e,t,i){void 0===t&&(t=!1);var r=this._instance.get_property(eX),s=i?"&"+i.map(e=>"stage="+e).join("&"):"";if(r&&!t)return e(r);this._instance.ui({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:t=>{var i,r;if(t.json){var s=t.json.earlyAccessFeatures;return null==(i=this._instance.persistence)||i.unregister(eX),null==(r=this._instance.persistence)||r.register({[eX]:s}),e(s)}}})}vi(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(e=>t[e]),flagVariants:Object.keys(t).filter(e=>t[e]).reduce((e,i)=>(e[i]=t[i],e),{})}}di(e){var{flags:t,flagVariants:i}=this.vi();this.featureFlagEventHandlers.forEach(r=>r(t,i,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0);var i=this._instance.get_property(e0)||{};this._instance.register({[e0]:_({},i,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(e0)}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0);var i=this._instance.get_property(e1)||{};0!==Object.keys(i).length&&Object.keys(i).forEach(t=>{i[t]=_({},i[t],e[t]),delete e[t]}),this._instance.register({[e1]:_({},i,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(e1)||{};this._instance.register({[e1]:_({},t,{[e]:{}})})}else this._instance.unregister(e1)}reset(){this.Qt=!1,this.Zt=!1,this.ti=!1,this.ii=!1,this.ei=!1,this.ri=!1,this.$anon_distinct_id=void 0,this.li(),this.Xt=!1}}var sm=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class sv{constructor(e,t){this.A=e,this.props={},this.ci=!1,this.fi=(e=>{var t="";return e.token&&(t=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+t+"_posthog"})(e),this.it=this.pi(e),this.load(),e.debug&&ew.info("Persistence loaded",e.persistence,_({},this.props)),this.update_config(e,e,t),this.save()}isDisabled(){return!!this.gi}pi(e){-1===sm.indexOf(e.persistence.toLowerCase())&&(ew.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&t3.G()?t3:"localstorage+cookie"===t&&t6.G()?t6:"sessionstorage"===t&&t7.G()?t7:"memory"===t?t8:"cookie"===t?t1:t6.G()?t6:t1}properties(){var e={};return eP(this.props,function(t,i){if(i===eY&&R(t))for(var r,s=Object.keys(t),n=0;n<s.length;n++)e["$feature/"+s[n]]=t[s[n]];else r=!1,(D(ts)?r:o&&ts.indexOf===o?-1!=ts.indexOf(i):(eP(ts,function(e){if(r||(r=e===i))return ek}),r))||(e[i]=t)}),e}load(){if(!this.gi){var e=this.it.K(this.fi);e&&(this.props=eO({},e))}}save(){this.gi||this.it.Y(this.fi,this.props,this.mi,this.yi,this.bi,this.A.debug)}remove(){this.it.X(this.fi,!1),this.it.X(this.fi,!0)}clear(){this.remove(),this.props={}}register_once(e,t,i){if(R(e)){j(t)&&(t="None"),this.mi=j(i)?this.wi:i;var r=!1;if(eP(e,(e,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==t||(this.props[i]=e,r=!0)}),r)return this.save(),!0}return!1}register(e,t){if(R(e)){this.mi=j(t)?this.wi:t;var i=!1;if(eP(e,(t,r)=>{e.hasOwnProperty(r)&&this.props[r]!==t&&(this.props[r]=t,i=!0)}),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.ci){var e=rd(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);I(ej(e))||this.register(e),this.ci=!0}}update_search_keyword(){var e;this.register((e=null==u?void 0:u.referrer)?rf(e):{})}update_referrer_info(){var e;this.register_once({$referrer:rm(),$referring_domain:null!=u&&u.referrer&&(null==(e=tD(u.referrer))?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[e9]||this.props[e7]||this.register_once({[te]:rv(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};eP([e7,e9],t=>{var i=this.props[t];i&&eP(i,function(t,i){e["$initial_"+x(i)]=t})});var t,i,r=this.props[te];return r&&eO(e,(t=ry(r),i={},eP(t,function(e,t){i["$initial_"+x(t)]=e}),i)),e}safe_merge(e){return eP(this.props,function(t,i){i in e||(e[i]=t)}),e}update_config(e,t,i){if(this.wi=this.mi=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!i),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var r=this.pi(e),s=this.props;this.clear(),this.it=r,this.props=s,this.save()}}set_disabled(e){this.gi=e,this.gi?this.remove():this.save()}set_cross_subdomain(e){e!==this.yi&&(this.yi=e,this.remove(),this.save())}set_secure(e){e!==this.bi&&(this.bi=e,this.remove(),this.save())}set_event_timer(e,t){var i=this.props[eU]||{};i[e]=t,this.props[eU]=i,this.save()}remove_event_timer(e){var t=(this.props[eU]||{})[e];return j(t)||(delete this.props[eU][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}(nu={}).Button="button",nu.Tab="tab",nu.Selector="selector",(nc={}).TopLeft="top_left",nc.TopRight="top_right",nc.TopCenter="top_center",nc.MiddleLeft="middle_left",nc.MiddleRight="middle_right",nc.MiddleCenter="middle_center",nc.Left="left",nc.Center="center",nc.Right="right",nc.NextToTrigger="next_to_trigger";var sy=((nh={}).Popover="popover",nh.API="api",nh.Widget="widget",nh.ExternalSurvey="external_survey",nh),s_=((nd={}).Open="open",nd.MultipleChoice="multiple_choice",nd.SingleChoice="single_choice",nd.Rating="rating",nd.Link="link",(np={}).NextQuestion="next_question",np.End="end",np.ResponseBased="response_based",np.SpecificQuestion="specific_question",(nf={}).Once="once",nf.Recurring="recurring",nf.Always="always",(ng={}).SHOWN="survey shown",ng.DISMISSED="survey dismissed",ng.SENT="survey sent",ng),sb=((nm={}).SURVEY_ID="$survey_id",nm.SURVEY_NAME="$survey_name",nm.SURVEY_RESPONSE="$survey_response",nm.SURVEY_ITERATION="$survey_iteration",nm.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",nm.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",nm.SURVEY_SUBMISSION_ID="$survey_submission_id",nm.SURVEY_QUESTIONS="$survey_questions",nm.SURVEY_COMPLETED="$survey_completed",nm),sw=((nv={}).Popover="popover",nv.Inline="inline",nv);class sS{constructor(){this.xi={},this.xi={}}on(e,t){return this.xi[e]||(this.xi[e]=[]),this.xi[e].push(t),()=>{this.xi[e]=this.xi[e].filter(e=>e!==t)}}emit(e,t){for(var i of this.xi[e]||[])i(t);for(var r of this.xi["*"]||[])r(e,t)}}class sE{constructor(e){this.Si=new sS,this.Ei=(e,t)=>this.$i(e,t)&&this.ki(e,t)&&this.Pi(e,t),this.$i=(e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event),this._instance=e,this.Ti=new Set,this.Ii=new Set}init(){var e,t;j(null==(e=this._instance)?void 0:e.Ri)||null==(t=this._instance)||t.Ri((e,t)=>{this.on(e,t)})}register(e){var t,i;if(!j(null==(t=this._instance)?void 0:t.Ri)&&(e.forEach(e=>{var t,i;null==(t=this.Ii)||t.add(e),null==(i=e.steps)||i.forEach(e=>{var t;null==(t=this.Ti)||t.add((null==e?void 0:e.event)||"")})}),null!=(i=this._instance)&&i.autocapture)){var r,s=new Set;e.forEach(e=>{var t;null==(t=e.steps)||t.forEach(e=>{null!=e&&e.selector&&s.add(null==e?void 0:e.selector)})}),null==(r=this._instance)||r.autocapture.setElementSelectors(s)}}on(e,t){var i;null!=t&&0!=e.length&&(this.Ti.has(e)||this.Ti.has(null==t?void 0:t.event))&&this.Ii&&(null==(i=this.Ii)?void 0:i.size)>0&&this.Ii.forEach(e=>{this.Ci(t,e)&&this.Si.emit("actionCaptured",e.name)})}Oi(e){this.onAction("actionCaptured",t=>e(t))}Ci(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var i of t.steps)if(this.Ei(e,i))return!0;return!1}onAction(e,t){return this.Si.on(e,t)}ki(e,t){if(null!=t&&t.url){var i,r=null==e||null==(i=e.properties)?void 0:i.$current_url;if(!r||"string"!=typeof r||!sE.Fi(r,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||"contains"))return!1}return!0}static Fi(e,t,i){switch(i){case"regex":return!!r&&st(e,t);case"exact":return t===e;case"contains":return st(e,sE.Mi(t).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static Mi(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Pi(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.Ai(e).some(e=>!(null!=t&&t.href&&!sE.Fi(e.href||"",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||"exact"))&&(null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!sE.Fi(e.text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact")&&!sE.Fi(e.$el_text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact"))))return!1;if(null!=t&&t.selector){var i,r=null==e||null==(i=e.properties)?void 0:i.$element_selectors;if(!r||!r.includes(null==t?void 0:t.selector))return!1}return!0}Ai(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}var sx=eS("[Surveys]"),sk="seenSurvey_",sT=e=>{var t=""+sk+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+sk+e.id+"_"+e.current_iteration),t},sP=[sy.Popover,sy.Widget,sy.API],sO={ignoreConditions:!1,ignoreDelay:!1,displayType:sw.Popover};class sA{constructor(e){this._instance=e,this.ji=new Map,this.Di=new Map}register(e){var t;j(null==(t=this._instance)?void 0:t.Ri)||(this.Li(e),this.Ni(e))}Ni(e){var t=e.filter(e=>{var t,i;return(null==(t=e.conditions)?void 0:t.actions)&&(null==(i=e.conditions)||null==(i=i.actions)||null==(i=i.values)?void 0:i.length)>0});0!==t.length&&(null==this.Ui&&(this.Ui=new sE(this._instance),this.Ui.init(),this.Ui.Oi(e=>{this.onAction(e)})),t.forEach(e=>{var t,i,r,s,n;e.conditions&&null!=(t=e.conditions)&&t.actions&&null!=(i=e.conditions)&&null!=(i=i.actions)&&i.values&&(null==(r=e.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(s=this.Ui)||s.register(e.conditions.actions.values),null==(n=e.conditions)||null==(n=n.actions)||null==(n=n.values)||n.forEach(t=>{if(t&&t.name){var i=this.Di.get(t.name);i&&i.push(e.id),this.Di.set(t.name,i||[e.id])}}))}))}Li(e){var t;0!==e.filter(e=>{var t,i;return(null==(t=e.conditions)?void 0:t.events)&&(null==(i=e.conditions)||null==(i=i.events)||null==(i=i.values)?void 0:i.length)>0}).length&&(null==(t=this._instance)||t.Ri((e,t)=>{this.onEvent(e,t)}),e.forEach(e=>{var t;null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||t.forEach(t=>{if(t&&t.name){var i=this.ji.get(t.name);i&&i.push(e.id),this.ji.set(t.name,i||[e.id])}})}))}onEvent(e,t){var i,r,s=(null==(i=this._instance)||null==(i=i.persistence)?void 0:i.props[e3])||[];if(s_.SHOWN===e&&t&&s.length>0){sx.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:s});var n,a=null==t||null==(n=t.properties)?void 0:n.$survey_id;if(a){var o=s.indexOf(a);o>=0&&(s.splice(o,1),this.zi(s))}}else if(this.ji.has(e)){sx.info("survey event name matched",{event:e,eventPayload:t,surveys:this.ji.get(e)});var l=[];null==(r=this._instance)||r.getSurveys(t=>{l=t.filter(t=>{var i;return null==(i=this.ji.get(e))?void 0:i.includes(t.id)})});var u=l.filter(i=>{var r,s=null==(r=i.conditions)||null==(r=r.events)||null==(r=r.values)?void 0:r.find(t=>t.name===e);return!!s&&(!s.propertyFilters||Object.entries(s.propertyFilters).every(e=>{var i,[r,s]=e,n=null==t||null==(i=t.properties)?void 0:i[r];if(j(n)||D(n))return!1;var a=[String(n)],o=sr[s.operator];return o?o(s.values,a):(sx.warn("Unknown property comparison operator: "+s.operator),!1)}))});this.zi(s.concat(u.map(e=>e.id)||[]))}}onAction(e){var t,i=(null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[e3])||[];this.Di.has(e)&&this.zi(i.concat(this.Di.get(e)||[]))}zi(e){var t;sx.info("updating activated surveys",{activatedSurveys:e}),null==(t=this._instance)||null==(t=t.persistence)||t.register({[e3]:[...new Set(e)]})}getSurveys(){var e;return(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[e3])||[]}getEventToSurveys(){return this.ji}Hi(){return this.Ui}}class sC{constructor(e){this.Bi=void 0,this._surveyManager=null,this.qi=!1,this.Wi=!1,this.Gi=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var t=e.surveys;if(F(t))return sx.warn("Flags not loaded yet. Not loading surveys.");var i=A(t);this.Bi=i?t.length>0:t,sx.info("flags response received, isSurveysEnabled: "+this.Bi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var i=localStorage.key(t);(null!=i&&i.startsWith(sk)||null!=i&&i.startsWith("inProgressSurvey_"))&&e.push(i)}e.forEach(e=>localStorage.removeItem(e))}loadIfEnabled(){if(!this._surveyManager)if(this.Wi)sx.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)sx.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())sx.info("Not loading surveys in cookieless mode without consent.");else{var e=null==g?void 0:g.__PosthogExtensions__;if(e){if(!j(this.Bi)||this._instance.config.advanced_enable_surveys){var t=this.Bi||this._instance.config.advanced_enable_surveys;this.Wi=!0;try{var i=e.generateSurveys;if(i)return void this.Vi(i,t);var r=e.loadExternalDependency;if(!r)return void this.Ji("PostHog loadExternalDependency extension not found.");r(this._instance,"surveys",i=>{i||!e.generateSurveys?this.Ji("Could not load surveys script",i):this.Vi(e.generateSurveys,t)})}catch(e){throw this.Ji("Error initializing surveys",e),e}finally{this.Wi=!1}}}else sx.error("PostHog Extensions not found.")}}Vi(e,t){this._surveyManager=e(this._instance,t),this._surveyEventReceiver=new sA(this._instance),sx.info("Surveys loaded successfully"),this.Ki({isLoaded:!0})}Ji(e,t){sx.error(e,t),this.Ki({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.Gi.push(e),this._surveyManager&&this.Ki({isLoaded:!0}),()=>{this.Gi=this.Gi.filter(t=>t!==e)}}getSurveys(e,t){if(void 0===t&&(t=!1),this._instance.config.disable_surveys)return sx.info("Disabled. Not loading surveys."),e([]);var i=this._instance.get_property(e2);if(i&&!t)return e(i,{isLoaded:!0});if(this.qi)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.qi=!0,this._instance.ui({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:t=>{this.qi=!1;var i=t.statusCode;if(200!==i||!t.json){var r="Surveys API could not be loaded, status: "+i;return sx.error(r),e([],{isLoaded:!1,error:r})}var s,n,a=t.json.surveys||[],o=a.filter(e=>{var t,i;return!(!e.start_date||e.end_date)&&(!(null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||!t.length)||!(null==(i=e.conditions)||null==(i=i.actions)||null==(i=i.values)||!i.length))});return o.length>0&&(null==(n=this._surveyEventReceiver)||n.register(o)),null==(s=this._instance.persistence)||s.register({[e2]:a}),e(a,{isLoaded:!0})}})}catch(e){throw this.qi=!1,e}}Ki(e){for(var t of this.Gi)try{if(!e.isLoaded)return t([],e);this.getSurveys(t)}catch(e){sx.error("Error in survey callback",e)}}getActiveMatchingSurveys(e,t){if(void 0===t&&(t=!1),!F(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,t);sx.warn("init was not called")}Yi(e){var t=null;return this.getSurveys(i=>{var r;t=null!=(r=i.find(t=>t.id===e))?r:null}),t}Xi(e){if(F(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t="string"==typeof e?this.Yi(e):e;return t?this._surveyManager.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(F(this._surveyManager))return sx.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.Xi(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return F(this._surveyManager)?(sx.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(i=>{this.getSurveys(t=>{var r,s=null!=(r=t.find(t=>t.id===e))?r:null;if(s){var n=this.Xi(s);i({visible:n.eligible,disabledReason:n.reason})}else i({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){var i;if(F(this._surveyManager))sx.warn("init was not called");else{var r="string"==typeof e?this.Yi(e):e;if(null!=r&&r.id)if(sP.includes(r.type)){var s=null==u?void 0:u.querySelector(t);if(s)return null!=(i=r.appearance)&&i.surveyPopupDelaySeconds?(sx.info("Rendering survey "+r.id+" with delay of "+r.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var e,t;sx.info("Rendering survey "+r.id+" with delay of "+(null==(e=r.appearance)?void 0:e.surveyPopupDelaySeconds)+" seconds"),null==(t=this._surveyManager)||t.renderSurvey(r,s),sx.info("Survey "+r.id+" rendered")},1e3*r.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(r,s);sx.warn("Survey element not found")}else sx.warn("Surveys of type "+r.type+" cannot be rendered in the app");else sx.warn("Survey not found")}}displaySurvey(e,t){var i;if(F(this._surveyManager))sx.warn("init was not called");else{var r=this.Yi(e);if(r){var s=r;if(null!=(i=r.appearance)&&i.surveyPopupDelaySeconds&&t.ignoreDelay&&(s=_({},r,{appearance:_({},r.appearance,{surveyPopupDelaySeconds:0})})),!1===t.ignoreConditions){var n=this.canRenderSurvey(r);if(!n.visible)return void sx.warn("Survey is not eligible to be displayed: ",n.disabledReason)}t.displayType!==sw.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,t.selector)}else sx.warn("Survey not found")}}}var sR=eS("[RateLimiter]");class sI{constructor(e){var t,i;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(e=>{sR.info((e||"events")+" is quota limited."),this.serverLimits[e]=(new Date).getTime()+6e4})}catch(e){return void sR.warn('could not rate limit - continuing. Error: "'+(null==e?void 0:e.message)+'"',{text:t})}},this.instance=e,this.captureEventsPerSecond=(null==(t=e.config.rate_limiting)?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(i=e.config.rate_limiting)?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){void 0===e&&(e=!1);var t,i,r,s=(new Date).getTime(),n=null!=(t=null==(i=this.instance.persistence)?void 0:i.get_property(e8))?t:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var a=n.tokens<1;return a||e||(n.tokens=Math.max(0,n.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,null==(r=this.instance.persistence)||r.set_property(e8,n),{isRateLimited:a,remainingTokens:n.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}var sj=eS("[RemoteConfig]");class s${constructor(e){this._instance=e}get remoteConfig(){var e;return null==(e=g._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.config}Qi(e){var t,i;null!=(t=g.__PosthogExtensions__)&&t.loadExternalDependency?null==(i=g.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(sj.error("PostHog Extensions not found. Cannot load remote config."),e())}Zi(e){this._instance.ui({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return sj.info("Using preloaded remote config",this.remoteConfig),void this.hi(this.remoteConfig);if(this._instance.L())return void sj.warn("Remote config is disabled. Falling back to local config.");this.Qi(e=>{e?this.hi(e):(sj.info("No config found after loading remote JS config. Falling back to JSON."),this.Zi(e=>{this.hi(e)}))})}catch(e){sj.error("Error loading remote config",e)}}hi(e){e?this._instance.config.__preview_remote_config?(this._instance.hi(e),!1!==e.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):sj.info("__preview_remote_config is disabled. Logging config instead",e):sj.error("Failed to fetch remote config from PostHog.")}}class sM{constructor(e,t){this.te=!0,this.ie=[],this.ee=G((null==t?void 0:t.flush_interval_ms)||3e3,250,5e3,ew.createLogger("flush interval"),3e3),this.re=e}enqueue(e){this.ie.push(e),this.se||this.ne()}unload(){this.oe();var e=Object.values(this.ie.length>0?this.ae():{});[...e.filter(e=>0===e.url.indexOf("/e")),...e.filter(e=>0!==e.url.indexOf("/e"))].map(e=>{this.re(_({},e,{transport:"sendBeacon"}))})}enable(){this.te=!1,this.ne()}ne(){var e=this;this.te||(this.se=setTimeout(()=>{if(this.oe(),this.ie.length>0){var t=this.ae();for(var i in t)!function(){var r=t[i],s=(new Date).getTime();r.data&&A(r.data)&&eP(r.data,e=>{e.offset=Math.abs(e.timestamp-s),delete e.timestamp}),e.re(r)}()}},this.ee))}oe(){clearTimeout(this.se),this.se=void 0}ae(){var e={};return eP(this.ie,t=>{var i,r=(t?t.batchKey:null)||t.url;j(e[r])&&(e[r]=_({},t,{data:[]})),null==(i=e[r].data)||i.push(t.data)}),this.ie=[],e}}var sD=["retriesPerformedSoFar"];class sF{constructor(e){this.le=!1,this.ue=3e3,this.ie=[],this._instance=e,this.ie=[],this.he=!0,!j(r)&&"onLine"in r.navigator&&(this.he=r.navigator.onLine,eD(r,"online",()=>{this.he=!0,this.jt()}),eD(r,"offline",()=>{this.he=!1}))}get length(){return this.ie.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,i=b(e,sD);L(t)&&t>0&&(i.url=r8(i.url,{retry_count:t})),this._instance.ui(_({},i,{callback:e=>{200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.de(_({retriesPerformedSoFar:t},i)):null==i.callback||i.callback(e)}}))}de(e){var t,i,r,s=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=s+1;var n=(r=(Math.random()-.5)*((i=Math.min(18e5,t=3e3*Math.pow(2,s)))-t/2),Math.ceil(i+r)),a=Date.now()+n;this.ie.push({retryAt:a,requestOptions:e});var o="Enqueued failed request for retry in "+n;navigator.onLine||(o+=" (Browser is offline)"),ew.warn(o),this.le||(this.le=!0,this.ve())}ve(){this.ce&&clearTimeout(this.ce),this.ce=setTimeout(()=>{this.he&&this.ie.length>0&&this.jt(),this.ve()},this.ue)}jt(){var e=Date.now(),t=[],i=this.ie.filter(i=>i.retryAt<e||(t.push(i),!1));if(this.ie=t,i.length>0)for(var{requestOptions:r}of i)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.ce&&(clearTimeout(this.ce),this.ce=void 0),this.ie))try{this._instance.ui(_({},e,{transport:"sendBeacon"}))}catch(e){ew.error(e)}this.ie=[]}}class sL{constructor(e){this.fe=()=>{this.pe||(this.pe={});var e,t,i,r,s=this.scrollElement(),n=this.scrollY(),a=s?Math.max(0,s.scrollHeight-s.clientHeight):0,o=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.pe.lastScrollY=Math.ceil(n),this.pe.maxScrollY=Math.max(n,null!=(e=this.pe.maxScrollY)?e:0),this.pe.maxScrollHeight=Math.max(a,null!=(t=this.pe.maxScrollHeight)?t:0),this.pe.lastContentY=o,this.pe.maxContentY=Math.max(o,null!=(i=this.pe.maxContentY)?i:0),this.pe.maxContentHeight=Math.max(l,null!=(r=this.pe.maxContentHeight)?r:0)},this._instance=e}getContext(){return this.pe}resetContext(){var e=this.pe;return setTimeout(this.fe,0),e}startMeasuringScrollPosition(){eD(r,"scroll",this.fe,{capture:!0}),eD(r,"scrollend",this.fe,{capture:!0}),eD(r,"resize",this.fe)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==r?void 0:r.document.documentElement;for(var e of A(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var t=null==r?void 0:r.document.querySelector(e);if(t)return t}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return r&&(r.scrollY||r.pageYOffset||r.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return r&&(r.scrollX||r.pageXOffset||r.document.documentElement.scrollLeft)||0}}var sU=e=>rv(null==e?void 0:e.config.mask_personal_data_properties,null==e?void 0:e.config.custom_personal_data_properties);class sN{constructor(e,t,i,r){this.ge=e=>{var t=this._e();if(!t||t.sessionId!==e){var i={sessionId:e,props:this.me(this._instance)};this.ye.register({[e4]:i})}},this._instance=e,this.be=t,this.ye=i,this.me=r||sU,this.be.onSessionId(this.ge)}_e(){return this.ye.props[e4]}getSetOnceProps(){var e,t=null==(e=this._e())?void 0:e.props;return t?"r"in t?ry(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return eP(ej(this.getSetOnceProps()),(t,i)=>{"$current_url"===i&&(i="url"),e["$session_entry_"+x(i)]=t}),e}}var sq=eS("[SessionId]");class sV{on(e,t){return this.we.on(e,t)}constructor(e,t,i){if(this.xe=[],this.Se=void 0,this.we=new sS,this.Ee=(e,t)=>Math.abs(e-t)>this.sessionTimeoutMs,!e.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if("always"===e.config.cookieless_mode)throw Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=e.config,this.ye=e.persistence,this.$e=void 0,this.ke=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Pe=t||tY,this.Te=i||tY;var r,s=this.A.persistence_name||this.A.token,n=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*G(n,60,36e3,sq.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ie(),this.Re="ph_"+s+"_window_id",this.Ce="ph_"+s+"_primary_window_exists",this.Oe()){var a=t7.K(this.Re),o=t7.K(this.Ce);a&&!o?this.$e=a:t7.X(this.Re),t7.Y(this.Ce,!0)}if(null!=(r=this.A.bootstrap)&&r.sessionID)try{var l=(e=>{var t=e.replace(/-/g,"");if(32!==t.length)throw Error("Not a valid UUID");if("7"!==t[12])throw Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Fe(this.A.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){sq.error("Invalid sessionID in bootstrap",e)}this.Me()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return j(this.xe)&&(this.xe=[]),this.xe.push(e),this.ke&&e(this.ke,this.$e),()=>{this.xe=this.xe.filter(t=>t!==e)}}Oe(){return"memory"!==this.A.persistence&&!this.ye.gi&&t7.G()}Ae(e){e!==this.$e&&(this.$e=e,this.Oe()&&t7.Y(this.Re,e))}je(){return this.$e?this.$e:this.Oe()?t7.K(this.Re):null}Fe(e,t,i){e===this.ke&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this.ke=e,this.ye.register({[eQ]:[t,e,i]}))}De(){if(this.ke&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.ke,this._sessionStartTimestamp];var e=this.ye.props[eQ];return A(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Fe(null,null,null)}destroy(){clearTimeout(this.Le),this.Le=void 0,this.Se&&r&&(r.removeEventListener("beforeunload",this.Se,{capture:!1}),this.Se=void 0),this.xe=[]}Me(){this.Se=()=>{this.Oe()&&t7.X(this.Ce)},eD(r,"beforeunload",this.Se,{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=null),"always"===this.A.cookieless_mode)throw Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var i=t||(new Date).getTime(),[r,s,n]=this.De(),a=this.je(),o=L(n)&&n>0&&Math.abs(i-n)>864e5,l=!1,u=!s,c=!e&&this.Ee(i,r);u||c||o?(s=this.Pe(),a=this.Te(),sq.info("new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:o}}),n=i,l=!0):a||(a=this.Te(),l=!0);var h=0===r||!e||o?i:r,d=0===n?(new Date).getTime():n;return this.Ae(a),this.Fe(s,h,d),e||this.Ie(),l&&this.xe.forEach(e=>e(s,a,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:o}:void 0)),{sessionId:s,windowId:a,sessionStartTimestamp:d,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:o}:void 0,lastActivityTimestamp:r}}Ie(){clearTimeout(this.Le),this.Le=setTimeout(()=>{var[e]=this.De();if(this.Ee((new Date).getTime(),e)){var t=this.ke;this.resetSessionId(),this.we.emit("forcedIdleReset",{idleSessionId:t})}},1.1*this.sessionTimeoutMs)}}var sB=["$set_once","$set"],sW=eS("[SiteApps]");class sH{constructor(e){this._instance=e,this.Ne=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ue(e,t){if(t){var i=this.globalsForEvent(t);this.Ne.push(i),this.Ne.length>1e3&&(this.Ne=this.Ne.slice(10))}}get siteAppLoaders(){var e;return null==(e=g._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ri(this.Ue.bind(this));this.ze=()=>{e(),this.Ne=[],this.ze=void 0}}}globalsForEvent(e){if(!e)throw Error("Event payload is required");var t,i,r,s,n,a,o,l={},u=this._instance.get_property("$groups")||[];for(var[c,h]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))l[c]={id:u[c],type:c,properties:h};var{$set_once:d,$set:p}=e;return{event:_({},b(e,sB),{properties:_({},e.properties,p?{$set:_({},null!=(t=null==(i=e.properties)?void 0:i.$set)?t:{},p)}:{},d?{$set_once:_({},null!=(r=null==(s=e.properties)?void 0:s.$set_once)?r:{},d)}:{}),elements_chain:null!=(n=null==(a=e.properties)?void 0:a.$elements_chain)?n:"",distinct_id:null==(o=e.properties)?void 0:o.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],i=()=>{var i;!t.errored&&this.Ne.length&&(sW.info("Processing "+this.Ne.length+" events for site app with id "+e.id),this.Ne.forEach(e=>null==t.processEvent?void 0:t.processEvent(e)),t.processedBuffer=!0),Object.values(this.apps).every(e=>e.processedBuffer||e.errored)&&(null==(i=this.ze)||i.call(this))},r=!1,s=s=>{t.errored=!s,t.loaded=!0,sW.info("Site app with id "+e.id+" "+(s?"loaded":"errored")),r&&i()};try{var{processEvent:n}=e.init({posthog:this._instance,callback:e=>{s(e)}});n&&(t.processEvent=n),r=!0}catch(t){sW.error("Error while initializing PostHog app with config id "+e.id,t),s(!1)}if(r&&t.loaded)try{i()}catch(i){sW.error("Error while processing buffered events PostHog app with config id "+e.id,i),t.errored=!0}}He(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var i of e)this.setupSiteApp(i)}Be(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{null==i.processEvent||i.processEvent(t)}catch(t){sW.error("Error while processing event "+e.event+" for site app "+i.id,t)}}}onRemoteConfig(e){var t,i,r,s=this;if(null!=(t=this.siteAppLoaders)&&t.length)return this.isEnabled?(this.He(),void this._instance.on("eventCaptured",e=>this.Be(e))):void sW.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(i=this.ze)||i.call(this),null!=(r=e.siteApps)&&r.length)if(this.isEnabled){var n=function(e){var t;g["__$$ph_site_app_"+e]=s._instance,null==(t=g.__PosthogExtensions__)||null==t.loadSiteApp||t.loadSiteApp(s._instance,o,t=>{if(t)return sW.error("Error while initializing PostHog app with config id "+e,t)})};for(var{id:a,url:o}of e.siteApps)n(a)}else sW.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var sG=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],sz=function(e,t){if(!e)return!1;var i=e.toLowerCase();return sG.concat(t||[]).some(e=>{var t=e.toLowerCase();return -1!==i.indexOf(t)})},sK=function(e,t){if(!e)return!1;var i=e.userAgent;if(i&&sz(i,t))return!0;try{var r=null==e?void 0:e.userAgentData;if(null!=r&&r.brands&&r.brands.some(e=>sz(null==e?void 0:e.brand,t)))return!0}catch(e){}return!!e.webdriver},sQ=((ny={}).US="us",ny.EU="eu",ny.CUSTOM="custom",ny),sJ="i.posthog.com";class sY{constructor(e){this.qe={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}get uiHost(){var e,t=null==(e=this.instance.config.ui_host)?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+sJ,".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}get region(){return this.qe[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.qe[this.apiHost]=sQ.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.qe[this.apiHost]=sQ.EU:this.qe[this.apiHost]=sQ.CUSTOM),this.qe[this.apiHost]}endpointFor(e,t){if(void 0===t&&(t=""),t&&(t="/"===t[0]?t:"/"+t),"ui"===e)return this.uiHost+t;if(this.region===sQ.CUSTOM)return this.apiHost+t;var i=sJ+t;switch(e){case"assets":return"https://"+this.region+"-assets."+i;case"api":return"https://"+this.region+"."+i}}}var sX={icontains:(e,t)=>!!r&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!r&&-1===t.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,t)=>!!r&&st(t.href,e),not_regex:(e,t)=>!!r&&!st(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class sZ{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(e){void 0===e&&(e=!1),t.getWebExperiments(e=>{sZ.We("retrieved web experiments from the server"),t.Ge=new Map,e.forEach(e=>{if(e.feature_flag_key){t.Ge&&(sZ.We("setting flag key ",e.feature_flag_key," to web experiment ",e),null==(i=t.Ge)||i.set(e.feature_flag_key,e));var i,r=t._instance.getFeatureFlag(e.feature_flag_key);$(r)&&e.variants[r]&&t.Ve(e.name,r,e.variants[r].transforms)}else if(e.variants)for(var s in e.variants){var n=e.variants[s];sZ.Je(n)&&t.Ve(e.name,s,n.transforms)}})},e)},this._instance=e,this._instance.onFeatureFlags(e=>{this.onFeatureFlags(e)})}onFeatureFlags(e){if(this._is_bot())sZ.We("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(F(this.Ge))return this.Ge=new Map,this.loadIfEnabled(),void this.previewWebExperiment();sZ.We("applying feature flags",e),e.forEach(e=>{var t;if(this.Ge&&null!=(t=this.Ge)&&t.has(e)){var i,r=this._instance.getFeatureFlag(e),s=null==(i=this.Ge)?void 0:i.get(e);r&&null!=s&&s.variants[r]&&this.Ve(s.name,r,s.variants[r].transforms)}})}}previewWebExperiment(){var e=sZ.getWindowLocation();if(null!=e&&e.search){var t=tL(null==e?void 0:e.search,"__experiment_id"),i=tL(null==e?void 0:e.search,"__experiment_variant");t&&i&&(sZ.We("previewing web experiments "+t+" && "+i),this.getWebExperiments(e=>{this.Ke(parseInt(t),i,e)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,i){if(this._instance.config.disable_web_experiments&&!i)return e([]);var r=this._instance.get_property("$web_experiments");if(r&&!t)return e(r);this._instance.ui({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:t=>200===t.statusCode&&t.json?e(t.json.experiments||[]):e([])})}Ke(e,t,i){var r=i.filter(t=>t.id===e);r&&r.length>0&&(sZ.We("Previewing web experiment ["+r[0].name+"] with variant ["+t+"]"),this.Ve(r[0].name,t,r[0].variants[t].transforms))}static Je(e){return!F(e.conditions)&&sZ.Ye(e)&&sZ.Xe(e)}static Ye(e){if(F(e.conditions)||F(null==(t=e.conditions)?void 0:t.url))return!0;var t,i,r,s,n=sZ.getWindowLocation();return!!n&&(null==(i=e.conditions)||!i.url||sX[null!=(r=null==(s=e.conditions)?void 0:s.urlMatchType)?r:"icontains"](e.conditions.url,n))}static getWindowLocation(){return null==r?void 0:r.location}static Xe(e){if(F(e.conditions)||F(null==(i=e.conditions)?void 0:i.utm))return!0;var t=rd();if(t.utm_source){var i,r,s,n,a,o,l,u,c,h=null==(r=e.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(s=e.conditions)||null==(s=s.utm)?void 0:s.utm_campaign)==t.utm_campaign,d=null==(n=e.conditions)||null==(n=n.utm)||!n.utm_source||(null==(a=e.conditions)||null==(a=a.utm)?void 0:a.utm_source)==t.utm_source,p=null==(o=e.conditions)||null==(o=o.utm)||!o.utm_medium||(null==(l=e.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==t.utm_medium,f=null==(u=e.conditions)||null==(u=u.utm)||!u.utm_term||(null==(c=e.conditions)||null==(c=c.utm)?void 0:c.utm_term)==t.utm_term;return h&&p&&f&&d}return!1}static We(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];ew.info("[WebExperiments] "+e,i)}Ve(e,t,i){this._is_bot()?sZ.We("Refusing to render web experiment since the viewer is a likely bot"):"control"!==t?i.forEach(i=>{if(i.selector){sZ.We("applying transform of variant "+t+" for experiment "+e+" ",i);var r,s=null==(r=document)?void 0:r.querySelectorAll(i.selector);null==s||s.forEach(e=>{i.html&&(e.innerHTML=i.html),i.css&&e.setAttribute("style",i.css)})}}):sZ.We("Control variants leave the page unmodified.")}_is_bot(){return l&&this._instance?sK(l,this._instance.config.custom_blocked_useragents):void 0}}var s0=eS("[PostHog ExternalIntegrations]"),s1={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class s2{constructor(e){this._instance=e}nt(e,t){var i;null==(i=g.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,e,e=>{if(e)return s0.error("failed to load script",e);t()})}startIfEnabledOrStop(){var e,t=this,i=function(e){var i,r,n;!s||null!=(i=g.__PosthogExtensions__)&&null!=(i=i.integrations)&&i[e]||t.nt(s1[e],()=>{var i;null==(i=g.__PosthogExtensions__)||null==(i=i.integrations)||null==(i=i[e])||i.start(t._instance)}),!s&&null!=(r=g.__PosthogExtensions__)&&null!=(r=r.integrations)&&r[e]&&(null==(n=g.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[e])||n.stop())};for(var[r,s]of Object.entries(null!=(e=this._instance.config.integrations)?e:{}))i(r)}}var s3="[SessionRecording]",s5=eS(s3);class s6{get started(){var e;return!(null==(e=this.Qe)||!e.isStarted)}get status(){return this.Qe?this.Qe.status:this.Ze&&!this.tr?"disabled":"lazy_loading"}constructor(e){if(this._forceAllowLocalhostNetworkCapture=!1,this.Ze=!1,this.ir=void 0,this._instance=e,!this._instance.sessionManager)throw s5.error("started without valid sessionManager"),Error(s3+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw Error(s3+' cannot be used with cookieless_mode="always"')}get tr(){var e,t=!(null==(e=this._instance.get_property(eK))||!e.enabled),i=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return r&&t&&i&&!s}startIfEnabledOrStop(e){var t;if(!this.tr||null==(t=this.Qe)||!t.isStarted){var i=!j(Object.assign)&&!j(Array.from);this.tr&&i?(this.er(e),s5.info("starting")):this.stopRecording()}}er(e){var t,i,r;this.tr&&(null!=g&&null!=(t=g.__PosthogExtensions__)&&null!=(t=t.rrweb)&&t.record&&null!=(i=g.__PosthogExtensions__)&&i.initSessionRecording?this.rr(e):null==(r=g.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,this.sr,t=>{if(t)return s5.error("could not load recorder",t);this.rr(e)}))}stopRecording(){var e,t;null==(e=this.ir)||e.call(this),this.ir=void 0,null==(t=this.Qe)||t.stop()}nr(){var e;null==(e=this._instance.persistence)||e.unregister(eJ)}ar(e){if(this._instance.persistence){var t,i,r=this._instance.persistence,s=()=>{var t=!1===e.sessionRecording?void 0:e.sessionRecording,i=null==t?void 0:t.sampleRate,s=F(i)?null:parseFloat(i);F(s)&&this.nr();var n=null==t?void 0:t.minimumDurationMilliseconds;r.register({[eK]:_({enabled:!!t},t,{networkPayloadCapture:_({capturePerformance:e.capturePerformance},null==t?void 0:t.networkPayloadCapture),canvasRecording:{enabled:null==t?void 0:t.recordCanvas,fps:null==t?void 0:t.canvasFps,quality:null==t?void 0:t.canvasQuality},sampleRate:s,minimumDurationMilliseconds:j(n)?null:n,endpoint:null==t?void 0:t.endpoint,triggerMatchType:null==t?void 0:t.triggerMatchType,masking:null==t?void 0:t.masking,urlTriggers:null==t?void 0:t.urlTriggers})})};s(),null==(t=this.ir)||t.call(this),this.ir=null==(i=this._instance.sessionManager)?void 0:i.onSessionId(s)}}onRemoteConfig(e){"sessionRecording"in e?!1!==e.sessionRecording?(this.ar(e),this.Ze=!0,this.startIfEnabledOrStop()):this.Ze=!0:s5.info("skipping remote config with no sessionRecording",e)}log(e,t){var i;void 0===t&&(t="log"),null!=(i=this.Qe)&&i.log?this.Qe.log(e,t):s5.warn("log called before recorder was ready")}get sr(){var e,t,i=null==(e=this._instance)||null==(e=e.persistence)?void 0:e.get_property(eK);return(null==i||null==(t=i.scriptConfig)?void 0:t.script)||"lazy-recorder"}rr(e){var t,i;if(null==(t=g.__PosthogExtensions__)||!t.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.Qe||(this.Qe=null==(i=g.__PosthogExtensions__)?void 0:i.initSessionRecording(this._instance),this.Qe._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.Qe.start(e)}onRRwebEmit(e){var t;null==(t=this.Qe)||null==t.onRRwebEmit||t.onRRwebEmit(e)}overrideLinkedFlag(){var e;null==(e=this.Qe)||e.overrideLinkedFlag()}overrideSampling(){var e;null==(e=this.Qe)||e.overrideSampling()}overrideTrigger(e){var t;null==(t=this.Qe)||t.overrideTrigger(e)}get sdkDebugProperties(){var e;return(null==(e=this.Qe)?void 0:e.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(e,t){var i;return!(null==(i=this.Qe)||!i.tryAddCustomEvent(e,t))}}var s4={},s8=()=>{},s9="posthog",s7=!r6&&-1===(null==f?void 0:f.indexOf("MSIE"))&&-1===(null==f?void 0:f.indexOf("Mozilla")),ne=e=>{var t;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:function(e){var t=null==e?void 0:e.hostname;if(!$(t))return!1;var i=t.split(".").slice(-2).join(".");for(var r of e$)if(i===r)return!1;return!0}(null==u?void 0:u.location),persistence:"localStorage+cookie",persistence_name:"",loaded:s8,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==e||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=e?e:"unset",debug:c&&$(null==c?void 0:c.search)&&-1!==c.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==r||null==(t=r.location)?void 0:t.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t="Bad HTTP status: "+e.statusCode+" "+e.text;ew.error(t)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},error_tracking:{},_onCapture:s8,__preview_eager_load_replay:!1}},nt=e=>{var t={};j(e.process_person)||(t.person_profiles=e.process_person),j(e.xhr_headers)||(t.request_headers=e.xhr_headers),j(e.cookie_name)||(t.persistence_name=e.cookie_name),j(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),j(e.store_google)||(t.save_campaign_params=e.store_google),j(e.verbose)||(t.debug=e.verbose);var i=eO({},t,e);return A(e.property_blacklist)&&(j(e.property_denylist)?i.property_denylist=e.property_blacklist:A(e.property_denylist)?i.property_denylist=[...e.property_blacklist,...e.property_denylist]:ew.error("Invalid value for property_denylist config: "+e.property_denylist)),i};class ni{constructor(){this.__forceAllowLocalhost=!1}get lr(){return this.__forceAllowLocalhost}set lr(e){ew.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class nr{get decideEndpointWasHit(){var e,t;return null!=(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&e}get flagsEndpointWasHit(){var e,t;return null!=(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&e}constructor(){this.webPerformance=new ni,this.ur=!1,this.version=m.LIB_VERSION,this.hr=new sS,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=ne(),this.SentryIntegration=ig,this.sentryIntegration=e=>{var t;return t=ip(this,e),{name:id,processEvent:e=>t(e)}},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.dr=!1,this.vr=null,this.cr=null,this.pr=null,this.featureFlags=new sg(this),this.toolbar=new ib(this),this.scrollManager=new sL(this),this.pageViewManager=new rk(this),this.surveys=new sC(this),this.experiments=new sZ(this),this.exceptions=new sa(this),this.rateLimiter=new sI(this),this.requestRouter=new sY(this),this.consent=new it(this),this.externalIntegrations=new s2(this),this.people={set:(e,t,i)=>{var r=$(e)?{[e]:t}:e;this.setPersonProperties(r),null==i||i({})},set_once:(e,t,i)=>{var r=$(e)?{[e]:t}:e;this.setPersonProperties(void 0,r),null==i||i({})}},this.on("eventCaptured",e=>ew.info('send "'+(null==e?void 0:e.event)+'"',e))}init(e,t,i){if(i&&i!==s9){var r,s=null!=(r=s4[i])?r:new nr;return s._init(e,t,i),s4[i]=s,s4[s9][i]=s,s}return this._init(e,t,i)}_init(e,t,i){if(void 0===t&&(t={}),j(e)||M(e))return ew.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},t.debug=this.gr(t.debug),this._r=t,this.mr=[],t.person_profiles&&(this.cr=t.person_profiles),this.set_config(eO({},ne(t.defaults),nt(t),{name:i,token:e})),this.config.on_xhr_error&&ew.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:tM.GZipJS;var s=this.yr();this.persistence=new sv(this.config,s),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new sv(_({},this.config,{persistence:"sessionStorage"}),s);var n=_({},this.persistence.props),a=_({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.br=new sM(e=>this.wr(e),this.config.request_queue_config),this.Sr=new sF(this),this.__request_queue=[];var o="always"===this.config.cookieless_mode||"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(o||(this.sessionManager=new sV(this),this.sessionPropsManager=new sN(this,this.sessionManager,this.persistence)),new iS(this).startIfEnabledOrStop(),this.siteApps=new sH(this),null==(l=this.siteApps)||l.init(),o||(this.sessionRecording=new s6(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new tB(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new rx(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new rw(this),this.exceptionObserver=new il(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new ia(this,is),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new ic(this),this.historyAutocapture.startIfEnabled(),m.DEBUG=m.DEBUG||this.config.debug,m.DEBUG&&ew.info("Starting in debug mode",{this:this,config:t,thisC:_({},this.config),p:n,s:a}),void 0!==(null==(u=t.bootstrap)?void 0:u.distinctID)){var l,u,c,h,d=this.config.get_device_id(tY()),p=null!=(c=t.bootstrap)&&c.isIdentifiedID?d:t.bootstrap.distinctID;this.persistence.set_property(e6,null!=(h=t.bootstrap)&&h.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:p})}if(this.Er()){var f,g,v=Object.keys((null==(f=t.bootstrap)?void 0:f.featureFlags)||{}).filter(e=>{var i;return!(null==(i=t.bootstrap)||null==(i=i.featureFlags)||!i[e])}).reduce((e,i)=>{var r;return e[i]=(null==(r=t.bootstrap)||null==(r=r.featureFlags)?void 0:r[i])||!1,e},{}),y=Object.keys((null==(g=t.bootstrap)?void 0:g.featureFlagPayloads)||{}).filter(e=>v[e]).reduce((e,i)=>{var r,s;return null!=(r=t.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[i]&&(e[i]=null==(s=t.bootstrap)||null==(s=s.featureFlagPayloads)?void 0:s[i]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:v,featureFlagPayloads:y})}if(o)this.register_once({distinct_id:tr,$device_id:null},"");else if(!this.get_distinct_id()){var b=this.config.get_device_id(tY());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_property(e6,"anonymous")}return eD(r,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?function(e,t){var i=e.config.segment;if(!i)return t();!function(e,t){var i=e.config.segment;if(!i)return t();var r=i=>{var r=()=>i.anonymousId()||tY();e.config.get_device_id=r,i.id()&&(e.register({distinct_id:i.id(),$device_id:r()}),e.persistence.set_property(e6,"identified")),t()},s=i.user();"then"in s&&C(s.then)?s.then(e=>r(e)):r(s)}(e,()=>{var r;i.register((Promise&&Promise.resolve||ih.warn("This browser does not have Promise support, and can not use the segment integration"),r=(t,i)=>{if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(ih.info("No userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(ih.info("UserId set, identifying with PostHog"),e.identify(t.event.userId));var r=e.calculateEventProperties(i,t.event.properties);return t.event.properties=Object.assign({},r,t.event.properties),t},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>r(e,e.event.event),page:e=>r(e,"$pageview"),identify:e=>r(e,"$identify"),screen:e=>r(e,"$screen")})).then(()=>{t()})})}(this,()=>this.$r()):this.$r(),C(this.config._onCapture)&&this.config._onCapture!==s8&&(ew.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",e=>this.config._onCapture(e.event,e))),this.config.ip&&ew.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}hi(e){var t,i,r,s,n,a,o,l;u&&u.body?(this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=S(e.supportedCompression,tM.GZipJS)?tM.GZipJS:S(e.supportedCompression,tM.Base64)?tM.Base64:void 0),null!=(t=e.analytics)&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.cr?this.cr:"identified_only"}),null==(i=this.siteApps)||i.onRemoteConfig(e),null==(r=this.sessionRecording)||r.onRemoteConfig(e),null==(s=this.autocapture)||s.onRemoteConfig(e),null==(n=this.heatmaps)||n.onRemoteConfig(e),this.surveys.onRemoteConfig(e),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(e),null==(o=this.exceptionObserver)||o.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),null==(l=this.deadClicksAutocapture)||l.onRemoteConfig(e)):(ew.info("document not ready yet, trying again in 500 milliseconds..."),setTimeout(()=>{this.hi(e)},500))}$r(){try{this.config.loaded(this)}catch(e){ew.critical("`loaded` function failed",e)}this.kr(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||"always"===this.config.cookieless_mode)&&this.Pr()},1),new s$(this).load(),this.featureFlags.flags()}kr(){var e;this.is_capturing()&&this.config.request_batching&&(null==(e=this.br)||e.enable())}_dom_loaded(){this.is_capturing()&&eT(this.__request_queue,e=>this.wr(e)),this.__request_queue=[],this.kr()}_handle_unload(){var e,t;this.config.request_batching?(this.Tr()&&this.capture("$pageleave"),null==(e=this.br)||e.unload(),null==(t=this.Sr)||t.unload()):this.Tr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ui(e){this.__loaded&&(s7?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=r8(e.url,{ip:+!!this.config.ip}),e.headers=_({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,i,r,s=_({},e);s.timeout=s.timeout||6e4,s.url=r8(s.url,{_:(new Date).getTime().toString(),ver:m.LIB_VERSION,compression:s.compression});var n=null!=(t=s.transport)?t:"fetch",a=se.filter(e=>!s.disableTransport||!e.transport||!s.disableTransport.includes(e.transport)),o=null!=(i=null==(r=eM(a,e=>e.transport===n))?void 0:r.method)?i:a[0].method;if(!o)throw Error("No available transport method");o(s)})(_({},e,{callback:t=>{var i,r;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&(null==(i=(r=this.config).on_request_error)||i.call(r,t)),null==e.callback||e.callback(t)}}))))}wr(e){this.Sr?this.Sr.retriableRequest(e):this.ui(e)}_execute_array(e){var t,i=[],r=[],s=[];eT(e,e=>{e&&(A(t=e[0])?s.push(e):C(e)?e.call(this):A(e)&&"alias"===t?i.push(e):A(e)&&-1!==t.indexOf("capture")&&C(this[t])?s.push(e):r.push(e))});var n=function(e,t){eT(e,function(e){if(A(e[0])){var i=t;eP(e,function(e){i=i[e[0]].apply(i,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};n(i,this),n(r,this),n(s,this)}Er(){var e,t;return(null==(e=this.config.bootstrap)?void 0:e.featureFlags)&&Object.keys(null==(t=this.config.bootstrap)?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,i){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.br){if(this.is_capturing())if(!j(e)&&$(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){null!=t&&t.$current_url&&!$(null==t?void 0:t.$current_url)&&(ew.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var n=new Date,a=(null==i?void 0:i.timestamp)||n,o=tY(),l={uuid:o,event:e,properties:this.calculateEventProperties(e,t||{},a,o)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==i?void 0:i.$set)&&(l.$set=null==i?void 0:i.$set);var u,c=this.Ir(null==i?void 0:i.$set_once);if(c&&(l.$set_once=c),(h=l,d=null!=i&&i._noTruncate?null:this.config.properties_string_max_length,p=e=>$(e)&&!D(d)?e.slice(0,d):e,f=new Set,l=function e(t,i){var r;return t!==Object(t)?p?p(t,i):t:f.has(t)?void 0:(f.add(t),A(t)?(r=[],eT(t,t=>{r.push(e(t))})):(r={},eP(t,(t,i)=>{f.has(t)||(r[i]=e(t,i))})),r)}(h)).timestamp=a,j(null==i?void 0:i.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=n),e===s_.DISMISSED||e===s_.SENT){var h,d,p,f,g,m,v,y=null==t?void 0:t[sb.SURVEY_ID],b=null==t?void 0:t[sb.SURVEY_ITERATION];u={id:y,current_iteration:b},localStorage.getItem(sT(u))||localStorage.setItem(sT(u),"true"),l.$set=_({},l.$set,{[(g={id:y,current_iteration:b},v="$survey_"+(m=e===s_.SENT?"responded":"dismissed")+"/"+g.id,g.current_iteration&&g.current_iteration>0&&(v="$survey_"+m+"/"+g.id+"/"+g.current_iteration),v)]:!0})}var w=_({},l.properties.$set,l.$set);if(I(w)||this.setPersonPropertiesForFlags(w),!F(this.config.before_send)){var S=this.Rr(l);if(!S)return;l=S}this.hr.emit("eventCaptured",l);var E={method:"POST",url:null!=(r=null==i?void 0:i._url)?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this.wr(E):this.br.enqueue(E),l}ew.critical("This capture call is ignored due to client rate limiting.")}}else ew.error("No event name provided to posthog.capture")}else ew.uninitializedWarning("posthog.capture")}Ri(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,i,s,n){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;var a,o=n?void 0:this.persistence.remove_event_timer(e),l=_({},t);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,("always"==this.config.cookieless_mode||"on_reject"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),"$snapshot"===e){var h=_({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=h.distinct_id,(!$(l.distinct_id)&&!L(l.distinct_id)||M(l.distinct_id))&&ew.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var d,p=function(e,t){if(!f)return{};var i,s,n=e?eA([],rl,t||[]):[],[a,o]=function(e){for(var t=0;t<rn.length;t++){var[i,r]=rn[t],s=i.exec(e),n=s&&(C(r)?r(s,e):r);if(n)return n}return["",""]}(f);return eO(ej({$os:a,$os_version:o,$browser:ri(f,navigator.vendor),$device:ra(f),$device_type:(s=ra(f))===iP||s===iT||"Kobo"===s||"Kindle Fire"===s||s===i3?ik:s===iG||s===iK||s===iz||s===i0?"Console":s===iA?"Wearable":s?iE:"Desktop",$timezone:r_(),$timezone_offset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}}()}),{$current_url:tU(null==c?void 0:c.href,n,rc),$host:null==c?void 0:c.host,$pathname:null==c?void 0:c.pathname,$raw_user_agent:f.length>1e3?f.substring(0,997)+"...":f,$browser_version:rs(f,navigator.vendor),$browser_language:rg(),$browser_language_prefix:"string"==typeof(i=rg())?i.split("-")[0]:void 0,$screen_height:null==r?void 0:r.screen.height,$screen_width:null==r?void 0:r.screen.width,$viewport_height:null==r?void 0:r.innerHeight,$viewport_width:null==r?void 0:r.innerWidth,$lib:"web",$lib_version:m.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:g,windowId:v}=this.sessionManager.checkAndGetSessionAndWindowId(n,i.getTime());l.$session_id=g,l.$window_id=v}this.sessionPropsManager&&eO(l,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&eO(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=null==(a=this.Sr)?void 0:a.length}catch(e){l.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===sQ.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),d="$pageview"!==e||n?"$pageleave"!==e||n?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(i):this.pageViewManager.doPageView(i,s),l=eO(l,d),"$pageview"===e&&u&&(l.title=u.title),!j(o)){var y=i.getTime()-o;l.$duration=parseFloat((y/1e3).toFixed(3))}f&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=eO({},p,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),A(this.config.property_denylist)?eP(this.config.property_denylist,function(e){delete l[e]}):ew.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var b=this.config.sanitize_properties;b&&(ew.error("sanitize_properties is deprecated. Use before_send instead"),l=b(l,e));var w=this.Cr();return l.$process_person_profile=w,w&&!n&&this.Or("_calculate_event_properties"),l}Ir(e){if(!this.persistence||!this.Cr()||this.ur)return e;var t,i=eO({},this.persistence.get_initial_props(),(null==(t=this.sessionPropsManager)?void 0:t.getSetOnceProps())||{},e||{}),r=this.config.sanitize_properties;return r&&(ew.error("sanitize_properties is deprecated. Use before_send instead"),i=r(i,"$set_once")),this.ur=!0,I(i)?void 0:i}register(e,t){var i;null==(i=this.persistence)||i.register(e,t)}register_once(e,t,i){var r;null==(r=this.persistence)||r.register_once(e,t,i)}register_for_session(e){var t;null==(t=this.sessionPersistence)||t.register(e)}unregister(e){var t;null==(t=this.persistence)||t.unregister(e)}unregister_for_session(e){var t;null==(t=this.sessionPersistence)||t.unregister(e)}Fr(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t,i){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t,i)}getEarlyAccessFeatures(e,t,i){return void 0===t&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,i)}on(e,t){return this.hr.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,i;return null!=(t=null==(i=this.sessionManager)?void 0:i.onSessionId(e))?t:()=>{}}getSurveys(e,t){void 0===t&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){void 0===t&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}displaySurvey(e,t){void 0===t&&(t=sO),this.surveys.displaySurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return void 0===t&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,i){if(!this.__loaded||!this.persistence)return ew.uninitializedWarning("posthog.identify");if(L(e)&&(e=e.toString(),ew.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))ew.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==tr){if(this.Or("posthog.identify")){var r=this.get_distinct_id();this.register({$user_id:e}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:r},""),e!==r&&e!==this.get_property(eL)&&(this.unregister(eL),this.register({distinct_id:e}));var s="anonymous"===(this.persistence.get_property(e6)||"anonymous");e!==r&&s?(this.persistence.set_property(e6,"identified"),this.setPersonPropertiesForFlags(_({},i||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:i||{}}),this.pr=si(e,t,i),this.featureFlags.setAnonymousDistinctId(r)):(t||i)&&this.setPersonProperties(t,i),e!==r&&(this.reloadFeatureFlags(),this.unregister(e5))}}else ew.critical('The string "'+tr+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else ew.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Or("posthog.setPersonProperties")){var i=si(this.get_distinct_id(),e,t);this.pr!==i?(this.setPersonPropertiesForFlags(_({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.pr=i):ew.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,i){if(e&&t){if(this.Or("posthog.group")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:_({},r,{[e]:t})}),i&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),r[e]===t||i||this.reloadFeatureFlags()}}else ew.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0),this.Or("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){if(ew.info("reset"),!this.__loaded)return ew.uninitializedWarning("posthog.reset");var t,i,r,s,n=this.get_property("$device_id");if(this.consent.reset(),null==(t=this.persistence)||t.clear(),null==(i=this.sessionPersistence)||i.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(r=this.persistence)||r.set_property(e6,"anonymous"),null==(s=this.sessionManager)||s.resetSessionId(),this.pr=null,"always"===this.config.cookieless_mode)this.register_once({distinct_id:tr,$device_id:null},"");else{var a=this.config.get_device_id(tY());this.register_once({distinct_id:a,$device_id:e?a:n},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return null!=(e=null==(t=this.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(null!=e&&e.withTimestamp&&i){var s,n=null!=(s=e.timestampLookBack)?s:10;if(!i)return r;r+="?t="+Math.max(Math.floor(((new Date).getTime()-i)/1e3)-n,0)}return r}alias(e,t){return e===this.get_property(eF)?(ew.critical("Attempting to create alias for existing People user - aborting."),-2):this.Or("posthog.alias")?(j(t)&&(t=this.get_distinct_id()),e!==t?(this.Fr(eL,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(ew.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t=_({},this.config);if(R(e)){eO(this.config,nt(e));var i,r,s,n,a,o=this.yr();null==(i=this.persistence)||i.update_config(this.config,t,o),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new sv(_({},this.config,{persistence:"sessionStorage"}),o);var l=this.gr(this.config.debug);U(l)&&(this.config.debug=l),U(this.config.debug)&&(this.config.debug?(m.DEBUG=!0,t3.G()&&t3.Y("ph_debug","true"),ew.info("set_config",{config:e,oldConfig:t,newConfig:_({},this.config)})):(m.DEBUG=!1,t3.G()&&t3.X("ph_debug"))),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(s=this.autocapture)||s.startIfEnabled(),null==(n=this.heatmaps)||n.startIfEnabled(),this.surveys.loadIfEnabled(),this.Mr(),null==(a=this.externalIntegrations)||a.startIfEnabledOrStop()}}startSessionRecording(e){var t,i,r,s,n,a=!0===e,o={sampling:a||!(null==e||!e.sampling),linked_flag:a||!(null==e||!e.linked_flag),url_trigger:a||!(null==e||!e.url_trigger),event_trigger:a||!(null==e||!e.event_trigger)};Object.values(o).some(Boolean)&&(null==(t=this.sessionManager)||t.checkAndGetSessionAndWindowId(),o.sampling&&(null==(i=this.sessionRecording)||i.overrideSampling()),o.linked_flag&&(null==(r=this.sessionRecording)||r.overrideLinkedFlag()),o.url_trigger&&(null==(s=this.sessionRecording)||s.overrideTrigger("url")),o.event_trigger&&(null==(n=this.sessionRecording)||n.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null==(e=this.sessionRecording)||!e.started)}captureException(e,t){var i=Error("PostHog syntheticException"),r=this.exceptions.buildProperties(e,{handled:!0,syntheticException:i});return this.exceptions.sendExceptionEvent(_({},r,t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null==(t=this.persistence)?void 0:t.props[e]}getSessionProperty(e){var t;return null==(t=this.sessionPersistence)?void 0:t.props[e]}toString(){var e,t=null!=(e=this.config.name)?e:s9;return t!==s9&&(t=s9+"."+t),t}_isIdentified(){var e,t;return"identified"===(null==(e=this.persistence)?void 0:e.get_property(e6))||"identified"===(null==(t=this.sessionPersistence)?void 0:t.get_property(e6))}Cr(){var e,t;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&I(this.getGroups())&&(null==(e=this.persistence)||null==(e=e.props)||!e[eL])&&(null==(t=this.persistence)||null==(t=t.props)||!t[tt]))}Tr(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.Cr()||this.Or("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Or(e){return"never"===this.config.person_profiles?(ew.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Fr(tt,!0),!0)}yr(){if("always"===this.config.cookieless_mode)return!0;var e=this.consent.isOptedOut(),t=this.config.opt_out_persistence_by_default||"on_reject"===this.config.cookieless_mode;return this.config.disable_persistence||e&&!!t}Mr(){var e,t,i,r,s=this.yr();return(null==(e=this.persistence)?void 0:e.gi)!==s&&(null==(i=this.persistence)||i.set_disabled(s)),(null==(t=this.sessionPersistence)?void 0:t.gi)!==s&&(null==(r=this.sessionPersistence)||r.set_disabled(s)),s}opt_in_capturing(e){if("always"!==this.config.cookieless_mode){var t,i;"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),null==(t=this.sessionManager)||t.destroy(),this.sessionManager=new sV(this),this.persistence&&(this.sessionPropsManager=new sN(this,this.sessionManager,this.persistence)),this.sessionRecording=new s6(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Mr(),this.kr(),"on_reject"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),(j(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!=(i=null==e?void 0:e.captureEventName)?i:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Pr()}else ew.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e,t;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Mr(),"on_reject"===this.config.cookieless_mode&&(this.register({distinct_id:tr,$device_id:null}),null==(e=this.sessionManager)||e.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(t=this.sessionRecording)||t.stopRecording(),this.sessionRecording=void 0,this.Pr())):ew.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===ie.GRANTED?"granted":e===ie.DENIED?"denied":"pending"}is_capturing(){return"always"===this.config.cookieless_mode||("on_reject"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Mr()}_is_bot(){return l?sK(l,this.config.custom_blocked_useragents):void 0}Pr(){u&&("visible"===u.visibilityState?this.dr||(this.dr=!0,this.capture("$pageview",{title:u.title},{send_instantly:!0}),this.vr&&(u.removeEventListener("visibilitychange",this.vr),this.vr=null)):this.vr||(this.vr=this.Pr.bind(this),eD(u,"visibilitychange",this.vr)))}debug(e){!1===e?(null==r||r.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(null==r||r.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}L(){var e,t,i,r,s=this._r||{};return"advanced_disable_flags"in s?!!s.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(ew.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(t="advanced_disable_decide",i=(e="advanced_disable_flags")in s&&!j(s[e]),r=t in s&&!j(s[t]),i?s[e]:!!r&&(ew&&ew.warn("Config field '"+t+"' is deprecated. Please use '"+e+"' instead. The old field will be removed in a future major version."),s[t]))}Rr(e){if(F(this.config.before_send))return e;var t=A(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var r of t){if(F(i=r(i))){var s="Event '"+e.event+"' was rejected in beforeSend function";return N(e.event)?ew.warn(s+". This can cause unexpected behavior."):ew.info(s),null}i.properties&&!I(i.properties)||ew.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return i}getPageViewId(){var e;return null==(e=this.pageViewManager.Wt)?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,i){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(i)})}gr(e){var t=U(e)&&!e,i=t3.G()&&"true"===t3.J("ph_debug");return!t&&(!!i||e)}}for(var ns=["identify"],nn=0;nn<ns.length;nn++)nr.prototype[ns[nn]]=eI(nr.prototype[ns[nn]]);var na,no,nl,nu,nc,nh,nd,np,nf,ng,nm,nv,ny,n_,nb=(n_=s4[s9]=new nr,function(){function e(){e.done||(e.done=!0,s7=!1,eP(s4,function(e){e._dom_loaded()}))}null!=u&&u.addEventListener?"complete"===u.readyState?e():eD(u,"DOMContentLoaded",e,{capture:!1}):r&&ew.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),n_)},75990:function(e,t,i){"use strict";i.d(t,{sf:()=>o,so:()=>a});var r=i(53080),s=i(39430),n=(0,s.createContext)({client:r.Ay});function a(e){var t=e.children,i=e.client,a=e.apiKey,o=e.options,l=(0,s.useRef)(null),u=(0,s.useMemo)(function(){return i?(a&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),o&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),i):(a||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),r.Ay)},[i,a,JSON.stringify(o)]);return(0,s.useEffect)(function(){if(!i){var e=l.current;e?(a!==e.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),o&&!function e(t,i,r){if(void 0===r&&(r=new WeakMap),t===i)return!0;if("object"!=typeof t||null===t||"object"!=typeof i||null===i)return!1;if(r.has(t)&&r.get(t)===i)return!0;r.set(t,i);var s=Object.keys(t),n=Object.keys(i);if(s.length!==n.length)return!1;for(var a=0;a<s.length;a++){var o=s[a];if(!n.includes(o)||!e(t[o],i[o],r))return!1}return!0}(o,e.options)&&r.Ay.set_config(o)):(r.Ay.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),r.Ay.init(a,o)),l.current={apiKey:a,options:null!=o?o:{}}}},[i,a,JSON.stringify(o)]),s.createElement(n.Provider,{value:{client:u}},t)}var o=function(){return(0,s.useContext)(n).client},l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};"function"==typeof SuppressedError&&SuppressedError;var u=function(e){return"function"==typeof e},c={componentStack:null,exceptionEvent:null,error:null},h=s.Component;if("function"!=typeof h&&null!==h)throw TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=p}function p(e){var t=h.call(this,e)||this;return t.state=c,t}l(p,h),p.prototype=null===h?Object.create(h):(d.prototype=h.prototype,new d),p.prototype.componentDidCatch=function(e,t){var i,r=this.props.additionalProperties;u(r)?i=r(e):"object"==typeof r&&(i=r);var s=this.context.client.captureException(e,i),n=t.componentStack;this.setState({error:e,componentStack:n,exceptionEvent:s})},p.prototype.render=function(){var e=this.props,t=e.children,i=e.fallback,r=this.state;if(null==r.componentStack)return u(t)?t():t;var n=u(i)?s.createElement(i,{error:r.error,componentStack:r.componentStack,exceptionEvent:r.exceptionEvent}):i;return s.isValidElement(n)?n:(console.warn("[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."),s.createElement(s.Fragment,null))},p.contextType=n},98727:function(e){var t="undefined"!=typeof Element,i="function"==typeof Map,r="function"==typeof Set,s="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,n){try{return function e(n,a){if(n===a)return!0;if(n&&a&&"object"==typeof n&&"object"==typeof a){var o,l,u,c;if(n.constructor!==a.constructor)return!1;if(Array.isArray(n)){if((o=n.length)!=a.length)return!1;for(l=o;0!=l--;)if(!e(n[l],a[l]))return!1;return!0}if(i&&n instanceof Map&&a instanceof Map){if(n.size!==a.size)return!1;for(c=n.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=n.entries();!(l=c.next()).done;)if(!e(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&n instanceof Set&&a instanceof Set){if(n.size!==a.size)return!1;for(c=n.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(a)){if((o=n.length)!=a.length)return!1;for(l=o;0!=l--;)if(n[l]!==a[l])return!1;return!0}if(n.constructor===RegExp)return n.source===a.source&&n.flags===a.flags;if(n.valueOf!==Object.prototype.valueOf&&"function"==typeof n.valueOf&&"function"==typeof a.valueOf)return n.valueOf()===a.valueOf();if(n.toString!==Object.prototype.toString&&"function"==typeof n.toString&&"function"==typeof a.toString)return n.toString()===a.toString();if((o=(u=Object.keys(n)).length)!==Object.keys(a).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(t&&n instanceof Element)return!1;for(l=o;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!n.$$typeof)&&!e(n[u[l]],a[u[l]]))return!1;return!0}return n!=n&&a!=a}(e,n)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},33416:function(e,t,i){"use strict";i.d(t,{mg:()=>V,vd:()=>D});var r,s=i(39430),n=i(98727),a=i.n(n),o=i(92018),l=i.n(o),u=i(60162),c=i.n(u),h=((r=h||{}).BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r),d={rel:["amphtml","canonical","alternate"]},p={type:["application/ld+json"]},f={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},g=Object.values(h),m={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},v=Object.entries(m).reduce((e,[t,i])=>(e[i]=t,e),{}),y="data-rh",_=(e,t)=>{for(let i=e.length-1;i>=0;i-=1){let r=e[i];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},b=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),w=(e,t,i)=>{let r={};return i.filter(t=>{let i;return!!Array.isArray(t[e])||(void 0!==t[e]&&(i=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"==typeof console.warn&&console.warn(i)),!1)}).map(t=>t[e]).reverse().reduce((e,i)=>{let s={};i.filter(e=>{let i,n=Object.keys(e);for(let r=0;r<n.length;r+=1){let s=n[r],a=s.toLowerCase();-1!==t.indexOf(a)&&("rel"!==i||"canonical"!==e[i].toLowerCase())&&("rel"!==a||"stylesheet"!==e[a].toLowerCase())&&(i=a),-1!==t.indexOf(s)&&("innerHTML"===s||"cssText"===s||"itemprop"===s)&&(i=s)}if(!i||!e[i])return!1;let a=e[i].toLowerCase();return r[i]||(r[i]={}),s[i]||(s[i]={}),!r[i][a]&&(s[i][a]=!0,!0)}).reverse().forEach(t=>e.push(t));let n=Object.keys(s);for(let e=0;e<n.length;e+=1){let t=n[e],i={...r[t],...s[t]};r[t]=i}return e},[]).reverse()},S=e=>Array.isArray(e)?e.join(""):e,E=(e,t)=>Array.isArray(e)?e.reduce((e,i)=>(((e,t)=>{let i=Object.keys(e);for(let r=0;r<i.length;r+=1)if(t[i[r]]&&t[i[r]].includes(e[i[r]]))return!0;return!1})(i,t)?e.priority.push(i):e.default.push(i),e),{priority:[],default:[]}):{default:e,priority:[]},x=(e,t)=>({...e,[t]:void 0}),k=["noscript","script","style"],T=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),P=e=>Object.keys(e).reduce((t,i)=>{let r=void 0!==e[i]?`${i}="${e[i]}"`:`${i}`;return t?`${t} ${r}`:r},""),O=(e,t={})=>Object.keys(e).reduce((t,i)=>(t[m[i]||i]=e[i],t),t),A=(e,t)=>t.map((t,i)=>{let r={key:i,[y]:!0};return Object.keys(t).forEach(e=>{let i=m[e]||e;"innerHTML"===i||"cssText"===i?r.dangerouslySetInnerHTML={__html:t.innerHTML||t.cssText}:r[i]=t[e]}),s.createElement(e,r)}),C=(e,t,i=!0)=>{switch(e){case"title":return{toComponent:()=>{var e;let i;return e=t.title,i=O(t.titleAttributes,{key:e,[y]:!0}),[s.createElement("title",i,e)]},toString:()=>{var r,s;let n,a;return r=t.title,s=t.titleAttributes,n=P(s),a=S(r),n?`<${e} ${y}="true" ${n}>${T(a,i)}</${e}>`:`<${e} ${y}="true">${T(a,i)}</${e}>`}};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>O(t),toString:()=>P(t)};default:return{toComponent:()=>A(e,t),toString:()=>((e,t,i=!0)=>t.reduce((t,r)=>{let s=Object.keys(r).filter(e=>"innerHTML"!==e&&"cssText"!==e).reduce((e,t)=>{let s=void 0===r[t]?t:`${t}="${T(r[t],i)}"`;return e?`${e} ${s}`:s},""),n=r.innerHTML||r.cssText||"",a=-1===k.indexOf(e);return`${t}<${e} ${y}="true" ${s}${a?"/>":`>${n}</${e}>`}`},""))(e,t,i)}}},R=e=>{let{baseTag:t,bodyAttributes:i,encode:r=!0,htmlAttributes:s,noscriptTags:n,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:u}=e,{linkTags:c,metaTags:h,scriptTags:g}=e,m={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:m,linkTags:c,metaTags:h,scriptTags:g}=(({metaTags:e,linkTags:t,scriptTags:i,encode:r})=>{let s=E(e,f),n=E(t,d),a=E(i,p);return{priorityMethods:{toComponent:()=>[...A("meta",s.priority),...A("link",n.priority),...A("script",a.priority)],toString:()=>`${C("meta",s.priority,r)} ${C("link",n.priority,r)} ${C("script",a.priority,r)}`},metaTags:s.default,linkTags:n.default,scriptTags:a.default}})(e)),{priority:m,base:C("base",t,r),bodyAttributes:C("bodyAttributes",i,r),htmlAttributes:C("htmlAttributes",s,r),link:C("link",c,r),meta:C("meta",h,r),noscript:C("noscript",n,r),script:C("script",g,r),style:C("style",a,r),title:C("title",{title:o,titleAttributes:l},r)}},I=[],j=!!("undefined"!=typeof window&&window.document&&window.document.createElement),$=class{instances=[];canUseDOM=j;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?I:this.instances,add:e=>{(this.canUseDOM?I:this.instances).push(e)},remove:e=>{let t=(this.canUseDOM?I:this.instances).indexOf(e);(this.canUseDOM?I:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=R({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},M=s.createContext({}),D=class e extends s.Component{static canUseDOM=j;helmetData;constructor(t){super(t),this.helmetData=new $(this.props.context||{},e.canUseDOM)}render(){return s.createElement(M.Provider,{value:this.helmetData.value},this.props.children)}},F=(e,t)=>{let i,r=document.head||document.querySelector("head"),s=r.querySelectorAll(`${e}[${y}]`),n=[].slice.call(s),a=[];return t&&t.length&&t.forEach(t=>{let r=document.createElement(e);for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)r.innerHTML=t.innerHTML;else if("cssText"===e)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{let i=void 0===t[e]?"":t[e];r.setAttribute(e,i)}r.setAttribute(y,"true"),n.some((e,t)=>(i=t,r.isEqualNode(e)))?n.splice(i,1):a.push(r)}),n.forEach(e=>e.parentNode?.removeChild(e)),a.forEach(e=>r.appendChild(e)),{oldTags:n,newTags:a}},L=(e,t)=>{let i=document.getElementsByTagName(e)[0];if(!i)return;let r=i.getAttribute(y),s=r?r.split(","):[],n=[...s],a=Object.keys(t);for(let e of a){let r=t[e]||"";i.getAttribute(e)!==r&&i.setAttribute(e,r),-1===s.indexOf(e)&&s.push(e);let a=n.indexOf(e);-1!==a&&n.splice(a,1)}for(let e=n.length-1;e>=0;e-=1)i.removeAttribute(n[e]);s.length===n.length?i.removeAttribute(y):i.getAttribute(y)!==a.join(",")&&i.setAttribute(y,a.join(","))},U=(e,t)=>{let{baseTag:i,bodyAttributes:r,htmlAttributes:s,linkTags:n,metaTags:a,noscriptTags:o,onChangeClientState:l,scriptTags:u,styleTags:c,title:h,titleAttributes:d}=e;L("body",r),L("html",s),void 0!==h&&document.title!==h&&(document.title=S(h)),L("title",d);let p={baseTag:F("base",i),linkTags:F("link",n),metaTags:F("meta",a),noscriptTags:F("noscript",o),scriptTags:F("script",u),styleTags:F("style",c)},f={},g={};Object.keys(p).forEach(e=>{let{newTags:t,oldTags:i}=p[e];t.length&&(f[e]=t),i.length&&(g[e]=p[e].oldTags)}),t&&t(),l(e,f,g)},N=null,q=class extends s.Component{rendered=!1;shouldComponentUpdate(e){return!c()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){let{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){var e;let t,{helmetInstances:i,setHelmet:r}=this.props.context,s=null,n={baseTag:(t=["href"],(e=i.get().map(e=>{let t={...e.props};return delete t.context,t})).filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((e,i)=>{if(!e.length){let r=Object.keys(i);for(let s=0;s<r.length;s+=1){let n=r[s].toLowerCase();if(-1!==t.indexOf(n)&&i[n])return e.concat(i)}}return e},[])),bodyAttributes:b("bodyAttributes",e),defer:_(e,"defer"),encode:_(e,"encodeSpecialCharacters"),htmlAttributes:b("htmlAttributes",e),linkTags:w("link",["rel","href"],e),metaTags:w("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:w("noscript",["innerHTML"],e),onChangeClientState:_(e,"onChangeClientState")||(()=>{}),scriptTags:w("script",["src","innerHTML"],e),styleTags:w("style",["cssText"],e),title:(e=>{let t=_(e,"title"),i=_(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),i&&t)return i.replace(/%s/g,()=>t);let r=_(e,"defaultTitle");return t||r||void 0})(e),titleAttributes:b("titleAttributes",e),prioritizeSeoTags:((e,t)=>{if(Array.isArray(e)&&e.length){for(let i=0;i<e.length;i+=1)if(e[i][t])return!0}return!1})(e,"prioritizeSeoTags")};if(D.canUseDOM)N&&cancelAnimationFrame(N),n.defer?N=requestAnimationFrame(()=>{U(n,()=>{N=null})}):(U(n),N=null);else R&&(s=R(n));r(s)}init(){if(this.rendered)return;this.rendered=!0;let{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},V=class extends s.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!a()(x(this.props,"helmetData"),x(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,i,r){return{...t,[e.type]:[...t[e.type]||[],{...i,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,i,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...i}};case"body":return{...t,bodyAttributes:{...i}};case"html":return{...t,htmlAttributes:{...i}};default:return{...t,[e.type]:{...i}}}}mapArrayTypeChildrenToProps(e,t){let i={...t};return Object.keys(e).forEach(t=>{i={...i,[t]:e[t]}}),i}warnOnInvalidChildren(e,t){return l()(g.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${g.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),l()(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let i={};return s.Children.forEach(e,e=>{if(!e||!e.props)return;let{children:r,...s}=e.props,n=Object.keys(s).reduce((e,t)=>(e[v[t]||t]=s[t],e),{}),{type:a}=e;switch("symbol"==typeof a?a=a.toString():this.warnOnInvalidChildren(e,r),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":i=this.flattenArrayTypeChildren(e,i,n,r);break;default:t=this.mapObjectTypeChildren(e,t,n,r)}}),this.mapArrayTypeChildrenToProps(i,t)}render(){let{children:e,...t}=this.props,i={...t},{helmetData:r}=t;return e&&(i=this.mapChildrenToProps(e,i)),!r||r instanceof $||(r=new $(r.context,!0),delete i.helmetData),r?s.createElement(q,{...i,context:r.value}):s.createElement(M.Consumer,null,e=>s.createElement(q,{...i,context:e}))}}},60162:function(e){e.exports=function(e,t,i,r){var s=i?i.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<n.length;l++){var u=n[l];if(!o(u))return!1;var c=e[u],h=t[u];if(!1===(s=i?i.call(r,c,h,u):void 0)||void 0===s&&c!==h)return!1}return!0}},56526:function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{_:()=>r})},34183:function(e,t,i){"use strict";i.d(t,{m:()=>n});var r=i(27517),s=i(50583),n=new class extends r.Q{#e;#t;#i;constructor(){super(),this.#i=e=>{if(!s.S$&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#i=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}}},36464:function(e,t,i){"use strict";i.d(t,{PL:()=>s,RQ:()=>l,rB:()=>o});var r=i(50583);function s(e){return{onFetch:(t,i)=>{let s=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],u=t.state.data?.pageParams||[],c={pages:[],pageParams:[]},h=0,d=async()=>{let i=!1,d=(0,r.ZM)(t.options,t.fetchOptions),p=async(e,s,n)=>{let a;if(i)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);let o=(Object.defineProperty(a={client:t.client,queryKey:t.queryKey,pageParam:s,direction:n?"backward":"forward",meta:t.options.meta},"signal",{enumerable:!0,get:()=>(t.signal.aborted?i=!0:t.signal.addEventListener("abort",()=>{i=!0}),t.signal)}),a),l=await d(o),{maxPages:u}=t.options,c=n?r.ZZ:r.y9;return{pages:c(e.pages,l,u),pageParams:c(e.pageParams,s,u)}};if(o&&l.length){let e="backward"===o,t={pages:l,pageParams:u},i=(e?a:n)(s,t);c=await p(t,i,e)}else{let t=e??l.length;do{let e=0===h?u[0]??s.initialPageParam:n(s,c);if(h>0&&null==e)break;c=await p(c,e),h++}while(h<t)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},i):t.fetchFn=d}}}function n(e,{pages:t,pageParams:i}){let r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,i[r],i):void 0}function a(e,{pages:t,pageParams:i}){return t.length>0?e.getPreviousPageParam?.(t[0],t,i[0],i):void 0}function o(e,t){return!!t&&null!=n(e,t)}function l(e,t){return!!t&&!!e.getPreviousPageParam&&null!=a(e,t)}},31043:function(e,t,i){"use strict";i.d(t,{$:()=>o,s:()=>a});var r=i(3266),s=i(81099),n=i(10219),a=class extends s.k{#r;#s;#n;#a;constructor(e){super(),this.#r=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#s=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#s.includes(e)||(this.#s.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#s=this.#s.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#s.length||("pending"===this.state.status?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#o({type:"continue"})},i={client:this.#r,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=(0,n.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#o({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#o({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});let r="pending"===this.state.status,s=!this.#a.canStart();try{if(r)t();else{this.#o({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,i);let t=await this.options.onMutate?.(e,i);t!==this.state.context&&this.#o({type:"pending",context:t,variables:e,isPaused:s})}let n=await this.#a.start();return await this.#n.config.onSuccess?.(n,e,this.state.context,this,i),await this.options.onSuccess?.(n,e,this.state.context,i),await this.#n.config.onSettled?.(n,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(n,null,e,this.state.context,i),this.#o({type:"success",data:n}),n}catch(t){try{throw await this.#n.config.onError?.(t,e,this.state.context,this,i),await this.options.onError?.(t,e,this.state.context,i),await this.#n.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,t,e,this.state.context,i),t}finally{this.#o({type:"error",error:t})}}finally{this.#n.runNext(this)}}#o(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),r.jG.batch(()=>{this.#s.forEach(t=>{t.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},3266:function(e,t,i){"use strict";let r,s,n,a,o,l;i.d(t,{jG:()=>c});var u=i(59122).Zq,c=(r=[],s=0,n=e=>{e()},a=e=>{e()},o=u,{batch:e=>{let t;s++;try{t=e()}finally{let e;--s||(e=r,r=[],e.length&&o(()=>{a(()=>{e.forEach(e=>{n(e)})})}))}return t},batchCalls:e=>(...t)=>{l(()=>{e(...t)})},schedule:l=e=>{s?r.push(e):o(()=>{n(e)})},setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{a=e},setScheduler:e=>{o=e}})},21124:function(e,t,i){"use strict";i.d(t,{t:()=>n});var r=i(27517),s=i(50583),n=new class extends r.Q{#l=!0;#t;#i;constructor(){super(),this.#i=e=>{if(!s.S$&&window.addEventListener){let t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#i=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#l!==e&&(this.#l=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#l}}},51150:function(e,t,i){"use strict";i.d(t,{X:()=>o,k:()=>l});var r=i(50583),s=i(3266),n=i(10219),a=i(81099),o=class extends a.k{#u;#c;#h;#r;#a;#d;#p;constructor(e){super(),this.#p=!1,this.#d=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#h=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#u=u(this.options),this.state=e.state??this.#u,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#d,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=u(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#u=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#h.remove(this)}setData(e,t){let i=(0,r.pl)(this.state.data,e,this.options);return this.#o({data:i,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),i}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(r.lQ).catch(r.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#u)}isActive(){return this.observers.some(e=>!1!==(0,r.Eh)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===r.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,r.d2)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,r.j3)(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#h.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#p?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#h.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){let i;if("idle"!==this.state.fetchStatus&&this.#a?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let s=new AbortController,a=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#p=!0,s.signal)})},o=()=>{let e,i=(0,r.ZM)(this.options,t),s=(a(e={client:this.#r,queryKey:this.queryKey,meta:this.meta}),e);return(this.#p=!1,this.options.persister)?this.options.persister(i,s,this):i(s)},l=(a(i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o}),i);this.options.behavior?.onFetch(l,this),this.#c=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#o({type:"fetch",meta:l.fetchOptions?.meta}),this.#a=(0,n.II)({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:e=>{e instanceof n.cc&&e.revert&&this.setState({...this.#c,fetchStatus:"idle"}),s.abort()},onFail:(e,t)=>{this.#o({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{let e=await this.#a.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#h.config.onSuccess?.(e,this),this.#h.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof n.cc){if(e.silent)return this.#a.promise;else if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#o({type:"error",error:e}),this.#h.config.onError?.(e,this),this.#h.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#o(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...l(t.data,this.options),fetchMeta:e.meta??null};case"success":let i={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#c=e.manual?i:void 0,i;case"error":let r=e.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),s.jG.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#h.notify({query:this,type:"updated",action:e})})}};function l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,n.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function u(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,i=void 0!==t,r=i?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}},52400:function(e,t,i){"use strict";i.d(t,{E:()=>f});var r=i(50583),s=i(51150),n=i(3266),a=i(27517),o=class extends a.Q{constructor(e={}){super(),this.config=e,this.#f=new Map}#f;build(e,t,i){let n=t.queryKey,a=t.queryHash??(0,r.F$)(n,t),o=this.get(a);return o||(o=new s.X({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#f.has(e.queryHash)||(this.#f.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#f.get(e.queryHash);t&&(e.destroy(),t===e&&this.#f.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.jG.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#f.get(e)}getAll(){return[...this.#f.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,r.MK)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,r.MK)(e,t)):t}notify(e){n.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){n.jG.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){n.jG.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},l=i(31043),u=class extends a.Q{constructor(e={}){super(),this.config=e,this.#g=new Set,this.#m=new Map,this.#v=0}#g;#m;#v;build(e,t,i){let r=new l.s({client:e,mutationCache:this,mutationId:++this.#v,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){this.#g.add(e);let t=c(e);if("string"==typeof t){let i=this.#m.get(t);i?i.push(e):this.#m.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){let t=c(e);if("string"==typeof t){let i=this.#m.get(t);if(i)if(i.length>1){let t=i.indexOf(e);-1!==t&&i.splice(t,1)}else i[0]===e&&this.#m.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=c(e);if("string"!=typeof t)return!0;{let i=this.#m.get(t),r=i?.find(e=>"pending"===e.state.status);return!r||r===e}}runNext(e){let t=c(e);if("string"!=typeof t)return Promise.resolve();{let i=this.#m.get(t)?.find(t=>t!==e&&t.state.isPaused);return i?.continue()??Promise.resolve()}}clear(){n.jG.batch(()=>{this.#g.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#g.clear(),this.#m.clear()})}getAll(){return Array.from(this.#g)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,r.nJ)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,r.nJ)(e,t))}notify(e){n.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return n.jG.batch(()=>Promise.all(e.map(e=>e.continue().catch(r.lQ))))}};function c(e){return e.options.scope?.id}var h=i(34183),d=i(21124),p=i(36464),f=class{#y;#n;#d;#_;#b;#w;#S;#E;constructor(e={}){this.#y=e.queryCache||new o,this.#n=e.mutationCache||new u,this.#d=e.defaultOptions||{},this.#_=new Map,this.#b=new Map,this.#w=0}mount(){this.#w++,1===this.#w&&(this.#S=h.m.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#y.onFocus())}),this.#E=d.t.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#y.onOnline())}))}unmount(){this.#w--,0===this.#w&&(this.#S?.(),this.#S=void 0,this.#E?.(),this.#E=void 0)}isFetching(e){return this.#y.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#n.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#y.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),i=this.#y.build(this,t),s=i.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime((0,r.d2)(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#y.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,i){let s=this.defaultQueryOptions({queryKey:e}),n=this.#y.get(s.queryHash),a=n?.state.data,o=(0,r.Zw)(t,a);if(void 0!==o)return this.#y.build(this,s).setData(o,{...i,manual:!0})}setQueriesData(e,t,i){return n.jG.batch(()=>this.#y.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,i)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#y.get(t.queryHash)?.state}removeQueries(e){let t=this.#y;n.jG.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let i=this.#y;return n.jG.batch(()=>(i.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let i={revert:!0,...t};return Promise.all(n.jG.batch(()=>this.#y.findAll(e).map(e=>e.cancel(i)))).then(r.lQ).catch(r.lQ)}invalidateQueries(e,t={}){return n.jG.batch(()=>(this.#y.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let i={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(n.jG.batch(()=>this.#y.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,i);return i.throwOnError||(t=t.catch(r.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(r.lQ)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let i=this.#y.build(this,t);return i.isStaleByTime((0,r.d2)(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(r.lQ).catch(r.lQ)}fetchInfiniteQuery(e){return e.behavior=(0,p.PL)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(r.lQ).catch(r.lQ)}ensureInfiniteQueryData(e){return e.behavior=(0,p.PL)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return d.t.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#y}getMutationCache(){return this.#n}getDefaultOptions(){return this.#d}setDefaultOptions(e){this.#d=e}setQueryDefaults(e,t){this.#_.set((0,r.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#_.values()],i={};return t.forEach(t=>{(0,r.Cp)(e,t.queryKey)&&Object.assign(i,t.defaultOptions)}),i}setMutationDefaults(e,t){this.#b.set((0,r.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#b.values()],i={};return t.forEach(t=>{(0,r.Cp)(e,t.mutationKey)&&Object.assign(i,t.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#d.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,r.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===r.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#d.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#y.clear(),this.#n.clear()}}},55356:function(e,t,i){"use strict";i.d(t,{$:()=>c});var r=i(34183),s=i(3266),n=i(51150),a=i(27517),o=i(6675),l=i(50583),u=i(59122),c=class extends a.Q{constructor(e,t){super(),this.options=t,this.#r=e,this.#x=null,this.#k=(0,o.T)(),this.bindMethods(),this.setOptions(t)}#r;#T=void 0;#P=void 0;#O=void 0;#A;#C;#k;#x;#R;#I;#j;#$;#M;#D;#F=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#T.addObserver(this),h(this.#T,this.options)?this.#L():this.updateResult(),this.#U())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#T,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#T,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#N(),this.#q(),this.#T.removeObserver(this)}setOptions(e){let t=this.options,i=this.#T;if(this.options=this.#r.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.Eh)(this.options.enabled,this.#T))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#V(),this.#T.setOptions(this.options),t._defaulted&&!(0,l.f8)(this.options,t)&&this.#r.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#T,observer:this});let r=this.hasListeners();r&&p(this.#T,i,this.options,t)&&this.#L(),this.updateResult(),r&&(this.#T!==i||(0,l.Eh)(this.options.enabled,this.#T)!==(0,l.Eh)(t.enabled,this.#T)||(0,l.d2)(this.options.staleTime,this.#T)!==(0,l.d2)(t.staleTime,this.#T))&&this.#B();let s=this.#W();r&&(this.#T!==i||(0,l.Eh)(this.options.enabled,this.#T)!==(0,l.Eh)(t.enabled,this.#T)||s!==this.#D)&&this.#H(s)}getOptimisticResult(e){var t,i;let r=this.#r.getQueryCache().build(this.#r,e),s=this.createResult(r,e);return t=this,i=s,(0,l.f8)(t.getCurrentResult(),i)||(this.#O=s,this.#C=this.options,this.#A=this.#T.state),s}getCurrentResult(){return this.#O}trackResult(e,t){return new Proxy(e,{get:(e,i)=>(this.trackProp(i),t?.(i),"promise"!==i||this.options.experimental_prefetchInRender||"pending"!==this.#k.status||this.#k.reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,i))})}trackProp(e){this.#F.add(e)}getCurrentQuery(){return this.#T}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#r.defaultQueryOptions(e),i=this.#r.getQueryCache().build(this.#r,t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return this.#L({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#O))}#L(e){this.#V();let t=this.#T.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.lQ)),t}#B(){this.#N();let e=(0,l.d2)(this.options.staleTime,this.#T);if(l.S$||this.#O.isStale||!(0,l.gn)(e))return;let t=(0,l.j3)(this.#O.dataUpdatedAt,e);this.#$=u.zs.setTimeout(()=>{this.#O.isStale||this.updateResult()},t+1)}#W(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#T):this.options.refetchInterval)??!1}#H(e){this.#q(),this.#D=e,!l.S$&&!1!==(0,l.Eh)(this.options.enabled,this.#T)&&(0,l.gn)(this.#D)&&0!==this.#D&&(this.#M=u.zs.setInterval(()=>{(this.options.refetchIntervalInBackground||r.m.isFocused())&&this.#L()},this.#D))}#U(){this.#B(),this.#H(this.#W())}#N(){this.#$&&(u.zs.clearTimeout(this.#$),this.#$=void 0)}#q(){this.#M&&(u.zs.clearInterval(this.#M),this.#M=void 0)}createResult(e,t){let i,r=this.#T,s=this.options,a=this.#O,u=this.#A,c=this.#C,d=e!==r?e.state:this.#P,{state:g}=e,m={...g},v=!1;if(t._optimisticResults){let i=this.hasListeners(),a=!i&&h(e,t),o=i&&p(e,r,t,s);(a||o)&&(m={...m,...(0,n.k)(g.data,e.options)}),"isRestoring"===t._optimisticResults&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:_,status:b}=m;i=m.data;let w=!1;if(void 0!==t.placeholderData&&void 0===i&&"pending"===b){let e;a?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(e=a.data,w=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#j?.state.data,this.#j):t.placeholderData,void 0!==e&&(b="success",i=(0,l.pl)(a?.data,e,t),v=!0)}if(t.select&&void 0!==i&&!w)if(a&&i===u?.data&&t.select===this.#R)i=this.#I;else try{this.#R=t.select,i=t.select(i),i=(0,l.pl)(a?.data,i,t),this.#I=i,this.#x=null}catch(e){this.#x=e}this.#x&&(y=this.#x,i=this.#I,_=Date.now(),b="error");let S="fetching"===m.fetchStatus,E="pending"===b,x="error"===b,k=E&&S,T=void 0!==i,P={status:b,fetchStatus:m.fetchStatus,isPending:E,isSuccess:"success"===b,isError:x,isInitialLoading:k,isLoading:k,data:i,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!E,isLoadingError:x&&!T,isPaused:"paused"===m.fetchStatus,isPlaceholderData:v,isRefetchError:x&&T,isStale:f(e,t),refetch:this.refetch,promise:this.#k,isEnabled:!1!==(0,l.Eh)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===P.status?e.reject(P.error):void 0!==P.data&&e.resolve(P.data)},i=()=>{t(this.#k=P.promise=(0,o.T)())},s=this.#k;switch(s.status){case"pending":e.queryHash===r.queryHash&&t(s);break;case"fulfilled":("error"===P.status||P.data!==s.value)&&i();break;case"rejected":("error"!==P.status||P.error!==s.reason)&&i()}}return P}updateResult(){let e=this.#O,t=this.createResult(this.#T,this.options);if(this.#A=this.#T.state,this.#C=this.options,void 0!==this.#A.data&&(this.#j=this.#T),(0,l.f8)(t,e))return;this.#O=t;let i=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,i="function"==typeof t?t():t;if("all"===i||!i&&!this.#F.size)return!0;let r=new Set(i??this.#F);return this.options.throwOnError&&r.add("error"),Object.keys(this.#O).some(t=>this.#O[t]!==e[t]&&r.has(t))};this.#G({listeners:i()})}#V(){let e=this.#r.getQueryCache().build(this.#r,this.options);if(e===this.#T)return;let t=this.#T;this.#T=e,this.#P=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#U()}#G(e){s.jG.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#O)}),this.#r.getQueryCache().notify({query:this.#T,type:"observerResultsUpdated"})})}};function h(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,i){if(!1!==(0,l.Eh)(t.enabled,e)&&"static"!==(0,l.d2)(t.staleTime,e)){let r="function"==typeof i?i(e):i;return"always"===r||!1!==r&&f(e,t)}return!1}function p(e,t,i,r){return(e!==t||!1===(0,l.Eh)(r.enabled,e))&&(!i.suspense||"error"!==e.state.status)&&f(e,i)}function f(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&e.isStaleByTime((0,l.d2)(t.staleTime,e))}},81099:function(e,t,i){"use strict";i.d(t,{k:()=>n});var r=i(59122),s=i(50583),n=class{#z;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,s.gn)(this.gcTime)&&(this.#z=r.zs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(s.S$?1/0:3e5))}clearGcTimeout(){this.#z&&(r.zs.clearTimeout(this.#z),this.#z=void 0)}}},10219:function(e,t,i){"use strict";i.d(t,{II:()=>c,cc:()=>u,v_:()=>l});var r=i(34183),s=i(21124),n=i(6675),a=i(50583);function o(e){return Math.min(1e3*2**e,3e4)}function l(e){return(e??"online")!=="online"||s.t.isOnline()}var u=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function c(e){let t,i=!1,c=0,h=(0,n.T)(),d=()=>r.m.isFocused()&&("always"===e.networkMode||s.t.isOnline())&&e.canRun(),p=()=>l(e.networkMode)&&e.canRun(),f=e=>{"pending"===h.status&&(t?.(),h.resolve(e))},g=e=>{"pending"===h.status&&(t?.(),h.reject(e))},m=()=>new Promise(i=>{t=e=>{("pending"!==h.status||d())&&i(e)},e.onPause?.()}).then(()=>{t=void 0,"pending"===h.status&&e.onContinue?.()}),v=()=>{let t;if("pending"!==h.status)return;let r=0===c?e.initialPromise:void 0;try{t=r??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(f).catch(t=>{if("pending"!==h.status)return;let r=e.retry??3*!a.S$,s=e.retryDelay??o,n="function"==typeof s?s(c,t):s,l=!0===r||"number"==typeof r&&c<r||"function"==typeof r&&r(c,t);i||!l?g(t):(c++,e.onFail?.(c,t),(0,a.yy)(n).then(()=>d()?void 0:m()).then(()=>{i?g(t):v()}))})};return{promise:h,status:()=>h.status,cancel:t=>{if("pending"===h.status){let i=new u(t);g(i),e.onCancel?.(i)}},continue:()=>(t?.(),h),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1},canStart:p,start:()=>(p()?v():m().then(v),h)}}},27517:function(e,t,i){"use strict";i.d(t,{Q:()=>r});var r=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},6675:function(e,t,i){"use strict";function r(){let e,t,i=new Promise((i,r)=>{e=i,t=r});function r(e){Object.assign(i,e),delete i.resolve,delete i.reject}return i.status="pending",i.catch(()=>{}),i.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},i.reject=e=>{r({status:"rejected",reason:e}),t(e)},i}i.d(t,{T:()=>r})},59122:function(e,t,i){"use strict";i.d(t,{Zq:()=>n,zs:()=>s});var r={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},s=new class{#K=r;#Q=!1;setTimeoutProvider(e){this.#K=e}setTimeout(e,t){return this.#K.setTimeout(e,t)}clearTimeout(e){this.#K.clearTimeout(e)}setInterval(e,t){return this.#K.setInterval(e,t)}clearInterval(e){this.#K.clearInterval(e)}};function n(e){setTimeout(e,0)}},50583:function(e,t,i){"use strict";i.d(t,{Cp:()=>g,EN:()=>f,Eh:()=>c,F$:()=>p,GU:()=>P,MK:()=>h,S$:()=>s,ZM:()=>T,ZZ:()=>x,Zw:()=>a,d2:()=>u,f8:()=>v,gn:()=>o,hT:()=>k,j3:()=>l,lQ:()=>n,nJ:()=>d,pl:()=>S,y9:()=>E,yy:()=>w});var r=i(59122),s="undefined"==typeof window||"Deno"in globalThis;function n(){}function a(e,t){return"function"==typeof e?e(t):e}function o(e){return"number"==typeof e&&e>=0&&e!==1/0}function l(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t){return"function"==typeof e?e(t):e}function c(e,t){return"function"==typeof e?e(t):e}function h(e,t){let{type:i="all",exact:r,fetchStatus:s,predicate:n,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==p(a,t.options))return!1}else if(!g(t.queryKey,a))return!1}if("all"!==i){let e=t.isActive();if("active"===i&&!e||"inactive"===i&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!s||s===t.state.fetchStatus)&&(!n||!!n(t))}function d(e,t){let{exact:i,status:r,predicate:s,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(i){if(f(t.options.mutationKey)!==f(n))return!1}else if(!g(t.options.mutationKey,n))return!1}return(!r||t.state.status===r)&&(!s||!!s(t))}function p(e,t){return(t?.queryKeyHashFn||f)(e)}function f(e){return JSON.stringify(e,(e,t)=>_(t)?Object.keys(t).sort().reduce((e,i)=>(e[i]=t[i],e),{}):t)}function g(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(i=>g(e[i],t[i]))}var m=Object.prototype.hasOwnProperty;function v(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(e[i]!==t[i])return!1;return!0}function y(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _(e){if(!b(e))return!1;let t=e.constructor;if(void 0===t)return!0;let i=t.prototype;return!!b(i)&&!!i.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e){return new Promise(t=>{r.zs.setTimeout(t,e)})}function S(e,t,i){return"function"==typeof i.structuralSharing?i.structuralSharing(e,t):!1!==i.structuralSharing?function e(t,i){if(t===i)return t;let r=y(t)&&y(i);if(!r&&!(_(t)&&_(i)))return i;let s=(r?t:Object.keys(t)).length,n=r?i:Object.keys(i),a=n.length,o=r?Array(a):{},l=0;for(let u=0;u<a;u++){let a=r?u:n[u],c=t[a],h=i[a];if(c===h){o[a]=c,(r?u<s:m.call(t,a))&&l++;continue}if(null===c||null===h||"object"!=typeof c||"object"!=typeof h){o[a]=h;continue}let d=e(c,h);o[a]=d,d===c&&l++}return s===a&&l===s?t:o}(e,t):t}function E(e,t,i=0){let r=[...e,t];return i&&r.length>i?r.slice(1):r}function x(e,t,i=0){let r=[t,...e];return i&&r.length>i?r.slice(0,-1):r}var k=Symbol();function T(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==k?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function P(e,t){return"function"==typeof e?e(...t):!!e}},66514:function(e,t,i){"use strict";i.d(t,{Ht:()=>o,jE:()=>a});var r=i(39430),s=i(25270),n=r.createContext(void 0),a=e=>{let t=r.useContext(n);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},o=({client:e,children:t})=>(r.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,s.jsx)(n.Provider,{value:e,children:t}))},30557:function(e,t,i){"use strict";let r;i.d(t,{t:()=>h});var s=i(39430),n=i(3266),a=i(50583),o=i(66514);i(25270);var l=s.createContext((r=!1,{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r})),u=s.createContext(!1);u.Provider;var c=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function h(e,t,i){let r=s.useContext(u),h=s.useContext(l),d=(0,o.jE)(i),p=d.defaultQueryOptions(e);if(d.getDefaultOptions().queries?._experimental_beforeQuery?.(p),p._optimisticResults=r?"isRestoring":"optimistic",p.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=p.staleTime;p.staleTime="function"==typeof t?(...i)=>e(t(...i)):e(t),"number"==typeof p.gcTime&&(p.gcTime=Math.max(p.gcTime,1e3))}(p.suspense||p.throwOnError||p.experimental_prefetchInRender)&&!h.isReset()&&(p.retryOnMount=!1),s.useEffect(()=>{h.clearReset()},[h]);let f=!d.getQueryCache().get(p.queryHash),[g]=s.useState(()=>new t(d,p)),m=g.getOptimisticResult(p),v=!r&&!1!==e.subscribed;if(s.useSyncExternalStore(s.useCallback(e=>{let t=v?g.subscribe(n.jG.batchCalls(e)):a.lQ;return g.updateResult(),t},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),s.useEffect(()=>{g.setOptions(p)},[p,g]),p?.suspense&&m.isPending)throw c(p,g,h);if((({result:e,errorResetBoundary:t,throwOnError:i,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&void 0===e.data||(0,a.GU)(i,[e.error,r])))({result:m,errorResetBoundary:h,throwOnError:p.throwOnError,query:d.getQueryCache().get(p.queryHash),suspense:p.suspense}))throw m.error;if(d.getDefaultOptions().queries?._experimental_afterQuery?.(p,m),p.experimental_prefetchInRender&&!a.S$&&m.isLoading&&m.isFetching&&!r){let e=f?c(p,g,h):d.getQueryCache().get(p.queryHash)?.promise;e?.catch(a.lQ).finally(()=>{g.updateResult()})}return p.notifyOnChangeProps?m:g.trackResult(m)}},85869:function(e,t,i){"use strict";i.d(t,{n:()=>c});var r=i(39430),s=i(31043),n=i(3266),a=i(27517),o=i(50583),l=class extends a.Q{#r;#O=void 0;#J;#Y;constructor(e,t){super(),this.#r=e,this.setOptions(t),this.bindMethods(),this.#X()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#r.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#r.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#J,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#J?.state.status==="pending"&&this.#J.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#J?.removeObserver(this)}onMutationUpdate(e){this.#X(),this.#G(e)}getCurrentResult(){return this.#O}reset(){this.#J?.removeObserver(this),this.#J=void 0,this.#X(),this.#G()}mutate(e,t){return this.#Y=t,this.#J?.removeObserver(this),this.#J=this.#r.getMutationCache().build(this.#r,this.options),this.#J.addObserver(this),this.#J.execute(e)}#X(){let e=this.#J?.state??(0,s.$)();this.#O={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#G(e){n.jG.batch(()=>{if(this.#Y&&this.hasListeners()){let t=this.#O.variables,i=this.#O.context,r={client:this.#r,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#Y.onSuccess?.(e.data,t,i,r),this.#Y.onSettled?.(e.data,null,t,i,r)):e?.type==="error"&&(this.#Y.onError?.(e.error,t,i,r),this.#Y.onSettled?.(void 0,e.error,t,i,r))}this.listeners.forEach(e=>{e(this.#O)})})}},u=i(66514);function c(e,t){let i=(0,u.jE)(t),[s]=r.useState(()=>new l(i,e));r.useEffect(()=>{s.setOptions(e)},[s,e]);let a=r.useSyncExternalStore(r.useCallback(e=>s.subscribe(n.jG.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),c=r.useCallback((e,t)=>{s.mutate(e,t).catch(o.lQ)},[s]);if(a.error&&(0,o.GU)(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:c,mutateAsync:a.mutate}}},84367:function(e,t,i){"use strict";i.d(t,{I:()=>n});var r=i(55356),s=i(30557);function n(e,t){return(0,s.t)(e,r.$,t)}},70851:function(e,t,i){"use strict";function r(){for(var e,t,i=0,r="",s=arguments.length;i<s;i++)(e=arguments[i])&&(t=function e(t){var i,r,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(i=0;i<n;i++)t[i]&&(r=e(t[i]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}(e))&&(r&&(r+=" "),r+=t);return r}i.d(t,{$:()=>r})},81162:function(e,t,i){"use strict";i.d(t,{N:()=>_});var r=i(25270),s=i(39430),n=i(30361),a=i(43793),o=i(53136),l=i(61559),u=i(61864),c=i(96190);function h(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=(0,u.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:t,anchorX:i,root:n}){let a=(0,s.useId)(),o=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,s.useContext)(c.Q),p=function(...e){return s.useCallback(function(...e){return t=>{let i=!1,r=e.map(e=>{let r=h(e,t);return i||"function"!=typeof r||(i=!0),r});if(i)return()=>{for(let t=0;t<r.length;t++){let i=r[t];"function"==typeof i?i():h(e[t],null)}}}}(...e),e)}(o,e?.ref);return(0,s.useInsertionEffect)(()=>{let{width:e,height:r,top:s,left:c,right:h}=l.current;if(t||!o.current||!e||!r)return;let d="left"===i?`left: ${c}`:`right: ${h}`;o.current.dataset.motionPopId=a;let p=document.createElement("style");u&&(p.nonce=u);let f=n??document.head;return f.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${d}px !important;
            top: ${s}px !important;
          }
        `),()=>{f.contains(p)&&f.removeChild(p)}},[t]),(0,r.jsx)(d,{isPresent:t,childRef:o,sizeRef:l,children:s.cloneElement(e,{ref:p})})}let f=({children:e,initial:t,isPresent:i,onExitComplete:n,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h,root:d})=>{let f=(0,a.M)(g),m=(0,s.useId)(),v=!0,y=(0,s.useMemo)(()=>(v=!1,{id:m,initial:t,isPresent:i,custom:o,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;n&&n()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[i,f,n]);return u&&v&&(y={...y}),(0,s.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[i]),s.useEffect(()=>{i||f.size||!n||n()},[i]),"popLayout"===c&&(e=(0,r.jsx)(p,{isPresent:i,anchorX:h,root:d,children:e})),(0,r.jsx)(l.t.Provider,{value:y,children:e})};function g(){return new Map}var m=i(94056);let v=e=>e.key||"";function y(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let _=({children:e,custom:t,initial:i=!0,onExitComplete:l,presenceAffectsLayout:u=!0,mode:c="sync",propagate:h=!1,anchorX:d="left",root:p})=>{let[g,_]=(0,m.xQ)(h),b=(0,s.useMemo)(()=>y(e),[e]),w=h&&!g?[]:b.map(v),S=(0,s.useRef)(!0),E=(0,s.useRef)(b),x=(0,a.M)(()=>new Map),[k,T]=(0,s.useState)(b),[P,O]=(0,s.useState)(b);(0,o.E)(()=>{S.current=!1,E.current=b;for(let e=0;e<P.length;e++){let t=v(P[e]);w.includes(t)?x.delete(t):!0!==x.get(t)&&x.set(t,!1)}},[P,w.length,w.join("-")]);let A=[];if(b!==k){let e=[...b];for(let t=0;t<P.length;t++){let i=P[t],r=v(i);w.includes(r)||(e.splice(t,0,i),A.push(i))}return"wait"===c&&A.length&&(e=A),O(y(e)),T(b),null}let{forceRender:C}=(0,s.useContext)(n.L);return(0,r.jsx)(r.Fragment,{children:P.map(e=>{let s=v(e),n=(!h||!!g)&&(b===P||w.includes(s));return(0,r.jsx)(f,{isPresent:n,initial:(!S.current||!!i)&&void 0,custom:t,presenceAffectsLayout:u,mode:c,root:p,onExitComplete:n?void 0:()=>{if(!x.has(s))return;x.set(s,!0);let e=!0;x.forEach(t=>{t||(e=!1)}),e&&(C?.(),O(E.current),h&&_?.(),l&&l())},anchorX:d,children:e},s)})})}},94056:function(e,t,i){"use strict";i.d(t,{xQ:()=>n});var r=i(39430),s=i(61559);function n(e=!0){let t=(0,r.useContext)(s.t);if(null===t)return[!0,null];let{isPresent:i,onExitComplete:a,register:o}=t,l=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return o(l)},[e]);let u=(0,r.useCallback)(()=>e&&a&&a(l),[l,a,e]);return!i&&a?[!1,u]:[!0]}},5611:function(e,t,i){"use strict";i.d(t,{o:()=>c});var r=i(25270),s=i(39430),n=i(30361);let a=(0,s.createContext)(null);var o=i(29568),l=i(53136);let u=e=>!e.isLayoutDirty&&e.willUpdate(!1),c=({children:e,id:t,inherit:i=!0})=>{let c=(0,s.useContext)(n.L),h=(0,s.useContext)(a),[d,p]=function(){let e,t=(e=(0,s.useRef)(!1),(0,l.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e),[i,r]=(0,s.useState)(0),n=(0,s.useCallback)(()=>{t.current&&r(i+1)},[i]);return[(0,s.useCallback)(()=>o.Gt.postRender(n),[n]),i]}(),f=(0,s.useRef)(null),g=c.id||h;if(null===f.current){let e,r,s,n;(!0==(!0===(n=i))||"id"===n)&&g&&(t=t?g+"-"+t:g),f.current={id:t,group:!0===i&&c.group||(e=new Set,r=new WeakMap,{add:t=>{e.add(t),r.set(t,t.addEventListener("willUpdate",s))},remove:t=>{e.delete(t);let i=r.get(t);i&&(i(),r.delete(t)),s()},dirty:s=()=>e.forEach(u)})}}let m=(0,s.useMemo)(()=>({...f.current,forceRender:d}),[p]);return(0,r.jsx)(n.L.Provider,{value:m,children:e})}},30361:function(e,t,i){"use strict";i.d(t,{L:()=>r});let r=(0,i(39430).createContext)({})},96190:function(e,t,i){"use strict";i.d(t,{Q:()=>r});let r=(0,i(39430).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},61559:function(e,t,i){"use strict";i.d(t,{t:()=>r});let r=(0,i(39430).createContext)(null)},79525:function(e,t,i){"use strict";let r,s,n;i.d(t,{P:()=>nn});var a,o=i(39430);let l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],u=new Set(l),c=e=>180*e/Math.PI,h=e=>p(c(Math.atan2(e[1],e[0]))),d={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:h,rotateZ:h,skewX:e=>c(Math.atan(e[1])),skewY:e=>c(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},p=e=>((e%=360)<0&&(e+=360),e),f=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),g=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),m={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f,scaleY:g,scale:e=>(f(e)+g(e))/2,rotateX:e=>p(c(Math.atan2(e[6],e[5]))),rotateY:e=>p(c(Math.atan2(-e[2],e[0]))),rotateZ:h,rotate:h,skewX:e=>c(Math.atan(e[4])),skewY:e=>c(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function v(e){return+!!e.includes("scale")}function y(e,t){let i,r;if(!e||"none"===e)return v(t);let s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(s)i=m,r=s;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=d,r=t}if(!r)return v(t);let n=i[t],a=r[1].split(",").map(_);return"function"==typeof n?n(a):a[n]}function _(e){return parseFloat(e.trim())}let b=e=>t=>"string"==typeof t&&t.startsWith(e),w=b("--"),S=b("var(--"),E=e=>!!S(e)&&x.test(e.split("/*")[0].trim()),x=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function k({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}let T=(e,t,i)=>e+(t-e)*i;function P(e){return void 0===e||1===e}function O({scale:e,scaleX:t,scaleY:i}){return!P(e)||!P(t)||!P(i)}function A(e){return O(e)||C(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function C(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function R(e,t,i,r,s){return void 0!==s&&(e=r+s*(e-r)),r+i*(e-r)+t}function I(e,t=0,i=1,r,s){e.min=R(e.min,t,i,r,s),e.max=R(e.max,t,i,r,s)}function j(e,{x:t,y:i}){I(e.x,t.translate,t.scale,t.originPoint),I(e.y,i.translate,i.scale,i.originPoint)}function $(e,t){e.min=e.min+t,e.max=e.max+t}function M(e,t,i,r,s=.5){let n=T(e.min,e.max,s);I(e,t,i,n,r)}function D(e,t){M(e.x,t.x,t.scaleX,t.scale,t.originX),M(e.y,t.y,t.scaleY,t.scale,t.originY)}function F(e,t){return k(function(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}let L=new Set(["width","height","top","left","right","bottom",...l]),U=(e,t,i)=>i>t?t:i<e?e:i,N={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},q={...N,transform:e=>U(0,1,e)},V={...N,default:1},B=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),W=B("deg"),H=B("%"),G=B("px"),z=B("vh"),K=B("vw"),Q={...H,parse:e=>H.parse(e)/100,transform:e=>H.transform(100*e)},J=e=>t=>t.test(e),Y=[N,G,H,W,K,z,{test:e=>"auto"===e,parse:e=>e}],X=e=>Y.find(J(e)),Z=()=>{},ee=()=>{},et=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,ei=e=>e===N||e===G,er=new Set(["x","y","z"]),es=l.filter(e=>!er.has(e)),en={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>y(t,"x"),y:(e,{transform:t})=>y(t,"y")};en.translateX=en.x,en.translateY=en.y;var ea=i(29568);let eo=new Set,el=!1,eu=!1,ec=!1;function eh(){if(eu){let e=Array.from(eo).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t,r=(t=[],es.forEach(i=>{let r=e.getValue(i);void 0!==r&&(t.push([i,r.get()]),r.set(+!!i.startsWith("scale")))}),t);r.length&&(i.set(e,r),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{e.getValue(t)?.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}eu=!1,el=!1,eo.forEach(e=>e.complete(ec)),eo.clear()}function ed(){eo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eu=!0)})}class ep{constructor(e,t,i,r,s,n=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=n}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),el||(el=!0,ea.Gt.read(ed),ea.Gt.resolveKeyframes(eh))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(null===e[0]){let s=r?.get(),n=e[e.length-1];if(void 0!==s)e[0]=s;else if(i&&t){let r=i.readValue(t,n);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=n),r&&void 0===s&&r.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eo.delete(this)}cancel(){"scheduled"===this.state&&(eo.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let ef=e=>Math.round(1e5*e)/1e5,eg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,em=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ev=(e,t)=>i=>!!("string"==typeof i&&em.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),ey=(e,t,i)=>r=>{if("string"!=typeof r)return r;let[s,n,a,o]=r.match(eg);return{[e]:parseFloat(s),[t]:parseFloat(n),[i]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},e_={...N,transform:e=>Math.round(U(0,255,e))},eb={test:ev("rgb","red"),parse:ey("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+e_.transform(e)+", "+e_.transform(t)+", "+e_.transform(i)+", "+ef(q.transform(r))+")"},ew={test:ev("#"),parse:function(e){let t="",i="",r="",s="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,i+=i,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:eb.transform},eS={test:ev("hsl","hue"),parse:ey("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+H.transform(ef(t))+", "+H.transform(ef(i))+", "+ef(q.transform(r))+")"},eE={test:e=>eb.test(e)||ew.test(e)||eS.test(e),parse:e=>eb.test(e)?eb.parse(e):eS.test(e)?eS.parse(e):ew.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?eb.transform(e):eS.transform(e),getAnimatableNone:e=>{let t=eE.parse(e);return t.alpha=0,eE.transform(t)}},ex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,ek="number",eT="color",eP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eO(e){let t=e.toString(),i=[],r={color:[],number:[],var:[]},s=[],n=0,a=t.replace(eP,e=>(eE.test(e)?(r.color.push(n),s.push(eT),i.push(eE.parse(e))):e.startsWith("var(")?(r.var.push(n),s.push("var"),i.push(e)):(r.number.push(n),s.push(ek),i.push(parseFloat(e))),++n,"${}")).split("${}");return{values:i,split:a,indexes:r,types:s}}function eA(e){return eO(e).values}function eC(e){let{split:t,types:i}=eO(e),r=t.length;return e=>{let s="";for(let n=0;n<r;n++)if(s+=t[n],void 0!==e[n]){let t=i[n];t===ek?s+=ef(e[n]):t===eT?s+=eE.transform(e[n]):s+=e[n]}return s}}let eR=e=>"number"==typeof e?0:eE.test(e)?eE.getAnimatableNone(e):e,eI={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(eg)?.length||0)+(e.match(ex)?.length||0)>0},parse:eA,createTransformer:eC,getAnimatableNone:function(e){let t=eA(e);return eC(e)(t.map(eR))}},ej=new Set(["brightness","contrast","saturate","opacity"]);function e$(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=i.match(eg)||[];if(!r)return e;let s=i.replace(r,""),n=+!!ej.has(t);return r!==i&&(n*=100),t+"("+n+s+")"}let eM=/\b([a-z-]*)\(.*?\)/gu,eD={...eI,getAnimatableNone:e=>{let t=e.match(eM);return t?t.map(e$).join(" "):e}},eF={...N,transform:Math.round},eL={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G,rotate:W,rotateX:W,rotateY:W,rotateZ:W,scale:V,scaleX:V,scaleY:V,scaleZ:V,skew:W,skewX:W,skewY:W,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:q,originX:Q,originY:Q,originZ:G,zIndex:eF,fillOpacity:q,strokeOpacity:q,numOctaves:eF},eU={...eL,color:eE,backgroundColor:eE,outlineColor:eE,fill:eE,stroke:eE,borderColor:eE,borderTopColor:eE,borderRightColor:eE,borderBottomColor:eE,borderLeftColor:eE,filter:eD,WebkitFilter:eD},eN=e=>eU[e];function eq(e,t){let i=eN(e);return i!==eD&&(i=eI),i.getAnimatableNone?i.getAnimatableNone(t):void 0}let eV=new Set(["auto","none","0"]);class eB extends ep{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let r=e[i];if("string"==typeof r&&E(r=r.trim())){let s=function e(t,i,r=1){ee(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[s,n]=function(e){let t=et.exec(e);if(!t)return[,];let[,i,r,s]=t;return[`--${i??r}`,s]}(t);if(!s)return;let a=window.getComputedStyle(i).getPropertyValue(s);if(a){let e=a.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return E(n)?e(n,i,r+1):n}(r,t.current);void 0!==s&&(e[i]=s),i===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!L.has(i)||2!==e.length)return;let[r,s]=e,n=X(r),a=X(s);if(n!==a)if(ei(n)&&ei(a))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else en[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&i.push(t);i.length&&function(e,t,i){let r,s=0;for(;s<e.length&&!r;){let t=e[s];"string"==typeof t&&!eV.has(t)&&eO(t).values.length&&(r=e[s]),s++}if(r&&i)for(let s of t)e[s]=eq(i,r)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=en[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];void 0!==r&&e.getValue(i,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let s=i.length-1,n=i[s];i[s]=en[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,i])=>{e.getValue(t).set(i)}),this.resolveNoneKeyframes()}}let eW=e=>!!(e&&e.getVelocity);var eH=i(35604);function eG(){r=void 0}let ez={now:()=>(void 0===r&&ez.set(ea.uv.isProcessing||eH.W.useManualTiming?ea.uv.timestamp:performance.now()),r),set:e=>{r=e,queueMicrotask(eG)}};function eK(e,t){-1===e.indexOf(t)&&e.push(t)}function eQ(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}class eJ{constructor(){this.subscriptions=[]}add(e){return eK(this.subscriptions,e),()=>eQ(this.subscriptions,e)}notify(e,t,i){let r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){let r=this.subscriptions[s];r&&r(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class eY{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=ez.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ez.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new eJ);let i=this.events[e].add(t);return"change"===e?()=>{i(),ea.Gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return n&&n.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=ez.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eX(e,t){return new eY(e,t)}let eZ=[...Y,eE,eI],{schedule:e0}=(0,i(2146).I)(queueMicrotask,!1),e1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},e2={};for(let e in e1)e2[e]={isEnabled:t=>e1[e].some(e=>!!t[e])};let e3=()=>({translate:0,scale:1,origin:0,originPoint:0}),e5=()=>({x:e3(),y:e3()}),e6=()=>({min:0,max:0}),e4=()=>({x:e6(),y:e6()});var e8=i(42968);let e9={current:null},e7={current:!1},te=new WeakMap;function tt(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function ti(e){return"string"==typeof e||Array.isArray(e)}let tr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ts=["initial",...tr];function tn(e){return tt(e.animate)||ts.some(t=>ti(e[t]))}function ta(e){return!!(tn(e)||e.variants)}function to(e){let t=[{},{}];return e?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function tl(e,t,i,r){if("function"==typeof t){let[s,n]=to(r);t=t(void 0!==i?i:e.custom,s,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[s,n]=to(r);t=t(void 0!==i?i:e.custom,s,n)}return t}let tu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tc{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:n},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ep,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=ez.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,ea.Gt.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=n;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=tn(t),this.isVariantNode=ta(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in c){const t=c[e];void 0!==o[e]&&eW(t)&&t.set(o[e])}}mount(e){this.current=e,te.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),e7.current||function(){if(e7.current=!0,e8.B)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>e9.current=e.matches;e.addEventListener("change",t),t()}else e9.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||e9.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),(0,ea.WG)(this.notifyUpdate),(0,ea.WG)(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let r=u.has(e);r&&this.onBindTransform&&this.onBindTransform();let s=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&ea.Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in e2){let t=e2[e];if(!t)continue;let{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):e4()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tu.length;t++){let i=tu[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let r=e["on"+i];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=function(e,t,i){for(let r in t){let s=t[r],n=i[r];if(eW(s))e.addValue(r,s);else if(eW(n))e.addValue(r,eX(s,{owner:e}));else if(n!==s)if(e.hasValue(r)){let t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{let t=e.getStaticValue(r);e.addValue(r,eX(void 0!==t?t:s,{owner:e}))}}for(let r in i)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=eX(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=i){let r,s;if("string"==typeof i&&(r=i,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r)||(s=i,/^0[^.\s]+$/u.test(s))))i=parseFloat(i);else{let r;r=i,!eZ.find(J(r))&&eI.test(t)&&(i=eq(e,t))}this.setBaseTarget(e,eW(i)?i.get():i)}return eW(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let r=tl(this.props,i,this.presenceContext?.custom);r&&(t=r[e])}if(i&&void 0!==t)return t;let r=this.getBaseTargetFromProps(this.props,e);return void 0===r||eW(r)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new eJ),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){e0.render(this.render)}}class th extends tc{constructor(){super(...arguments),this.KeyframeResolver=eB}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eW(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}let td=(e,t)=>t&&"number"==typeof e?t.transform(e):e,tp={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tf=l.length;function tg(e,t,i){let{style:r,vars:s,transformOrigin:n}=e,a=!1,o=!1;for(let e in t){let i=t[e];if(u.has(e)){a=!0;continue}if(w(e)){s[e]=i;continue}{let t=td(i,eL[e]);e.startsWith("origin")?(o=!0,n[e]=t):r[e]=t}}if(!t.transform&&(a||i?r.transform=function(e,t,i){let r="",s=!0;for(let n=0;n<tf;n++){let a=l[n],o=e[a];if(void 0===o)continue;let u=!0;if(!(u="number"==typeof o?o===+!!a.startsWith("scale"):0===parseFloat(o))||i){let e=td(o,eL[a]);if(!u){s=!1;let t=tp[a]||a;r+=`${t}(${e}) `}i&&(t[a]=e)}}return r=r.trim(),i?r=i(t,s?"":r):s&&(r="none"),r}(t,e.transform,i):r.transform&&(r.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:i=0}=n;r.transformOrigin=`${e} ${t} ${i}`}}function tm(e,{style:t,vars:i},r,s){let n,a=e.style;for(n in t)a[n]=t[n];for(n in s?.applyProjectionStyles(a,r),i)a.setProperty(n,i[n])}let tv={};function ty(e,{layout:t,layoutId:i}){return u.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!tv[e]||"opacity"===e)}function t_(e,t,i){let{style:r}=e,s={};for(let n in r)(eW(r[n])||t.style&&eW(t.style[n])||ty(n,e)||i?.getValue(n)?.liveStyle!==void 0)&&(s[n]=r[n]);return s}class tb extends th{constructor(){super(...arguments),this.type="html",this.renderInstance=tm}readValueFromInstance(e,t){if(u.has(t))return this.projection?.isProjecting?v(t):((e,t)=>{let{transform:i="none"}=getComputedStyle(e);return y(i,t)})(e,t);{let i=window.getComputedStyle(e),r=(w(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return F(e,t)}build(e,t,i){tg(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return t_(e,t,i)}}let tw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tS={offset:"stroke-dashoffset",array:"stroke-dasharray"},tE={offset:"strokeDashoffset",array:"strokeDasharray"};function tx(e,{attrX:t,attrY:i,attrScale:r,pathLength:s,pathSpacing:n=1,pathOffset:a=0,...o},l,u,c){if(tg(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:h,style:d}=e;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete h.transformBox),void 0!==t&&(h.x=t),void 0!==i&&(h.y=i),void 0!==r&&(h.scale=r),void 0!==s&&function(e,t,i=1,r=0,s=!0){e.pathLength=1;let n=s?tS:tE;e[n.offset]=G.transform(-r);let a=G.transform(t),o=G.transform(i);e[n.array]=`${a} ${o}`}(h,s,n,a,!1)}let tk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tT=e=>"string"==typeof e&&"svg"===e.toLowerCase();function tP(e,t,i){let r=t_(e,t,i);for(let i in e)(eW(e[i])||eW(t[i]))&&(r[-1!==l.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return r}class tO extends th{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=e4}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(u.has(t)){let e=eN(t);return e&&e.default||0}return t=tk.has(t)?t:tw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return tP(e,t,i)}build(e,t,i){tx(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){for(let i in tm(e,t,void 0,r),t.attrs)e.setAttribute(tk.has(i)?i:tw(i),t.attrs[i])}mount(e){this.isSVGTag=tT(e.tagName),super.mount(e)}}let tA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tC(e){if("string"!=typeof e||e.includes("-"));else if(tA.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}var tR=i(25270),tI=i(30361);let tj=(0,o.createContext)({strict:!1});var t$=i(96190);let tM=(0,o.createContext)({});function tD(e){return Array.isArray(e)?e.join(" "):e}let tF=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tL(e,t,i){for(let r in t)eW(t[r])||ty(r,i)||(e[r]=t[r])}let tU=()=>({...tF(),attrs:{}}),tN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tq(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tN.has(e)}let tV=e=>!tq(e);try{a=require("@emotion/is-prop-valid").default,"function"==typeof a&&(tV=e=>e.startsWith("on")?!tq(e):a(e))}catch{}var tB=i(61559),tW=i(43793);function tH(e){return eW(e)?e.get():e}let tG=e=>(t,i)=>{let r=(0,o.useContext)(tM),s=(0,o.useContext)(tB.t),n=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},i,r,s){return{latestValues:function(e,t,i,r){let s={},n=r(e,{});for(let e in n)s[e]=tH(n[e]);let{initial:a,animate:o}=e,l=tn(e),u=ta(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let c=!!i&&!1===i.initial,h=(c=c||!1===a)?o:a;if(h&&"boolean"!=typeof h&&!tt(h)){let t=Array.isArray(h)?h:[h];for(let i=0;i<t.length;i++){let r=tl(e,t[i]);if(r){let{transitionEnd:e,transition:t,...i}=r;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(s[e]=t)}for(let t in e)s[t]=e[t]}}}return s}(i,r,s,e),renderState:t()}})(e,t,r,s);return i?n():(0,tW.M)(n)},tz=tG({scrapeMotionValuesFromProps:t_,createRenderState:tF}),tK=tG({scrapeMotionValuesFromProps:tP,createRenderState:tU}),tQ=Symbol.for("motionComponentSymbol");function tJ(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let tY="data-"+tw("framerAppearId"),tX=(0,o.createContext)({});var tZ=i(53136);function t0(e,{forwardMotionProps:t=!1}={},i,r){i&&function(e){for(let t in e)e2[t]={...e2[t],...e[t]}}(i);let s=tC(e)?tK:tz;function n(i,n){var a;let l,u={...(0,o.useContext)(t$.Q),...i,layoutId:function({layoutId:e}){let t=(0,o.useContext)(tI.L).id;return t&&void 0!==e?t+"-"+e:e}(i)},{isStatic:c}=u,h=function(e){let{initial:t,animate:i}=function(e,t){if(tn(e)){let{initial:t,animate:i}=e;return{initial:!1===t||ti(t)?t:void 0,animate:ti(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,o.useContext)(tM));return(0,o.useMemo)(()=>({initial:t,animate:i}),[tD(t),tD(i)])}(i),d=s(i,c);if(!c&&e8.B){(0,o.useContext)(tj).strict;let t=function(e){let{drag:t,layout:i}=e2;if(!t&&!i)return{};let r={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(u);l=t.MeasureLayout,h.visualElement=function(e,t,i,r,s){let{visualElement:n}=(0,o.useContext)(tM),a=(0,o.useContext)(tj),l=(0,o.useContext)(tB.t),u=(0,o.useContext)(t$.Q).reducedMotion,c=(0,o.useRef)(null);r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:n,props:i,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:u}));let h=c.current,d=(0,o.useContext)(tX);h&&!h.projection&&s&&("html"===h.type||"svg"===h.type)&&function(e,t,i,r){let{layoutId:s,layout:n,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:s,layout:n,alwaysMeasureLayout:!!a||o&&tJ(o),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}(c.current,i,s,d);let p=(0,o.useRef)(!1);(0,o.useInsertionEffect)(()=>{h&&p.current&&h.update(i,l)});let f=i[tY],g=(0,o.useRef)(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return(0,tZ.E)(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),(0,o.useEffect)(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),g.current=!1),h.enteringChildren=void 0)}),h}(e,d,u,r,t.ProjectionNode)}return(0,tR.jsxs)(tM.Provider,{value:h,children:[l&&h.visualElement?(0,tR.jsx)(l,{visualElement:h.visualElement,...u}):null,function(e,t,i,{latestValues:r},s,n=!1){let a=(tC(e)?function(e,t,i,r){let s=(0,o.useMemo)(()=>{let i=tU();return tx(i,t,tT(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};tL(t,e.style,e),s.style={...t,...s.style}}return s}:function(e,t){let i,r,s={},n=(i=e.style||{},tL(r={},i,e),Object.assign(r,function({transformTemplate:e},t){return(0,o.useMemo)(()=>{let i=tF();return tg(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),r);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s})(t,r,s,e),l=function(e,t,i){let r={};for(let s in e)("values"!==s||"object"!=typeof e.values)&&(tV(s)||!0===i&&tq(s)||!t&&!tq(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(t,"string"==typeof e,n),u=e!==o.Fragment?{...l,...a,ref:i}:{},{children:c}=t,h=(0,o.useMemo)(()=>eW(c)?c.get():c,[c]);return(0,o.createElement)(e,{...u,children:h})}(e,i,(a=h.visualElement,(0,o.useCallback)(e=>{e&&d.onMount&&d.onMount(e),a&&(e?a.mount(e):a.unmount()),n&&("function"==typeof n?n(e):tJ(n)&&(n.current=e))},[a])),d,c,t)]})}n.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let a=(0,o.forwardRef)(n);return a[tQ]=e,a}function t1(e,t,i){let r=e.getProps();return tl(r,t,void 0!==i?i:r.custom,e)}function t2(e,t){return e?.[t]??e?.default??e}let t3=e=>Array.isArray(e);function t5(e,t){let i=e.getValue("willChange");if(eW(i)&&i.add)return i.add(t);if(!i&&eH.W.WillChange){let i=new eH.W.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function t6(e){e.duration=0,e.type="keyframes"}let t4=(e,t)=>i=>t(e(i)),t8=(...e)=>e.reduce(t4),t9=e=>1e3*e,t7={layout:0,mainThread:0,waapi:0};function ie(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function it(e,t){return i=>i>0?t:e}let ii=(e,t,i)=>{let r=e*e,s=i*(t*t-r)+r;return s<0?0:Math.sqrt(s)},ir=[ew,eb,eS];function is(e){let t=ir.find(t=>t.test(e));if(Z(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let i=t.parse(e);return t===eS&&(i=function({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,i/=100;let s=0,n=0,a=0;if(t/=100){let r=i<.5?i*(1+t):i+t-i*t,o=2*i-r;s=ie(o,r,e+1/3),n=ie(o,r,e),a=ie(o,r,e-1/3)}else s=n=a=i;return{red:Math.round(255*s),green:Math.round(255*n),blue:Math.round(255*a),alpha:r}}(i)),i}let ia=(e,t)=>{let i=is(e),r=is(t);if(!i||!r)return it(e,t);let s={...i};return e=>(s.red=ii(i.red,r.red,e),s.green=ii(i.green,r.green,e),s.blue=ii(i.blue,r.blue,e),s.alpha=T(i.alpha,r.alpha,e),eb.transform(s))},io=new Set(["none","hidden"]);function il(e,t){return i=>T(e,t,i)}function iu(e){return"number"==typeof e?il:"string"==typeof e?E(e)?it:eE.test(e)?ia:id:Array.isArray(e)?ic:"object"==typeof e?eE.test(e)?ia:ih:it}function ic(e,t){let i=[...e],r=i.length,s=e.map((e,i)=>iu(e)(e,t[i]));return e=>{for(let t=0;t<r;t++)i[t]=s[t](e);return i}}function ih(e,t){let i={...e,...t},r={};for(let s in i)void 0!==e[s]&&void 0!==t[s]&&(r[s]=iu(e[s])(e[s],t[s]));return e=>{for(let t in r)i[t]=r[t](e);return i}}let id=(e,t)=>{let i=eI.createTransformer(t),r=eO(e),s=eO(t);if(!(r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length))return Z(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),it(e,t);if(io.has(e)&&!s.values.length||io.has(t)&&!r.values.length)return io.has(e)?i=>i<=0?e:t:i=>i>=1?t:e;return t8(ic(function(e,t){let i=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let n=t.types[s],a=e.indexes[n][r[n]],o=e.values[a]??0;i[s]=o,r[n]++}return i}(r,s),s.values),i)};function ip(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?T(e,t,i):iu(e)(e,t)}let ig=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>ea.Gt.update(t,e),stop:()=>(0,ea.WG)(t),now:()=>ea.uv.isProcessing?ea.uv.timestamp:ez.now()}},im=(e,t,i=10)=>{let r="",s=Math.max(Math.round(t/i),2);for(let t=0;t<s;t++)r+=Math.round(1e4*e(t/(s-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`};function iv(e){let t=0,i=e.next(t);for(;!i.done&&t<2e4;)t+=50,i=e.next(t);return t>=2e4?1/0:t}function iy(e,t,i){var r,s;let n=Math.max(t-5,0);return r=i-e(n),(s=t-n)?1e3/s*r:0}let i_=.01,ib=2,iw=.005,iS=.5;function iE(e,t){return e*Math.sqrt(1-t*t)}let ix=["duration","bounce"],ik=["stiffness","damping","mass"];function iT(e,t){return t.some(t=>void 0!==e[t])}function iP(e=.3,t=.3){let i,r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:s,restDelta:n}=r,a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!iT(e,ik)&&iT(e,ix))if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),r=i*i,s=2*U(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:1,stiffness:r,damping:s}}else{let i=function({duration:e=800,bounce:t=.3,velocity:i=0,mass:r=1}){let s,n;Z(e<=t9(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=U(.05,1,a),e=U(.01,10,e/1e3),a<1?(s=t=>{let r=t*a,s=r*e;return .001-(r-i)/iE(t,a)*Math.exp(-s)},n=t=>{let r=t*a*e,n=Math.pow(a,2)*Math.pow(t,2)*e,o=Math.exp(-r),l=iE(Math.pow(t,2),a);return(r*i+i-n)*o*(-s(t)+.001>0?-1:1)/l}):(s=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),n=t=>e*e*(i-t)*Math.exp(-t*e));let o=function(e,t,i){let r=i;for(let i=1;i<12;i++)r-=e(r)/t(r);return r}(s,n,5/e);if(e=t9(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);(t={...t,...i,mass:1}).isResolvedFromDuration=!0}return t}({...r,velocity:-((r.velocity||0)/1e3)}),g=p||0,m=c/(2*Math.sqrt(u*h)),v=o-a,y=Math.sqrt(u/h)/1e3,_=5>Math.abs(v);if(s||(s=_?i_:ib),n||(n=_?iw:iS),m<1){let e=iE(y,m);i=t=>o-Math.exp(-m*y*t)*((g+m*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}else if(1===m)i=e=>o-Math.exp(-y*e)*(v+(g+y*v)*e);else{let e=y*Math.sqrt(m*m-1);i=t=>{let i=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-i*((g+m*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}let b={calculatedDuration:f&&d||null,next:e=>{let t=i(e);if(f)l.done=e>=d;else{let r=0===e?g:0;m<1&&(r=0===e?t9(g):iy(i,e,t));let a=Math.abs(o-t)<=n;l.done=Math.abs(r)<=s&&a}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(iv(b),2e4),t=im(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function iO({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:n=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){let h,d,p=e[0],f={done:!1,value:p},g=i*t,m=p+g,v=void 0===a?m:a(m);v!==m&&(g=v-p);let y=e=>-g*Math.exp(-e/r),_=e=>v+y(e),b=e=>{let t=y(e),i=_(e);f.done=Math.abs(t)<=u,f.value=f.done?v:i},w=e=>{let t;if(t=f.value,void 0!==o&&t<o||void 0!==l&&t>l){var i;h=e,d=iP({keyframes:[f.value,(i=f.value,void 0===o?l:void 0===l||Math.abs(o-i)<Math.abs(l-i)?o:l)],velocity:iy(_,e,f.value),damping:s,stiffness:n,restDelta:u,restSpeed:c})}};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==h||(t=!0,b(e),w(e)),void 0!==h&&e>=h)?d.next(e-h):(t||b(e),f)}}}iP.applyToOptions=e=>{let t=function(e,t=100,i){let r=i({...e,keyframes:[0,t]}),s=Math.min(iv(r),2e4);return{type:"keyframes",ease:e=>r.next(s*e).value/t,duration:s/1e3}}(e,100,iP);return e.ease=t.ease,e.duration=t9(t.duration),e.type="keyframes",e};var iA=i(65940);let iC=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function iR(e,t,i,r){return e===t&&i===r?iA.l:s=>0===s||1===s?s:iC(function(e,t,i,r,s){let n,a,o=0;do(n=iC(a=t+(i-t)/2,r,s)-e)>0?i=a:t=a;while(Math.abs(n)>1e-7&&++o<12);return a}(s,0,1,e,i),t,r)}let iI=iR(.42,0,1,1),ij=iR(0,0,.58,1),i$=iR(.42,0,.58,1),iM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iD=e=>t=>1-e(1-t),iF=iR(.33,1.53,.69,.99),iL=iD(iF),iU=iM(iL),iN=e=>(e*=2)<1?.5*iL(e):.5*(2-Math.pow(2,-10*(e-1))),iq=e=>1-Math.sin(Math.acos(e)),iV=iD(iq),iB=iM(iq),iW=e=>Array.isArray(e)&&"number"==typeof e[0],iH={linear:iA.l,easeIn:iI,easeInOut:i$,easeOut:ij,circIn:iq,circInOut:iB,circOut:iV,backIn:iL,backInOut:iU,backOut:iF,anticipate:iN},iG=e=>{if(iW(e)){ee(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,i,r,s]=e;return iR(t,i,r,s)}return"string"==typeof e?(ee(void 0!==iH[e],`Invalid easing type '${e}'`,"invalid-easing-type"),iH[e]):e},iz=(e,t,i)=>{let r=t-e;return 0===r?1:(i-e)/r};function iK({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){var s;let n,a=Array.isArray(r)&&"number"!=typeof r[0]?r.map(iG):iG(r),o={done:!1,value:t[0]},l=function(e,t,{clamp:i=!0,ease:r,mixer:s}={}){let n=e.length;if(ee(n===t.length,"Both input and output ranges must be the same length","range-length"),1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,i){let r=[],s=i||eH.W.mix||ip,n=e.length-1;for(let i=0;i<n;i++){let n=s(e[i],e[i+1]);t&&(n=t8(Array.isArray(t)?t[i]||iA.l:t,n)),r.push(n)}return r}(t,r,s),l=o.length,u=i=>{if(a&&i<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(i<e[r+1]);r++);let s=iz(e[r],e[r+1],i);return o[r](s)};return i?t=>u(U(e[0],e[n-1],t)):u}((s=i&&i.length===t.length?i:(!function(e,t){let i=e[e.length-1];for(let r=1;r<=t;r++){let s=iz(0,t,r);e.push(T(i,1,s))}}(n=[0],t.length-1),n),s.map(t=>t*e)),t,{ease:Array.isArray(a)?a:t.map(()=>a||i$).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let iQ=e=>null!==e;function iJ(e,{repeat:t,repeatType:i="loop"},r,s=1){let n=e.filter(iQ),a=s<0||t&&"loop"!==i&&t%2==1?0:n.length-1;return a&&void 0!==r?r:n[a]}let iY={decay:iO,inertia:iO,tween:iK,keyframes:iK,spring:iP};function iX(e){"string"==typeof e.type&&(e.type=iY[e.type])}class iZ{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let i0=e=>e/100;class i1 extends iZ{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==ez.now()&&this.tick(ez.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},t7.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;iX(e);let{type:t=iK,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:n=0}=e,{keyframes:a}=e,o=t||iK;o!==iK&&"number"!=typeof a[0]&&(this.mixKeyframes=t8(i0,ip(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===s&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-n})),null===l.calculatedDuration&&(l.calculatedDuration=iv(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:n,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return i.next(0);let{delay:l=0,keyframes:u,repeat:c,repeatType:h,repeatDelay:d,type:p,onUpdate:f,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let m=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?m<0:m>r;this.currentTime=Math.max(m,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,_=i;if(c){let e=Math.min(this.currentTime,r)/a,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,c+1))%2&&("reverse"===h?(i=1-i,d&&(i-=d/a)):"mirror"===h&&(_=n)),y=U(0,1,i)*a}let b=v?{done:!1,value:u[0]}:_.next(y);s&&(b.value=s(b.value));let{done:w}=b;v||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return S&&p!==iO&&(b.value=iJ(u,this.options,g,this.speed)),f&&f(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=t9(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ez.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=ig,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ez.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,t7.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function i2(e){let t;return()=>(void 0===t&&(t=e()),t)}let i3=i2(()=>void 0!==window.ScrollTimeline);var i5=i(43075);let i6={},i4=(s=i2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>i6.linearEasing??s()),i8=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,i9={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:i8([0,.65,.55,1]),circOut:i8([.55,0,1,.45]),backIn:i8([.31,.01,.66,-.59]),backOut:i8([.33,1.53,.69,.99])};function i7(e){return"function"==typeof e&&"applyToOptions"in e}class re extends iZ{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:s,allowFlatten:n=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!s,this.allowFlatten=n,this.options=e,ee("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return i7(e)&&i4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,i,{delay:r=0,duration:s=300,repeat:n=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u){let c={[t]:i};l&&(c.offset=l);let h=function e(t,i){if(t)return"function"==typeof t?i4()?im(t,i):"ease-out":iW(t)?i8(t):Array.isArray(t)?t.map(t=>e(t,i)||i9.easeOut):i9[t]}(o,s);Array.isArray(h)&&(c.easing=h),i5.Q.value&&t7.waapi++;let d={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:n+1,direction:"reverse"===a?"alternate":"normal"};u&&(d.pseudoElement=u);let p=e.animate(c,d);return i5.Q.value&&p.finished.finally(()=>{t7.waapi--}),p}(t,i,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){let e=iJ(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):i.startsWith("--")?t.style.setProperty(i,e):t.style[i]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.finishedTime=null,this.animation.currentTime=t9(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&i3())?(this.animation.timeline=e,iA.l):t(this)}}let rt={anticipate:iN,backInOut:iU,circInOut:iB};class ri extends re{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in rt&&(e.ease=rt[e.ease])}(e),iX(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:i,onComplete:r,element:s,...n}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let a=new i1({...n,autoplay:!1}),o=t9(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}let rr=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(eI.test(e)||"0"===e)&&!e.startsWith("url(")),rs=new Set(["opacity","clipPath","filter","transform"]),rn=i2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ra extends iZ{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:n="loop",keyframes:a,name:o,motionValue:l,element:u,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ez.now();const h={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:n,name:o,motionValue:l,element:u,...c},d=u?.KeyframeResolver||ep;this.keyframeResolver=new d(a,(e,t,i)=>this.onKeyframesResolved(e,t,h,!i),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;let{name:s,type:n,velocity:a,delay:o,isHandoff:l,onUpdate:u}=i;this.resolvedAt=ez.now(),!function(e,t,i,r){let s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;let n=e[e.length-1],a=rr(s,t),o=rr(n,t);return Z(a===o,`You are trying to animate ${t} from "${s}" to "${n}". "${a?n:s}" is not an animatable value.`,"value-not-animatable"),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||i7(i))&&r)}(e,s,n,a)&&((eH.W.instantAnimations||!o)&&u?.(iJ(e,i,t)),e[0]=e[e.length-1],t6(i),i.repeat=0);let c={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},h=!l&&function(e){let{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:n,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return rn()&&i&&rs.has(i)&&("transform"!==i||!l)&&!o&&!r&&"mirror"!==s&&0!==n&&"inertia"!==a}(c)?new ri({...c,element:c.motionValue.owner.current}):new i1(c);h.finished.then(()=>this.notifyFinished()).catch(iA.l),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ec=!0,ed(),eh(),ec=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let ro=e=>null!==e,rl={type:"spring",stiffness:500,damping:25,restSpeed:10},ru={type:"keyframes",duration:.8},rc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rh=(e,t,i,r={},s,n)=>a=>{let o=t2(r,e)||{},l=o.delay||r.delay||0,{elapsed:c=0}=r;c-=t9(l);let h={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:n?void 0:s};!function({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:n,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(o)&&Object.assign(h,((e,{keyframes:t})=>t.length>2?ru:u.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:rl:rc)(e,h)),h.duration&&(h.duration=t9(h.duration)),h.repeatDelay&&(h.repeatDelay=t9(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let d=!1;if(!1!==h.type&&(0!==h.duration||h.repeatDelay)||(t6(h),0===h.delay&&(d=!0)),(eH.W.instantAnimations||eH.W.skipAnimations)&&(d=!0,t6(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!n&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:i="loop"},r){let s=e.filter(ro),n=t&&"loop"!==i&&t%2==1?0:s.length-1;return s[n]}(h.keyframes,o);if(void 0!==e)return void ea.Gt.update(()=>{h.onUpdate(e),h.onComplete()})}return o.isSync?new i1(h):new ra(h)};function rd(e,t,{delay:i=0,transitionOverride:r,type:s}={}){let{transition:n=e.getDefaultTransition(),transitionEnd:a,...o}=t;r&&(n=r);let l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(let t in o){let r=e.getValue(t,e.latestValues[t]??null),s=o[t];if(void 0===s||u&&function({protectedKeys:e,needsAnimating:t},i){let r=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,r}(u,t))continue;let a={delay:i,...t2(n||{},t)},c=r.get();if(void 0!==c&&!r.isAnimating&&!Array.isArray(s)&&s===c&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){let i=e.props[tY];if(i){let e=window.MotionHandoffAnimation(i,t,ea.Gt);null!==e&&(a.startTime=e,h=!0)}}t5(e,t),r.start(rh(t,r,s,e.shouldReduceMotion&&L.has(t)?{type:!1}:a,e,h));let d=r.animation;d&&l.push(d)}return a&&Promise.all(l).then(()=>{ea.Gt.update(()=>{a&&function(e,t){let{transitionEnd:i={},transition:r={},...s}=t1(e,t)||{};for(let t in s={...s,...i}){var n;let i=t3(n=s[t])?n[n.length-1]||0:n;e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,eX(i))}}(e,a)})}),l}function rp(e,t,i,r=0,s=1){let n=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*r;return"function"==typeof i?i(n,a):1===s?n*r:o-n*r}function rf(e,t,i={}){let r=t1(e,t,"exit"===i.type?e.presenceContext?.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(s=i.transitionOverride);let n=r?()=>Promise.all(rd(e,r,i)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,i=0,r=0,s=0,n=1,a){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(rf(l,t,{...a,delay:i+("function"==typeof r?0:r)+rp(e.variantChildren,l,r,s,n)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,n,a,o,i)}:()=>Promise.resolve(),{when:o}=s;if(!o)return Promise.all([n(),a(i.delay)]);{let[e,t]="beforeChildren"===o?[n,a]:[a,n];return e().then(()=>t())}}function rg(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}let rm=ts.length,rv=[...tr].reverse(),ry=tr.length;function r_(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rb(){return{animate:r_(!0),whileInView:r_(),whileHover:r_(),whileTap:r_(),whileDrag:r_(),whileFocus:r_(),exit:r_()}}class rw{constructor(e){this.isMounted=!1,this.node=e}update(){}}let rS=0,rE={x:!1,y:!1};function rx(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}let rk=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function rT(e){return{point:{x:e.pageX,y:e.pageY}}}function rP(e,t,i,r){return rx(e,t,e=>rk(e)&&i(e,rT(e)),r)}function rO(e){return e.max-e.min}function rA(e,t,i,r=.5){e.origin=r,e.originPoint=T(t.min,t.max,e.origin),e.scale=rO(i)/rO(t),e.translate=T(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function rC(e,t,i,r){rA(e.x,t.x,i.x,r?r.originX:void 0),rA(e.y,t.y,i.y,r?r.originY:void 0)}function rR(e,t,i){e.min=i.min+t.min,e.max=e.min+rO(t)}function rI(e,t,i){e.min=t.min-i.min,e.max=e.min+rO(t)}function rj(e,t,i){rI(e.x,t.x,i.x),rI(e.y,t.y,i.y)}function r$(e){return[e("x"),e("y")]}let rM=({current:e})=>e?e.ownerDocument.defaultView:null,rD=(e,t)=>Math.abs(e-t);class rF{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:n=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let i=rN(this.lastMoveEventInfo,this.history),r=null!==this.startEvent,s=(e=i.offset,t={x:0,y:0},Math.sqrt(rD(e.x,t.x)**2+rD(e.y,t.y)**2)>=this.distanceThreshold);if(!r&&!s)return;let{point:n}=i,{timestamp:a}=ea.uv;this.history.push({...n,timestamp:a});let{onStart:o,onMove:l}=this.handlers;r||(o&&o(this.lastMoveEvent,i),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,i)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rL(t,this.transformPagePoint),ea.Gt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=rN("pointercancel"===e.type?this.lastMoveEventInfo:rL(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,n),r&&r(e,n)},!rk(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=n,this.contextWindow=r||window;const a=rL(rT(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=ea.uv;this.history=[{...o,timestamp:l}];const{onSessionStart:u}=t;u&&u(e,rN(a,this.history)),this.removeListeners=t8(rP(this.contextWindow,"pointermove",this.handlePointerMove),rP(this.contextWindow,"pointerup",this.handlePointerUp),rP(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,ea.WG)(this.updatePoint)}}function rL(e,t){return t?{point:t(e.point)}:e}function rU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rN({point:e},t){return{point:e,delta:rU(e,rq(t)),offset:rU(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null,s=rq(e);for(;i>=0&&(r=e[i],!(s.timestamp-r.timestamp>t9(.1)));)i--;if(!r)return{x:0,y:0};let n=(s.timestamp-r.timestamp)/1e3;if(0===n)return{x:0,y:0};let a={x:(s.x-r.x)/n,y:(s.y-r.y)/n};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function rq(e){return e[e.length-1]}function rV(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function rB(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function rW(e,t,i){return{min:rH(e,t),max:rH(e,i)}}function rH(e,t){return"number"==typeof e?e:e[t]||0}let rG=new WeakMap;class rz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=e4(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let s=e=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(rT(e).point)},n=(e,t)=>{let{drag:i,dragPropagation:r,onDragStart:s}=this.getProps();if(i&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(rE[e])return null;else return rE[e]=!0,()=>{rE[e]=!1};return rE.x||rE.y?null:(rE.x=rE.y=!0,()=>{rE.x=rE.y=!1})}(i),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),r$(e=>{let t=this.getAxisMotionValue(e).get()||0;if(H.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let r=i.layout.layoutBox[e];r&&(t=rO(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),s&&ea.Gt.postRender(()=>s(e,t)),t5(this.visualElement,"transform");let{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:i,dragDirectionLock:r,onDirectionLock:s,onDrag:n}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:a}=t;if(r&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(a),null!==this.currentDirection&&s&&s(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),n&&n(e,t)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>r$(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new rF(e,{onSessionStart:s,onStart:n,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:i,contextWindow:rM(this.visualElement)})}stop(e,t){let i=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;let{velocity:n}=r;this.startAnimation(n);let{onDragEnd:a}=this.getProps();a&&ea.Gt.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){let{drag:r}=this.getProps();if(!i||!rK(e,r,this.currentDirection))return;let s=this.getAxisMotionValue(e),n=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:i},r){return void 0!==t&&e<t?e=r?T(t,e,r.min):Math.max(e,t):void 0!==i&&e>i&&(e=r?T(i,e,r.max):Math.min(e,i)),e}(n,this.constraints[e],this.elastic[e])),s.set(n)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&tJ(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=function(e,{top:t,left:i,bottom:r,right:s}){return{x:rV(e.x,i,s),y:rV(e.y,t,r)}}(i.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:rW(e,"left","right"),y:rW(e,"top","bottom")}}(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&r$(e=>{var t,r;let s;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=i.layoutBox[e],r=this.constraints[e],s={},void 0!==r.min&&(s.min=r.min-t.min),void 0!==r.max&&(s.max=r.max-t.min),s))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!tJ(t))return!1;let r=t.current;ee(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:s}=this.visualElement;if(!s||!s.layout)return!1;let n=function(e,t,i){let r=F(e,i),{scroll:s}=t;return s&&($(r.x,s.offset.x),$(r.y,s.offset.y)),r}(r,s.root,this.visualElement.getTransformPagePoint()),a=(e=s.layout.layoutBox,{x:rB(e.x,n.x),y:rB(e.y,n.y)});if(i){let e=i(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=k(e))}return a}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:n,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(r$(a=>{if(!rK(a,t,this.currentDirection))return;let l=o&&o[a]||{};n&&(l={min:0,max:0});let u={type:"inertia",velocity:i?e[a]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return t5(this.visualElement,e),i.start(rh(e,i,0,t,this.visualElement,!1))}stopAnimation(){r$(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){r$(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){r$(t=>{let{drag:i}=this.getProps();if(!rK(t,i,this.currentDirection))return;let{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){let{min:i,max:n}=r.layout.layoutBox[t];s.set(e[t]-T(i,n,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!tJ(t)||!i||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};r$(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var i,s;let n,a,o,l=t.get();r[e]=(i={min:l,max:l},s=this.constraints[e],n=.5,a=rO(i),(o=rO(s))>a?n=iz(s.min,s.max-a,i.min):a>o&&(n=iz(i.min,i.max-o,s.min)),U(0,1,n))}});let{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),r$(t=>{if(!rK(t,e,null))return;let i=this.getAxisMotionValue(t),{min:s,max:n}=this.constraints[t];i.set(T(s,n,r[t]))})}addListeners(){if(!this.visualElement.current)return;rG.set(this.visualElement,this);let e=rP(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:i=!0}=this.getProps();t&&i&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();tJ(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",t);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ea.Gt.read(t);let s=rx(window,"resize",()=>this.scalePositionWithinConstraints()),n=i.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(r$(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:n=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:n,dragMomentum:a}}}function rK(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}let rQ=e=>(t,i)=>{e&&ea.Gt.postRender(()=>e(t,i))};var rJ=i(94056);let rY={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rX(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let rZ={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!G.test(e))return e;else e=parseFloat(e);let i=rX(e,t.target.x),r=rX(e,t.target.y);return`${i}% ${r}%`}},r0=!1;class r1 extends o.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;for(let e in r3)tv[e]=r3[e],w(e)&&(tv[e].isCSSVariable=!0);s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),r0&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rY.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,{projection:n}=i;return n&&(n.isPresent=s,r0=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?n.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?n.promote():n.relegate()||ea.Gt.postRender(()=>{let e=n.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),e0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r0=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function r2(e){let[t,i]=(0,rJ.xQ)(),r=(0,o.useContext)(tI.L);return(0,tR.jsx)(r1,{...e,layoutGroup:r,switchLayoutGroup:(0,o.useContext)(tX),isPresent:t,safeToRemove:i})}let r3={borderRadius:{...rZ,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rZ,borderTopRightRadius:rZ,borderBottomLeftRadius:rZ,borderBottomRightRadius:rZ,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let r=eI.parse(e);if(r.length>5)return e;let s=eI.createTransformer(e),n=+("number"!=typeof r[0]),a=i.x.scale*t.x,o=i.y.scale*t.y;r[0+n]/=a,r[1+n]/=o;let l=T(a,o,.5);return"number"==typeof r[2+n]&&(r[2+n]/=l),"number"==typeof r[3+n]&&(r[3+n]/=l),s(r)}}};var r5=i(90180);function r6(e){return(0,r5.G)(e)&&"ownerSVGElement"in e}let r4=(e,t)=>e.depth-t.depth;class r8{constructor(){this.children=[],this.isDirty=!1}add(e){eK(this.children,e),this.isDirty=!0}remove(e){eQ(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r4),this.isDirty=!1,this.children.forEach(e)}}let r9=["TopLeft","TopRight","BottomLeft","BottomRight"],r7=r9.length,se=e=>"string"==typeof e?parseFloat(e):e,st=e=>"number"==typeof e||G.test(e);function si(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let sr=sn(0,.5,iV),ss=sn(.5,.95,iA.l);function sn(e,t,i){return r=>r<e?0:r>t?1:i(iz(e,t,r))}function sa(e,t){e.min=t.min,e.max=t.max}function so(e,t){sa(e.x,t.x),sa(e.y,t.y)}function sl(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function su(e,t,i,r,s){return e-=t,e=r+1/i*(e-r),void 0!==s&&(e=r+1/s*(e-r)),e}function sc(e,t,[i,r,s],n,a){!function(e,t=0,i=1,r=.5,s,n=e,a=e){if(H.test(t)&&(t=parseFloat(t),t=T(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=T(n.min,n.max,r);e===n&&(o-=t),e.min=su(e.min,t,i,o,s),e.max=su(e.max,t,i,o,s)}(e,t[i],t[r],t[s],t.scale,n,a)}let sh=["x","scaleX","originX"],sd=["y","scaleY","originY"];function sp(e,t,i,r){sc(e.x,t,sh,i?i.x:void 0,r?r.x:void 0),sc(e.y,t,sd,i?i.y:void 0,r?r.y:void 0)}function sf(e){return 0===e.translate&&1===e.scale}function sg(e){return sf(e.x)&&sf(e.y)}function sm(e,t){return e.min===t.min&&e.max===t.max}function sv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sy(e,t){return sv(e.x,t.x)&&sv(e.y,t.y)}function s_(e){return rO(e.x)/rO(e.y)}function sb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sw{constructor(){this.members=[]}add(e){eK(this.members,e),e.scheduleRender()}remove(e){if(eQ(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;!1===r&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let sS={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},sE=["","X","Y","Z"],sx=0;function sk(e,t,i,r){let{latestValues:s}=t;s[e]&&(i[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function sT({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(e={},i=t?.()){this.id=sx++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,i5.Q.value&&(sS.nodes=sS.calculatedTargetDeltas=sS.calculatedProjections=0),this.nodes.forEach(sA),this.nodes.forEach(sD),this.nodes.forEach(sF),this.nodes.forEach(sC),i5.Q.addProjectionMetrics&&i5.Q.addProjectionMetrics(sS)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new r8)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new eJ),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=r6(t)&&!(r6(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:i,layout:r,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||i)&&(this.isLayoutDirty=!0),e){let i,r=0,s=()=>this.root.updateBlockedByResize=!1;ea.Gt.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==r){let t,n;r=e,this.root.updateBlockedByResize=!0,i&&i(),t=ez.now(),n=({timestamp:e})=>{let i=e-t;i>=250&&((0,ea.WG)(n),s(i-250))},ea.Gt.setup(n,!0),i=()=>(0,ea.WG)(n),rY.hasAnimatedSinceResize&&(rY.hasAnimatedSinceResize=!1,this.nodes.forEach(sM))}})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:i,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||s.getDefaultTransition()||sB,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!sy(this.targetLayout,r),u=!t&&i;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...t2(n,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||sM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),(0,ea.WG)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sL),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let r=i.props[tY];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ea.Gt,!(e||i))}let{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&e(s)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sI);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(sj);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(s$),this.nodes.forEach(sP),this.nodes.forEach(sO)):this.nodes.forEach(sj),this.clearAllSnapshots();let e=ez.now();ea.uv.delta=U(0,1e3/60,e-ea.uv.timestamp),ea.uv.timestamp=e,ea.uv.isProcessing=!0,ea.PP.update.process(ea.uv),ea.PP.preRender.process(ea.uv),ea.PP.render.process(ea.uv),ea.uv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sR),this.sharedNodes.forEach(sU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ea.Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ea.Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||rO(this.snapshot.measuredBox.x)||rO(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=e4(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!sg(this.projectionDelta),i=this.getTransformTemplate(),r=i?i(this.latestValues,""):void 0,n=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||A(this.latestValues)||n)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),r=this.removeElementScroll(i);return e&&(r=this.removeTransform(r)),sG((t=r).x),sG(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return e4();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sK))){let{scroll:e}=this.root;e&&($(t.x,e.offset.x),$(t.y,e.offset.y))}return t}removeElementScroll(e){let t=e4();if(so(t,e),this.scroll?.wasRoot)return t;for(let i=0;i<this.path.length;i++){let r=this.path[i],{scroll:s,options:n}=r;r!==this.root&&s&&n.layoutScroll&&(s.wasRoot&&so(t,e),$(t.x,s.offset.x),$(t.y,s.offset.y))}return t}applyTransform(e,t=!1){let i=e4();so(i,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&D(i,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),A(r.latestValues)&&D(i,r.latestValues)}return A(this.latestValues)&&D(i,this.latestValues),i}removeTransform(e){let t=e4();so(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!A(i.latestValues))continue;O(i.latestValues)&&i.updateSnapshot();let r=e4();so(r,i.measurePageBox()),sp(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,r)}return A(this.latestValues)&&sp(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ea.uv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let i=!!this.resumingFrom||this!==t;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=ea.uv.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=e4(),this.relativeTargetOrigin=e4(),rj(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),so(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=e4(),this.targetWithTransforms=e4()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var n,a,o;this.forceRelativeParentToResolveTarget(),n=this.target,a=this.relativeTarget,o=this.relativeParent.target,rR(n.x,a.x,o.x),rR(n.y,a.y,o.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):so(this.target,this.layout.layoutBox),j(this.target,this.targetDelta)):so(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=e4(),this.relativeTargetOrigin=e4(),rj(this.relativeTargetOrigin,this.target,e.target),so(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}i5.Q.value&&sS.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||O(this.parent.latestValues)||C(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,i=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(i=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===ea.uv.timestamp&&(i=!1),i)return;let{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||s))return;so(this.layoutCorrected,this.layout.layoutBox);let n=this.treeScale.x,a=this.treeScale.y;!function(e,t,i,r=!1){let s,n,a=i.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){n=(s=i[o]).projectionDelta;let{visualElement:a}=s.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&D(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,j(e,n)),r&&A(s.latestValues)&&D(e,s.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=e4());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(sl(this.prevProjectionDelta.x,this.projectionDelta.x),sl(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),rC(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===n&&this.treeScale.y===a&&sb(this.projectionDelta.x,this.prevProjectionDelta.x)&&sb(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),i5.Q.value&&sS.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=e5(),this.projectionDelta=e5(),this.projectionDeltaWithTransform=e5()}setAnimationOrigin(e,t=!1){let i,r=this.snapshot,s=r?r.latestValues:{},n={...this.latestValues},a=e5();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=e4(),l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(sV));this.animationProgress=0,this.mixTargetDelta=t=>{let r=t/1e3;if(sN(a.x,e.x,r),sN(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,p,f,g,m;rj(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,g=o,m=r,sq(p.x,f.x,g.x,m),sq(p.y,f.y,g.y,m),i&&(u=this.relativeTarget,d=i,sm(u.x,d.x)&&sm(u.y,d.y))&&(this.isProjectionDirty=!1),i||(i=e4()),so(i,this.relativeTarget)}l&&(this.animationValues=n,function(e,t,i,r,s,n){s?(e.opacity=T(0,i.opacity??1,sr(r)),e.opacityExit=T(t.opacity??1,0,ss(r))):n&&(e.opacity=T(t.opacity??1,i.opacity??1,r));for(let s=0;s<r7;s++){let n=`border${r9[s]}Radius`,a=si(t,n),o=si(i,n);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||st(a)===st(o)?(e[n]=Math.max(T(se(a),se(o),r),0),(H.test(o)||H.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||i.rotate)&&(e.rotate=T(t.rotate||0,i.rotate||0,r))}(n,s,this.latestValues,r,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&((0,ea.WG)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ea.Gt.update(()=>{var t,i,r;let s;rY.hasAnimatedSinceResize=!0,t7.layout++,this.motionValue||(this.motionValue=eX(0)),this.currentAnimation=(t=this.motionValue,i=[0,1e3],r={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{t7.layout--},onComplete:()=>{t7.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(s=eW(t)?t:eX(t)).start(rh("",s,i,r)),s.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:r,latestValues:s}=e;if(t&&i&&r){if(this!==e&&this.layout&&r&&sz(this.options.animationType,this.layout.layoutBox,r.layoutBox)){i=this.target||e4();let t=rO(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let r=rO(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+r}so(t,i),D(t,s),rC(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new sw),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let r=this.getStack();r&&r.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let r={};i.z&&sk("z",e,r,this.animationValues);for(let t=0;t<sE.length;t++)sk(`rotate${sE[t]}`,e,r,this.animationValues),sk(`skew${sE[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let i=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=tH(t?.pointerEvents)||"",e.transform=i?i(this.latestValues,""):"none";return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=tH(t?.pointerEvents)||""),this.hasProjected&&!A(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1);return}e.visibility="";let s=r.animationValues||r.latestValues;this.applyTransformsToTarget();let n=function(e,t,i){let r="",s=e.x.translate/t.x,n=e.y.translate/t.y,a=i?.z||0;if((s||n||a)&&(r=`translate3d(${s}px, ${n}px, ${a}px) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:s,rotateY:n,skewX:a,skewY:o}=i;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),n&&(r+=`rotateY(${n}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);i&&(n=i(s,n)),e.transform=n;let{x:a,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,r.animationValues?e.opacity=r===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,tv){if(void 0===s[t])continue;let{correct:i,applyTo:a,isCSSVariable:o}=tv[t],l="none"===n?s[t]:i(s[t],r);if(a){let t=a.length;for(let i=0;i<t;i++)e[a[i]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=r===this?tH(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(sI),this.root.sharedNodes.clear()}}}function sP(e){e.updateLayout()}function sO(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:i,measuredBox:r}=e.layout,{animationType:s}=e.options,n=t.source!==e.layout.source;"size"===s?r$(e=>{let r=n?t.measuredBox[e]:t.layoutBox[e],s=rO(r);r.min=i[e].min,r.max=r.min+s}):sz(s,t.layoutBox,i)&&r$(r=>{let s=n?t.measuredBox[r]:t.layoutBox[r],a=rO(i[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});let a=e5();rC(a,i,t.layoutBox);let o=e5();n?rC(o,e.applyTransform(r,!0),t.measuredBox):rC(o,i,t.layoutBox);let l=!sg(a),u=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:s,layout:n}=r;if(s&&n){let a=e4();rj(a,t.layoutBox,s.layoutBox);let o=e4();rj(o,i,n.layoutBox),sy(a,o)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function sA(e){i5.Q.value&&sS.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sR(e){e.clearSnapshot()}function sI(e){e.clearMeasurements()}function sj(e){e.isLayoutDirty=!1}function s$(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sD(e){e.resolveTargetDelta()}function sF(e){e.calcProjection()}function sL(e){e.resetSkewAndRotation()}function sU(e){e.removeLeadSnapshot()}function sN(e,t,i){e.translate=T(t.translate,0,i),e.scale=T(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function sq(e,t,i,r){e.min=T(t.min,i.min,r),e.max=T(t.max,i.max,r)}function sV(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let sB={duration:.45,ease:[.4,0,.1,1]},sW=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sH=sW("applewebkit/")&&!sW("chrome/")?Math.round:iA.l;function sG(e){e.min=sH(e.min),e.max=sH(e.max)}function sz(e,t,i){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(s_(t)-s_(i)))}function sK(e){return e!==e.root&&e.scroll?.wasRoot}let sQ=sT({attachResizeListener:(e,t)=>rx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sJ={current:void 0},sY=sT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sJ.current){let e=new sQ({});e.mount(window),e.setOptions({layoutScroll:!0}),sJ.current=e}return sJ.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});var sX=i(33181);function sZ(e,t){let i=(0,sX.K)(e),r=new AbortController;return[i,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function s0(e){return!("touch"===e.pointerType||rE.x||rE.y)}function s1(e,t,i){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===i);let s=r["onHover"+i];s&&ea.Gt.postRender(()=>s(t,rT(t)))}var s2=i(61864);let s3=(e,t)=>!!t&&(e===t||s3(e,t.parentElement)),s5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),s6=new WeakSet;function s4(e){return t=>{"Enter"===t.key&&e(t)}}function s8(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function s9(e){return rk(e)&&!(rE.x||rE.y)}function s7(e,t,i){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===i);let s=r["onTap"+("End"===i?"":i)];s&&ea.Gt.postRender(()=>s(t,rT(t)))}let ne=new WeakMap,nt=new WeakMap,ni=e=>{let t=ne.get(e.target);t&&t(e)},nr=e=>{e.forEach(ni)},ns={some:0,all:1},nn=function(e,t){if("undefined"==typeof Proxy)return t0;let i=new Map,r=(i,r)=>t0(i,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(s,n)=>"create"===n?r:(i.has(n)||i.set(n,t0(n,void 0,e,t)),i.get(n))})}({animation:{Feature:class extends rw{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t))r=Promise.all(t.map(t=>rf(e,t,i)));else if("string"==typeof t)r=rf(e,t,i);else{let s="function"==typeof t?t1(e,t,i.custom):t;r=Promise.all(rd(e,s,i))}return r.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=rb(),r=!0,s=t=>(i,r)=>{let s=t1(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(s){let{transition:e,transitionEnd:t,...r}=s;i={...i,...r,...t}}return i};function n(n){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<rm;e++){let r=ts[e],s=t.props[r];(ti(s)||!1===s)&&(i[r]=s)}return i}(e.parent)||{},l=[],u=new Set,c={},h=1/0;for(let t=0;t<ry;t++){var d,p;let f=rv[t],g=i[f],m=void 0!==a[f]?a[f]:o[f],v=ti(m),y=f===n?g.isActive:null;!1===y&&(h=t);let _=m===o[f]&&m!==a[f]&&v;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...c},!g.isActive&&null===y||!m&&!g.prevProp||tt(m)||"boolean"==typeof m)continue;let b=(d=g.prevProp,"string"==typeof(p=m)?p!==d:!!Array.isArray(p)&&!rg(p,d)),w=b||f===n&&g.isActive&&!_&&v||t>h&&v,S=!1,E=Array.isArray(m)?m:[m],x=E.reduce(s(f),{});!1===y&&(x={});let{prevResolvedValues:k={}}=g,T={...k,...x},P=t=>{w=!0,u.has(t)&&(S=!0,u.delete(t)),g.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in T){let t=x[e],i=k[e];if(!c.hasOwnProperty(e))(t3(t)&&t3(i)?rg(t,i):t===i)?void 0!==t&&u.has(e)?P(e):g.protectedKeys[e]=!0:null!=t?P(e):u.add(e)}g.prevProp=m,g.prevResolvedValues=x,g.isActive&&(c={...c,...x}),r&&e.blockInitialAnimation&&(w=!1);let O=_&&b,A=!O||S;w&&A&&l.push(...E.map(t=>{let i={type:f};if("string"==typeof t&&r&&!O&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,s=t1(r,t);if(r.enteringChildren&&s){let{delayChildren:t}=s.transition||{};i.delay=rp(r.enteringChildren,e,t)}}return{animation:t,options:i}}))}if(u.size){let t={};if("boolean"!=typeof a.initial){let i=t1(e,Array.isArray(a.initial)?a.initial[0]:a.initial);i&&i.transition&&(t.transition=i.transition)}u.forEach(i=>{let r=e.getBaseTarget(i),s=e.getValue(i);s&&(s.liveStyle=!0),t[i]=r??null}),l.push({animation:t})}let f=!!l.length;return r&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,r){if(i[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),i[t].isActive=r;let s=n(t);for(let e in i)i[e].protectedKeys={};return s},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=rb()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();tt(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends rw{constructor(){super(...arguments),this.id=rS++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends rw{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:i={}}=this.node.getProps(),{root:r,margin:s,amount:n="some",once:a}=i,o={root:r?r.current:void 0,rootMargin:s,threshold:"number"==typeof n?n:ns[n]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,a&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:r}=this.node.getProps(),s=t?i:r;s&&s(e)};return e=this.node.current,t=function({root:e,...t}){let i=e||document;nt.has(i)||nt.set(i,{});let r=nt.get(i),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(nr,{root:e,...t})),r[s]}(o),ne.set(e,l),t.observe(e),()=>{ne.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends rw{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[r,s,n]=sZ(e,i),a=e=>{let r=e.currentTarget;if(!s9(e))return;s6.add(r);let n=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),s6.has(r)&&s6.delete(r),s9(e)&&"function"==typeof n&&n(e,{success:t})},o=e=>{a(e,r===window||r===document||i.useGlobalTarget||s3(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{((i.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),(0,s2.s)(e))&&(e.addEventListener("focus",e=>((e,t)=>{let i=e.currentTarget;if(!i)return;let r=s4(()=>{if(s6.has(i))return;s8(i,"down");let e=s4(()=>{s8(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>s8(i,"cancel"),t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)})(e,s)),s5.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),n}(e,(e,t)=>(s7(this.node,t,"Start"),(e,{success:t})=>s7(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends rw{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=t8(rx(this.node.current,"focus",()=>this.onFocus()),rx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends rw{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[r,s,n]=sZ(e,i),a=e=>{if(!s0(e))return;let{target:i}=e,r=t(i,e);if("function"!=typeof r||!i)return;let n=e=>{s0(e)&&(r(e),i.removeEventListener("pointerleave",n))};i.addEventListener("pointerleave",n,s)};return r.forEach(e=>{e.addEventListener("pointerenter",a,s)}),n}(e,(e,t)=>(s1(this.node,t,"Start"),e=>s1(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends rw{constructor(){super(...arguments),this.removePointerDownListener=iA.l}onPointerDown(e){this.session=new rF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rM(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:rQ(e),onStart:rQ(t),onMove:i,onEnd:(e,t)=>{delete this.session,r&&ea.Gt.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=rP(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends rw{constructor(e){super(e),this.removeGroupControls=iA.l,this.removeListeners=iA.l,this.controls=new rz(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||iA.l}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:sY,MeasureLayout:r2},layout:{ProjectionNode:sY,MeasureLayout:r2}},(e,t)=>tC(e)?new tO(t):new tb(t,{allowProjection:e!==o.Fragment}))},42968:function(e,t,i){"use strict";i.d(t,{B:()=>r});let r="undefined"!=typeof window},43793:function(e,t,i){"use strict";i.d(t,{M:()=>s});var r=i(39430);function s(e){let t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},53136:function(e,t,i){"use strict";i.d(t,{E:()=>s});var r=i(39430);let s=i(42968).B?r.useLayoutEffect:r.useEffect},78240:function(e,t,i){"use strict";i.d(t,{Kq:()=>l,Pj:()=>o,Xr:()=>g,fp:()=>m,md:()=>f});var r=i(39430),s=i(35988),n=i(37655);let a=(0,r.createContext)(void 0);function o(e){let t=(0,r.useContext)(a);return(null==e?void 0:e.store)||t||(0,s.zp)()}function l({children:e,store:t}){let i=(0,r.useRef)(void 0);return t||i.current||(i.current=(0,s.y$)()),(0,r.createElement)(a.Provider,{value:t||i.current},e)}let u=e=>"function"==typeof(null==e?void 0:e.then),c=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},h=r.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw c(e),e}),d=new WeakMap,p=(e,t)=>{let i=d.get(e);return i||(i=new Promise((r,s)=>{let a=e,o=e=>t=>{a===e&&r(t)},l=e=>t=>{a===e&&s(t)},c=()=>{try{let e=t();u(e)?(d.set(e,i),a=e,e.then(o(e),l(e)),(0,n.MO)(e,c)):r(e)}catch(e){s(e)}};e.then(o(e),l(e)),(0,n.MO)(e,c)}),d.set(e,i)),i};function f(e,t){let{delay:i,unstable_promiseStatus:s=!r.use}=t||{},n=o(t),[[a,l,d],f]=(0,r.useReducer)(t=>{let i=n.get(e);return Object.is(t[0],i)&&t[1]===n&&t[2]===e?t:[i,n,e]},void 0,()=>[n.get(e),n,e]),g=a;if((l!==n||d!==e)&&(f(),g=n.get(e)),(0,r.useEffect)(()=>{let t=n.sub(e,()=>{if(s)try{let t=n.get(e);u(t)&&c(p(t,()=>n.get(e)))}catch(e){}"number"==typeof i?setTimeout(f,i):f()});return f(),t},[n,e,i,s]),(0,r.useDebugValue)(g),u(g)){let t=p(g,()=>n.get(e));return s&&c(t),h(t)}return g}function g(e,t){let i=o(t);return(0,r.useCallback)((...t)=>i.set(e,...t),[i,e])}function m(e,t){return[f(e,t),g(e,t)]}},35988:function(e,t,i){"use strict";let r,s;i.d(t,{eU:()=>o,y$:()=>c,zp:()=>h});var n=i(37655);let a=0;function o(e,t){let i=`atom${++a}`,r={toString:()=>i};return"function"==typeof e?r.read=e:(r.init=e,r.read=l,r.write=u),t&&(r.write=t),r}function l(e){return e(this)}function u(e,t,i){return t(this,"function"==typeof i?i(e(this)):i)}function c(){return r?r():(0,n.ff)()}function h(){return s||(s=c()),s}},37655:function(e,t,i){"use strict";function r(e){return"v"in e||"e"in e}function s(e){if("e"in e)throw e.e;return e.v}i.d(t,{MO:()=>o,ff:()=>C});let n=new WeakMap;function a(e){var t;return l(e)&&!!(null==(t=n.get(e))?void 0:t[0])}function o(e,t){let i=n.get(e);if(!i){i=[!0,new Set],n.set(e,i);let t=()=>{i[0]=!1};e.then(t,t)}i[1].add(t)}function l(e){return"function"==typeof(null==e?void 0:e.then)}function u(e,t,i){if(!i.p.has(e)){i.p.add(e);let r=()=>i.p.delete(e);t.then(r,r)}}function c(e,t,i){var r;let s=new Set;for(let t of(null==(r=i.get(e))?void 0:r.t)||[])i.has(t)&&s.add(t);for(let e of t.p)s.add(e);return s}let h=(e,t,...i)=>t.read(...i),d=(e,t,...i)=>t.write(...i),p=(e,t)=>{var i;return null==(i=t.unstable_onInit)?void 0:i.call(t,e)},f=(e,t,i)=>{var r;return null==(r=t.onMount)?void 0:r.call(t,i)},g=(e,t)=>{let i=A(e),r=i[0],s=i[9],n=r.get(t);return n||(n={d:new Map,p:new Set,n:0},r.set(t,n),null==s||s(e,t)),n},m=e=>{let t=A(e),i=t[1],r=t[3],s=t[4],n=t[5],a=t[6],o=t[13],l=[],u=e=>{try{e()}catch(e){l.push(e)}};do{a.f&&u(a.f);let t=new Set,l=t.add.bind(t);r.forEach(e=>{var t;return null==(t=i.get(e))?void 0:t.l.forEach(l)}),r.clear(),n.forEach(l),n.clear(),s.forEach(l),s.clear(),t.forEach(u),r.size&&o(e)}while(r.size||n.size||s.size);if(l.length)throw AggregateError(l)},v=e=>{let t=A(e),i=t[1],r=t[2],s=t[3],n=t[11],a=t[14],o=t[17],l=[],u=new WeakSet,h=new WeakSet,d=Array.from(s);for(;d.length;){let t=d[d.length-1],s=n(e,t);if(h.has(t)){d.pop();continue}if(u.has(t)){r.get(t)===s.n&&l.push([t,s]),h.add(t),d.pop();continue}for(let e of(u.add(t),c(t,s,i)))u.has(e)||d.push(e)}for(let t=l.length-1;t>=0;--t){let[i,n]=l[t],u=!1;for(let e of n.d.keys())if(e!==i&&s.has(e)){u=!0;break}u&&(a(e,i),o(e,i)),r.delete(i)}},y=(e,t)=>{var i,n;let c,h,d=A(e),p=d[1],f=d[2],g=d[3],m=d[6],v=d[7],y=d[11],_=d[12],b=d[13],w=d[14],S=d[16],E=d[17],k=y(e,t);if(r(k)&&(p.has(t)&&f.get(t)!==k.n||Array.from(k.d).every(([t,i])=>w(e,t).n===i)))return k;k.d.clear();let T=!0;function P(){p.has(t)&&(E(e,t),b(e),_(e))}let O=k.n;try{let n=v(e,t,function(i){var n;if(i===t){let t=y(e,i);if(!r(t))if("init"in i)x(e,i,i.init);else throw Error("no atom init");return s(t)}let o=w(e,i);try{return s(o)}finally{k.d.set(i,o.n),a(k.v)&&u(t,k.v,o),null==(n=p.get(i))||n.t.add(t),T||P()}},{get signal(){return c||(c=new AbortController),c.signal},get setSelf(){return!h&&t.write&&(h=(...i)=>{if(!T)try{return S(e,t,...i)}finally{b(e),_(e)}}),h}});return x(e,t,n),l(n)&&(o(n,()=>null==c?void 0:c.abort()),n.then(P,P)),null==(i=m.r)||i.call(m,t),k}catch(e){return delete k.v,k.e=e,++k.n,k}finally{T=!1,O!==k.n&&f.get(t)===O&&(f.set(t,k.n),g.add(t),null==(n=m.c)||n.call(m,t))}},_=(e,t)=>{let i=A(e),r=i[1],s=i[2],n=i[11],a=[t];for(;a.length;){let t=a.pop(),i=n(e,t);for(let o of c(t,i,r)){let t=n(e,o);s.set(o,t.n),a.push(o)}}},b=(e,t,...i)=>{let r=A(e),n=r[3],a=r[6],o=r[8],l=r[11],u=r[12],c=r[13],h=r[14],d=r[15],p=r[17],f=!0;try{return o(e,t,t=>s(h(e,t)),(i,...r)=>{var s;let o=l(e,i);try{if(i!==t)return b(e,i,...r);{if(!("init"in i))throw Error("atom not writable");let t=o.n,l=r[0];x(e,i,l),p(e,i),t!==o.n&&(n.add(i),null==(s=a.c)||s.call(a,i),d(e,i));return}}finally{f||(c(e),u(e))}},...i)}finally{f=!1}},w=(e,t)=>{var i;let r=A(e),s=r[1],n=r[3],o=r[6],l=r[11],u=r[15],c=r[18],h=r[19],d=l(e,t),p=s.get(t);if(p&&!a(d.v)){for(let[r,s]of d.d)if(!p.d.has(r)){let a=l(e,r);c(e,r).t.add(t),p.d.add(r),s!==a.n&&(n.add(r),null==(i=o.c)||i.call(o,r),u(e,r))}for(let i of p.d||[])if(!d.d.has(i)){p.d.delete(i);let r=h(e,i);null==r||r.t.delete(t)}}},S=(e,t)=>{var i;let r=A(e),s=r[1],n=r[4],a=r[6],o=r[10],l=r[11],u=r[12],c=r[13],h=r[14],d=r[16],p=l(e,t),f=s.get(t);if(!f){for(let i of(h(e,t),p.d.keys()))S(e,i).t.add(t);f={l:new Set,d:new Set(p.d.keys()),t:new Set},s.set(t,f),null==(i=a.m)||i.call(a,t),t.write&&n.add(()=>{let i=!0;try{let r=o(e,t,(...r)=>{try{return d(e,t,...r)}finally{i||(c(e),u(e))}});r&&(f.u=()=>{i=!0;try{r()}finally{i=!1}})}finally{i=!1}})}return f},E=(e,t)=>{var i;let r=A(e),s=r[1],n=r[5],a=r[6],o=r[11],l=r[19],u=o(e,t),c=s.get(t);if(c&&!c.l.size&&!Array.from(c.t).some(e=>{var i;return null==(i=s.get(e))?void 0:i.d.has(t)})){for(let r of(c.u&&n.add(c.u),c=void 0,s.delete(t),null==(i=a.u)||i.call(a,t),u.d.keys())){let i=l(e,r);null==i||i.t.delete(t)}return}return c},x=(e,t,i)=>{let r=A(e)[11],s=r(e,t),a="v"in s,o=s.v;if(l(i))for(let n of s.d.keys())u(t,i,r(e,n));if(s.v=i,delete s.e,!a||!Object.is(o,s.v)){let e;++s.n,l(o)&&(null==(e=n.get(o))?void 0:e[0])&&(e[0]=!1,e[1].forEach(e=>e()))}},k=(e,t)=>s((0,A(e)[14])(e,t)),T=(e,t,...i)=>{let r=A(e),s=r[12],n=r[13],a=r[16];try{return a(e,t,...i)}finally{n(e),s(e)}},P=(e,t,i)=>{let r=A(e),s=r[12],n=r[18],a=r[19],o=n(e,t).l;return o.add(i),s(e),()=>{o.delete(i),a(e,t),s(e)}},O=new WeakMap,A=e=>O.get(e);function C(...e){let t={get:e=>(0,A(t)[21])(t,e),set:(e,...i)=>(0,A(t)[22])(t,e,...i),sub:(e,i)=>(0,A(t)[23])(t,e,i)},i=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},h,d,p,f,g,m,v,y,_,b,w,S,E,x,k,T,P,void 0].map((t,i)=>e[i]||t);return O.set(t,Object.freeze(i)),t}},71714:function(e,t,i){"use strict";i.d(t,{tG:()=>l,tx:()=>n});var r=i(35988);let s=Symbol("");function n(e){let t=(0,r.eU)(e,(i,r,n)=>{let a="function"==typeof n?n(i(t)):n;r(t,a===s?e:a)});return t}let a=e=>"function"==typeof(null==e?void 0:e.then),o=function(e=()=>{try{return window.localStorage}catch(e){return}},t){var i;let r,s,n,o,l={getItem:(t,i)=>{var n,o;let l=e=>{if(r!==(e=e||"")){try{s=JSON.parse(e,void 0)}catch(e){return i}r=e}return s},u=null!=(o=null==(n=e())?void 0:n.getItem(t))?o:null;return a(u)?u.then(l):l(u)},setItem:(t,i)=>{var r;return null==(r=e())?void 0:r.setItem(t,JSON.stringify(i,void 0))},removeItem:t=>{var i;return null==(i=e())?void 0:i.removeItem(t)}};try{n=null==(i=e())?void 0:i.subscribe}catch(e){}return!n&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(n=(t,i)=>{if(!(e()instanceof window.Storage))return()=>{};let r=r=>{r.storageArea===e()&&r.key===t&&i(r.newValue)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}}),n&&(o=n,l.subscribe=(e,t,i)=>o(e,e=>{let r;try{r=JSON.parse(e||"")}catch(e){r=i}t(r)})),l}();function l(e,t,i=o,n){let u=null==n?void 0:n.getOnInit,c=(0,r.eU)(u?i.getItem(e,t):t);return c.onMount=r=>{let s;return r(i.getItem(e,t)),i.subscribe&&(s=i.subscribe(e,r,t)),s},(0,r.eU)(e=>e(c),(r,n,o)=>{let l="function"==typeof o?o(r(c)):o;return l===s?(n(c,t),i.removeItem(e)):a(l)?l.then(t=>(n(c,t),i.setItem(e,t))):(n(c,l),i.setItem(e,l))})}},2146:function(e,t,i){"use strict";i.d(t,{I:()=>a});var r=i(35604);let s=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];var n=i(43075);function a(e,t){let i=!1,a=!0,o={delta:0,timestamp:0,isProcessing:!1},l=()=>i=!0,u=s.reduce((e,i)=>(e[i]=function(e,t){let i=new Set,r=new Set,s=!1,a=!1,o=new WeakSet,l={delta:0,timestamp:0,isProcessing:!1},u=0;function c(t){o.has(t)&&(h.schedule(t),e()),u++,t(l)}let h={schedule:(e,t=!1,n=!1)=>{let a=n&&s?i:r;return t&&o.add(e),a.has(e)||a.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(l=e,s){a=!0;return}s=!0,[i,r]=[r,i],i.forEach(c),t&&n.Q.value&&n.Q.value.frameloop[t].push(u),u=0,i.clear(),s=!1,a&&(a=!1,h.process(e))}};return h}(l,t?i:void 0),e),{}),{setup:c,read:h,resolveKeyframes:d,preUpdate:p,update:f,preRender:g,render:m,postRender:v}=u,y=()=>{let s=r.W.useManualTiming?o.timestamp:performance.now();i=!1,r.W.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(s-o.timestamp,40),1)),o.timestamp=s,o.isProcessing=!0,c.process(o),h.process(o),d.process(o),p.process(o),f.process(o),g.process(o),m.process(o),v.process(o),o.isProcessing=!1,i&&t&&(a=!1,e(y))};return{schedule:s.reduce((t,r)=>{let s=u[r];return t[r]=(t,r=!1,n=!1)=>(!i&&(i=!0,a=!0,o.isProcessing||e(y)),s.schedule(t,r,n)),t},{}),cancel:e=>{for(let t=0;t<s.length;t++)u[s[t]].cancel(e)},state:o,steps:u}}},29568:function(e,t,i){"use strict";i.d(t,{Gt:()=>s,PP:()=>o,WG:()=>n,uv:()=>a});var r=i(65940);let{schedule:s,cancel:n,state:a,steps:o}=(0,i(2146).I)("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:r.l,!0)},43075:function(e,t,i){"use strict";i.d(t,{Q:()=>r});let r={value:null,addProjectionMetrics:null}},61864:function(e,t,i){"use strict";i.d(t,{s:()=>s});var r=i(90180);function s(e){return(0,r.G)(e)&&"offsetHeight"in e}},33181:function(e,t,i){"use strict";function r(e,t,i){if(e instanceof EventTarget)return[e];if("string"==typeof e){let r=document;t&&(r=t.current);let s=i?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}i.d(t,{K:()=>r})},35604:function(e,t,i){"use strict";i.d(t,{W:()=>r});let r={}},90180:function(e,t,i){"use strict";function r(e){return"object"==typeof e&&null!==e}i.d(t,{G:()=>r})},65940:function(e,t,i){"use strict";i.d(t,{l:()=>r});let r=e=>e},50834:function(e,t,i){"use strict";i.d(t,{QP:()=>V});let r=(e,t)=>{if(0===e.length)return t.classGroupId;let i=e[0],s=t.nextPart.get(i),n=s?r(e.slice(1),s):void 0;if(n)return n;if(0===t.validators.length)return;let a=e.join("-");return t.validators.find(({validator:e})=>e(a))?.classGroupId},s=/^\[(.+)\]$/,n=(e,t,i,r)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:a(t,e)).classGroupId=i;return}"function"==typeof e?o(e)?n(e(r),t,i,r):t.validators.push({validator:e,classGroupId:i}):Object.entries(e).forEach(([e,s])=>{n(s,a(t,e),i,r)})})},a=(e,t)=>{let i=e;return t.split("-").forEach(e=>{i.nextPart.has(e)||i.nextPart.set(e,{nextPart:new Map,validators:[]}),i=i.nextPart.get(e)}),i},o=e=>e.isThemeGetter,l=(e,t)=>t?e.map(([e,i])=>[e,i.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,i])=>[t+e,i])):e)]):e,u=e=>{if(e.length<=1)return e;let t=[],i=[];return e.forEach(e=>{"["===e[0]?(t.push(...i.sort(),e),i=[]):i.push(e)}),t.push(...i.sort()),t},c=/\s+/;function h(){let e,t,i=0,r="";for(;i<arguments.length;)(e=arguments[i++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r}let d=e=>{let t;if("string"==typeof e)return e;let i="";for(let r=0;r<e.length;r++)e[r]&&(t=d(e[r]))&&(i&&(i+=" "),i+=t);return i},p=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},f=/^\[(?:([a-z-]+):)?(.+)\]$/i,g=/^\d+\/\d+$/,m=new Set(["px","full","screen"]),v=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,S=e=>x(e)||m.has(e)||g.test(e),E=e=>F(e,"length",L),x=e=>!!e&&!Number.isNaN(Number(e)),k=e=>F(e,"number",x),T=e=>!!e&&Number.isInteger(Number(e)),P=e=>e.endsWith("%")&&x(e.slice(0,-1)),O=e=>f.test(e),A=e=>v.test(e),C=new Set(["length","size","percentage"]),R=e=>F(e,C,U),I=e=>F(e,"position",U),j=new Set(["image","url"]),$=e=>F(e,j,q),M=e=>F(e,"",N),D=()=>!0,F=(e,t,i)=>{let r=f.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):i(r[2]))},L=e=>y.test(e)&&!_.test(e),U=()=>!1,N=e=>b.test(e),q=e=>w.test(e),V=function(e,...t){let i,a,o,d=function(u){let c;return a=(i={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,i=new Map,r=new Map,s=(s,n)=>{i.set(s,n),++t>e&&(t=0,r=i,i=new Map)};return{get(e){let t=i.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){i.has(e)?i.set(e,t):s(e,t)}}})((c=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{separator:t,experimentalParseClassName:i}=e,r=1===t.length,s=t[0],n=t.length,a=e=>{let i,a=[],o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===s&&(r||e.slice(u,u+n)===t)){a.push(e.slice(l,u)),l=u+n;continue}if("/"===c){i=u;continue}}"["===c?o++:"]"===c&&o--}let u=0===a.length?e:e.substring(l),c=u.startsWith("!"),h=c?u.substring(1):u;return{modifiers:a,hasImportantModifier:c,baseClassName:h,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return i?e=>i({className:e,parseClassName:a}):a})(c),...(e=>{let t=(e=>{let{theme:t,prefix:i}=e,r={nextPart:new Map,validators:[]};return l(Object.entries(e.classGroups),i).forEach(([e,i])=>{n(i,r,e,t)}),r})(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:e=>{let i=e.split("-");return""===i[0]&&1!==i.length&&i.shift(),r(i,t)||(e=>{if(s.test(e)){let t=s.exec(e)[1],i=t?.substring(0,t.indexOf(":"));if(i)return"arbitrary.."+i}})(e)},getConflictingClassGroupIds:(e,t)=>{let r=i[e]||[];return t&&a[e]?[...r,...a[e]]:r}}})(c)}).cache.get,o=i.cache.set,d=p,p(u)};function p(e){let t=a(e);if(t)return t;let r=((e,t)=>{let{parseClassName:i,getClassGroupId:r,getConflictingClassGroupIds:s}=t,n=[],a=e.trim().split(c),o="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{modifiers:l,hasImportantModifier:c,baseClassName:h,maybePostfixModifierPosition:d}=i(t),p=!!d,f=r(p?h.substring(0,d):h);if(!f){if(!p||!(f=r(h))){o=t+(o.length>0?" "+o:o);continue}p=!1}let g=u(l).join(":"),m=c?g+"!":g,v=m+f;if(n.includes(v))continue;n.push(v);let y=s(f,p);for(let e=0;e<y.length;++e){let t=y[e];n.push(m+t)}o=t+(o.length>0?" "+o:o)}return o})(e,i);return o(e,r),r}return function(){return d(h.apply(null,arguments))}}(()=>{let e=p("colors"),t=p("spacing"),i=p("blur"),r=p("brightness"),s=p("borderColor"),n=p("borderRadius"),a=p("borderSpacing"),o=p("borderWidth"),l=p("contrast"),u=p("grayscale"),c=p("hueRotate"),h=p("invert"),d=p("gap"),f=p("gradientColorStops"),g=p("gradientColorStopPositions"),m=p("inset"),v=p("margin"),y=p("opacity"),_=p("padding"),b=p("saturate"),w=p("scale"),C=p("sepia"),j=p("skew"),F=p("space"),L=p("translate"),U=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",O,t],V=()=>[O,t],B=()=>["",S,E],W=()=>["auto",x,O],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",O],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[x,O];return{cacheSize:500,separator:":",theme:{colors:[D],spacing:[S,E],blur:["none","",A,O],brightness:Y(),borderColor:[e],borderRadius:["none","","full",A,O],borderSpacing:V(),borderWidth:B(),contrast:Y(),grayscale:Q(),hueRotate:Y(),invert:Q(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[P,E],inset:q(),margin:q(),opacity:Y(),padding:V(),saturate:Y(),scale:Y(),sepia:Q(),skew:Y(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",O]}],container:["container"],columns:[{columns:[A]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),O]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",T,O]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",O]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",T,O]}],"grid-cols":[{"grid-cols":[D]}],"col-start-end":[{col:["auto",{span:["full",T,O]},O]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[D]}],"row-start-end":[{row:["auto",{span:[T,O]},O]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",O]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",O]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",O,t]}],"min-w":[{"min-w":[O,t,"min","max","fit"]}],"max-w":[{"max-w":[O,t,"none","full","min","max","fit","prose",{screen:[A]},A]}],h:[{h:[O,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[O,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[O,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[O,t,"auto","min","max","fit"]}],"font-size":[{text:["base",A,E]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",k]}],"font-family":[{font:[D]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",O]}],"line-clamp":[{"line-clamp":["none",x,k]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",S,O]}],"list-image":[{"list-image":["none",O]}],"list-style-type":[{list:["none","disc","decimal",O]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",S,E]}],"underline-offset":[{"underline-offset":["auto",S,O]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",O]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",O]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),I]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[S,O]}],"outline-w":[{outline:[S,E]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[S,E]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",A,M]}],"shadow-color":[{shadow:[D]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",A,O]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",O]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",O]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",O]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[T,O]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",O]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",O]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",O]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[S,E,k]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}})}}]);